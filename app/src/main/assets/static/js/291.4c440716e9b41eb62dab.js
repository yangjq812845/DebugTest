webpackJsonp([291],{IJFp:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("xcgb-box",[a("xcgb-head",{attrs:{keepAlive:!1,title:"活动详情",leftOptions:[{type:"left_arrow_black"}]}}),t._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"visa-details-content"},[a("div",{staticClass:"visa-details-banner"},[a("img",{attrs:{src:t.img}})]),t._v(" "),a("div",{staticClass:"active-name"},[t._v(t._s(t.list.offerTitle))]),t._v(" "),a("div",{staticClass:"details-active"},[a("div",{staticClass:"active-title"},[t._v("活动时间")]),t._v(" "),a("div",{staticClass:"active-desc"},[t._v(t._s(t._f("timeFormat")(t.list.validityFromDate,t.list.validityFromDate))+"-"+t._s(t._f("timeFormat")(t.list.validityToDate,t.list.validityToDate)))])]),t._v(" "),a("div",{staticClass:"details-active"},[a("div",{staticClass:"active-title"},[t._v("适用卡片")]),t._v(" "),t._l(t.useCard,function(s,e){return a("span",{key:e},[e<t.useCard.length-1?a("span",{staticClass:"active-desc"},[t._v(t._s(t._f("Separate")(s.value,"、")))]):a("span",{staticClass:"active-desc"},[t._v(t._s(s.value))])])})],2),t._v(" "),a("div",{staticClass:"details-active"},[a("div",{staticClass:"active-title"},[t._v("兑换渠道")]),t._v(" "),a("div",{staticClass:"active-desc"},[t._v(t._s(t.exChannel.value))]),t._v(" "),a("a",{attrs:{href:t.url}},[t._v("点击了解更多")])])]),t._v(" "),a("div",{staticClass:"visa-details-list"},[a("div",{staticClass:"details-item"},[a("div",{staticClass:"details_desc-name",class:[t.localShow?"isOpen":""],on:{click:function(s){t.localIsShow()}}},[t._v("所在地")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.localShow,expression:"localShow"}],staticClass:"detials_desc-content"},[a("section")])]),t._v(" "),a("div",{staticClass:"details-item"},[a("div",{staticClass:"details_desc-name",class:[t.detailShow?"isOpen":""],on:{click:function(s){t.detailIsShow()}}},[t._v("条款和细则")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.detailShow,expression:"detailShow"}],staticClass:"detials_desc-content"},[a("section",[t._v("没数据")])])])]),t._v(" "),a("div",{staticClass:"visa-details-disclaimer"},[t._v("免责说明：该页面活动由Visa提供。")])])],1)},i=[],l={render:e,staticRenderFns:i};s.a=l},VPRQ:function(t,s,a){"use strict";var e=a("4YfN"),i=a.n(e),l=a("HVJf");i()({},a.i(l.b)("shareStore",["data"]))},XSbr:function(t,s,a){"use strict";function e(t){a("hae3")}Object.defineProperty(s,"__esModule",{value:!0});var i=(a("VPRQ"),a("pohD")),l=a("IJFp"),n=a("C7Lr"),c=e,o=n(i.a,l.a,!1,c,null,null);s.default=o.exports},hae3:function(t,s){},pohD:function(t,s,a){"use strict";var e=a("4YfN"),i=a.n(e),l=a("HVJf");s.a={name:"details",data:function(){return{detailShow:!1,localShow:!1,list:"",exChannel:"",useCard:"",offerId:"",url:"",img:""}},computed:i()({},a.i(l.b)("shareStore",["data"])),created:function(){this.offerId=this.$store.state.shareStore.data.offerId,this.getDetailInfo()},methods:{localIsShow:function(){this.localShow=!this.localShow},detailIsShow:function(){this.detailShow=!this.detailShow},getDetailInfo:function(){var t=this;window.client.request({url:"/api/MSMH0066.json",adapter:"MPBank",parameters:"[ 'tranCode': 'MSMH0066', 'openChannel': 'MH','srcChannel': \"MH\",\"modState\": \"0\",'offerId':"+this.offerId+"}]",success:function(s){t.list=s.root.cd,t.useCard=t.list.result[1].kColl,t.img=t.list.result[2].kColl.fileLocation,t.exChannel=t.list.result[3].kColl;var a=t.list.redemptionUrl;t.getUrl(a)},error:function(){console.log("接口MSMH0066错误")}})},getUrl:function(t){t&&(this.url=t.substring(t.indexOf("'")+1,t.indexOf(">")-2))}},filters:{Separate:function(t,s){return s=s||"、",t+s},timeFormat:function(t){if(t){return t.substring(0,4)+"年"+t.substring(4,6)+"月"+t.substring(6,8)+"日"}}}}}});