webpackJsonp([84],{"0NkC":function(t,e,a){"use strict";function s(t){a("n4v/")}var i=(a("lcof"),a("Uv5Y")),n=a("ORVi"),o=a("C7Lr"),l=s,u=o(i.a,n.a,!1,l,null,null);e.a=u.exports},"44WN":function(t,e,a){"use strict";e.a=function(){return{options:{type:Array,required:!0},value:[String,Number],fillMode:{type:Boolean,default:!1},fillPlaceholder:{type:String,default:"其他"},fillLabel:{type:String,default:"其他"},disabled:Boolean,selectedLabelStyle:Object}}},"9jb7":function(t,e,a){t.exports=a.p+"static/img/clickon_03.png"},Ah1W:function(t,e,a){"use strict";var s=a("4YfN"),i=a.n(s),n=a("Sarn"),o=a("f4gh"),l=a("jHHs"),u=a("gpPJ"),r=a("CKVb"),c=a("cTn1"),p=a("IXui"),h=a("0NkC"),f=a("sm8H"),d=a("JGLT"),m=a("HVJf");e.a={name:"autoInstal",data:function(){return{showtitleT:!0,showtitleF:!1,show:!1,showToastFlag:!1,text:"",amts:[],amt:"",feeBill:"",feeBills:[],baseFee:"",checkAll:0,buttonStatus:!0,automaticDatas:{},imgURL:[a("KtRM"),a("9jb7")]}},components:{numberComma:n.a,Toast:o.a,Cell:u.a,Group:r.a,PopupRadio:h.a,Popup:c.a,XButton:p.a,Radio:f.a,Confirm:d.a,XDialog:l.a},computed:i()({},a.i(m.b)(["loginStatus","fullRegister"]),{accountNo:function(){return this.$store.getters.getStateKey("WL-Authentication-Success.UserInfoAuthRealm.attributes.data").data.creditCardList[0].accountNo}}),watch:{feeBill:function(t){var e=this.feeBills.findIndex(function(e){return e==t});this.baseFee=this.automaticDatas.resultData_feeValueList[e].baseFee},amt:function(t){this.feeBill=this.feeBills.find(function(t){return"12期"==t})||this.feeBills[this.feeBills.length-1]+"期"}},methods:{showToast:function(t){this.showToastFlag=!0,this.text=t},onHide:function(){this.showToastFlag=!1},goHome:function(){this.$router.push({name:"home_index"})},selectedAll:function(){this.checkAll=this.checkAll?0:1,this.buttonStatus=!this.buttonStatus},toNext:function(){this.show=!this.show},automaticStart:function(){this.automaticDatas.resultData_list_iEppCountFee=[],this.automaticDatas.resultData_list_iEppSMONEY=[],this.automaticDatas.MH0178resultData_list=[],this.automaticDatas.resultData_feeValueList=[],this.automaticDatas.resultData_instalmentsList=[],this.automaticDatas.resultData_tranAmtList=[],this.automaticData(this.accountNo)},goAutoAgree:function(){this.$router.push({name:"automatic_instalment_autoAgree"})},automaticData:function(t){var e=this,a={accountNo:this.accountNo,channel:470,caseType:9900,tranCode:"PB1014"};window.client.request({ifpUrl:"/mp/MP1314.do",url:"/api/PB1014.json",adapter:"CommonAdapter",parameters:a,success:function(t){console.log(5555,t);var a=[],s=[],i=[];if(t.feeValueList)for(var n=0;n<t.feeValueList.length;n++)a.push(t.feeValueList[n]);else e.showToast("系统繁忙，详询95508");if(t.instalmentsList)for(var o=0;o<t.instalmentsList.length;o++)s.push(t.instalmentsList[o]);else e.showToast("系统繁忙，详询95508");if(t.tranAmtList.length>1){console.log("121212data.tranAmtList.length",t.tranAmtList.length);for(var l=0;l<t.tranAmtList.length;l++)i.push(t.tranAmtList[l])}else e.showToast("系统繁忙，详询95508");e.automaticDatas.resultData_feeValueList=a,e.automaticDatas.resultData_instalmentsList=s,e.automaticDatas.resultData_tranAmtList=i,console.log(6666,e.automaticDatas.resultData_feeValueList),console.log(5555,e.automaticDatas),e.automaticMH0178Data(e.accountNo)}})},automaticMH0178Data:function(){var t=this,e={accountNo:this.accountNo,channel:470,tranCode:"MH0178"},a=[];window.client.request({ifpUrl:"/mp/MP1072.do",url:"/api/MH0178.json",adapter:"CommonAdapter",parameters:e,success:function(e){var s=e.custNBR;if(t.automaticDatas.MH0178resultData_list.length>0){console.log("this.automaticDatas.MH0178resultData_list",t.automaticDatas.MH0178resultData_list);var i=t.automaticDatas.MH0178currentDate;console.log(i,678678);var n=t.automaticDatas.MH0178resultData_list[0].expiryDate,o=t.automaticDatas.MH0178resultData_list[0].effectDate;if(Date.parse(i)>=Date.parse(n)||Date.parse(o)==Date.parse(n))a.push(""),t.showtitleT=!1,t.showtitleF=!0;else if(e.queryEppListTemp.length>1)for(var l=0;l<e.queryEppListTemp.length;l++)a.push(e.queryEppListTemp[l]);else a.push(e.queryEppListTemp)}else a.push("");t.automaticDatas.MH0178currentDate=e.currentDate,t.automaticDatas.MH0178resultData_list=a,t.automaticDatas.custNBR=s,t.automaticInitpage()}})},automaticInitpage:function(){if(console.log("1123123this.automaticDatas.resultData_tranAmtList",this.automaticDatas.resultData_tranAmtList),""!=this.automaticDatas.resultData_tranAmtList)for(var t=0;t<this.automaticDatas.resultData_tranAmtList.length;t++)if(""!=this.automaticDatas.resultData_tranAmtList[t]){var e=a.i(n.a)(this.automaticDatas.resultData_tranAmtList[t].tranAmt);this.amts.push(e),this.amt=this.amts[0]}if(this.automaticDatas.resultData_feeValueList)for(var s=0;s<this.automaticDatas.resultData_feeValueList.length;s++){if(!this.automaticDatas.resultData_feeValueList[s].feeBills)return void this.showToast("系统繁忙，详询95508");this.feeBills.push(this.automaticDatas.resultData_feeValueList[s].feeBills+"期"),this.feeBill=this.feeBills.find(function(t){return"12期"==t})||this.feeBills[this.feeBills.length-1]+"期",this.baseFee=this.automaticDatas.resultData_feeValueList[s].baseFee}},sumitAll:function(){var t=this,e=(this.automaticDatas.custNBR,this.feeBill,this.amt.split(".")[0],this.automaticDatas.MH0178currentDate,{custNBR:"custNBR","applayEppList.eppSMONEY":"eppSMONEY","applayEppList.eppCount":"eppCount","applayEppList.effectDate":"MH0178currentDate","applayEppList.expiryDate":"9999-09-31","applayEppList.modiDate":"9999-09-31","applayEppList.channel":"470",tranCode:"MH0135"});void 0==this.automaticDatas.MH0178resultData_list[0].eppcType?e["applayEppList.operateType"]="A":e["applayEppList.operateType"]="M",1==this.showtitleF&&0==this.showtitleT?"N"!=this.automaticDatas.MH0178resultData_list[0].agreeBalance?e["applayEppList.agreeBalance"]="F":e["applayEppList.agreeBalance"]="N":e["applayEppList.agreeBalance"]="F",void 0==this.automaticDatas.MH0178resultData_list[0].eppcType?e["applayEppList.eppcType"]="YY01":e["applayEppList.eppcType"]=this.automaticDatas.MH0178resultData_list[0].eppcType,window.client.request({ifpUrl:"/mp/MP1073.do",url:"/api/MH0135.json",adapter:"CommonAdapter",parameters:e,success:function(e){if(console.log(1e6,e),"0000"==e.responseCode)if(1==t.showtitleF&&0==t.showtitleT){var a={resultDataEC:resultData_ec,Code:"0",resultData:resultData};t.$router.push({name:"automatic_instalment_autoSuccess",pageParams:{pageParams:a}})}else{t.$router.push({name:"automatic_instalment_autoSuccess",pageParams:{pageParams:s}});var s={Code:"1",resultData:e}}else t.showToast(e.hostErrorMessage)}})}},created:function(){console.log(3333,this.accountNo),console.log(4444,this.automaticDatas),this.automaticStart()}}},H6Fq:function(t,e,a){"use strict";function s(t){a("wEhT")}Object.defineProperty(e,"__esModule",{value:!0});var i=(a("MAaG"),a("Ah1W")),n=a("ez4c"),o=a("C7Lr"),l=s,u=o(i.a,n.a,!1,l,null,null);e.default=u.exports},JwlZ:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weui-cells_radio",class:t.disabled?"vux-radio-disabled":""},[t._l(t.options,function(e,s){return a("label",{staticClass:"weui-cell weui-cell_radio weui-check__label",attrs:{for:"radio_"+t.uuid+"_"+s}},[a("div",{staticClass:"weui-cell__bd"},[t._t("each-item",[a("p",[a("img",{directives:[{name:"show",rawName:"v-show",value:e&&e.icon,expression:"one && one.icon"}],staticClass:"vux-radio-icon",attrs:{src:e.icon}}),t._v(" "),a("span",{staticClass:"vux-radio-label",style:t.currentValue===t.getKey(e)?t.selectedLabelStyle||"":""},[t._v(t._s(t._f("getValue")(e)))])])],{icon:e.icon,label:t.getValue(e),index:s,selected:t.currentValue===t.getKey(e)})],2),t._v(" "),a("div",{staticClass:"weui-cell__ft"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"weui-check",attrs:{type:"radio",id:t.disabled?"":"radio_"+t.uuid+"_"+s},domProps:{value:t.getKey(e),checked:t._q(t.currentValue,t.getKey(e))},on:{change:function(a){t.currentValue=t.getKey(e)}}}),t._v(" "),a("span",{staticClass:"weui-icon-checked"})])])}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.fillMode,expression:"fillMode"}],staticClass:"weui-cell"},[a("div",{staticClass:"weui-cell__hd"},[a("label",{staticClass:"weui-label",attrs:{for:""}},[t._v(t._s(t.fillLabel))])]),t._v(" "),a("div",{staticClass:"weui-cell__bd"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.fillValue,expression:"fillValue"}],staticClass:"weui-input needsclick",attrs:{type:"text",placeholder:t.fillPlaceholder},domProps:{value:t.fillValue},on:{blur:function(e){t.isFocus=!1},focus:function(e){t.onFocus()},input:function(e){e.target.composing||(t.fillValue=e.target.value)}}})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:""===t.value&&!t.isFocus,expression:"value==='' && !isFocus"}],staticClass:"weui-cell__ft"},[a("i",{staticClass:"weui-icon-warn"})])])],2)},i=[],n={render:s,staticRenderFns:i};e.a=n},KtRM:function(t,e,a){t.exports=a.p+"static/img/clickout_03.png"},MAaG:function(t,e,a){"use strict";var s=a("4YfN"),i=a.n(s),n=a("Sarn"),o=a("f4gh"),l=a("jHHs"),u=a("gpPJ"),r=a("CKVb"),c=a("cTn1"),p=a("IXui"),h=a("0NkC"),f=a("sm8H"),d=a("JGLT"),m=a("HVJf");n.a,o.a,u.a,r.a,h.a,c.a,p.a,f.a,d.a,l.a,i()({},a.i(m.b)(["loginStatus","fullRegister"]),{accountNo:function(){return this.$store.getters.getStateKey("WL-Authentication-Success.UserInfoAuthRealm.attributes.data").data.creditCardList[0].accountNo}})},ORVi:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("cell",{attrs:{title:t.title,value:t.currentValue,"is-link":!t.readonly,"value-align":t.valueAlign,"border-intent":t.borderIntent},nativeOn:{click:function(e){return t.show(e)}}},[!t.displayValue&&t.placeholder?a("span",{staticClass:"vux-cell-placeholder"},[t._v(t._s(t.placeholder))]):t._e(),t._v(" "),t.displayValue?a("span",{staticClass:"vux-cell-value"},[t._v(t._s(t.displayValue))]):t._e(),t._v(" "),a("span",{attrs:{slot:"icon"},slot:"icon"},[t._t("icon")],2),t._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticStyle:{"background-color":"#fff"},on:{"on-hide":function(e){t.$emit("on-hide")},"on-show":function(e){t.$emit("on-show")}},model:{value:t.showPopup,callback:function(e){t.showPopup=e},expression:"showPopup"}},[t._t("popup-header",null,{options:t.options,value:t.currentValue}),t._v(" "),a("radio",{attrs:{options:t.options,"fill-mode":!1},on:{"on-change":t.onValueChange},scopedSlots:t._u([{key:"each-item",fn:function(e){return[t._t("each-item",[a("p",[a("img",{directives:[{name:"show",rawName:"v-show",value:e.icon,expression:"props.icon"}],staticClass:"vux-radio-icon",attrs:{src:e.icon}}),t._v(" "),a("span",{staticClass:"vux-radio-label"},[t._v(t._s(e.label))])])],{icon:e.icon,label:e.label,index:e.index})]}}]),model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}})],2)],1)])},i=[],n={render:s,staticRenderFns:i};e.a=n},Uv5Y:function(t,e,a){"use strict";var s=a("hRKE"),i=a.n(s),n=a("4YfN"),o=a.n(n),l=a("gpPJ"),u=a("cTn1"),r=a("sm8H"),c=a("44WN"),p=a("Dvzy"),h=a("Jp5S"),f=a("qZvt"),d=a.n(f),m=a.i(p.a)();delete m.value,e.a={name:"popup-radio",components:{Popup:u.a,Radio:r.a,Cell:l.a},directives:{TransferDom:h.a},props:o()({placeholder:String,readonly:Boolean},m,a.i(c.a)()),computed:{displayValue:function(){var t=this;if(!this.options.length)return"";if("object"===i()(this.options[0])){var e=d()(this.options,function(e){return e.key===t.currentValue});if(e)return e.value}return this.currentValue}},methods:{onValueChange:function(t){this.hide()},show:function(){this.readonly||(this.showPopup=!0)},hide:function(){this.showPopup=!1}},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.$emit("input",t),this.$emit("on-change",t)}},data:function(){return{showPopup:!1,currentValue:this.value}}}},dl3a:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return o}),a.d(e,"c",function(){return l});var s=a("hRKE"),i=a.n(s),n=function(t){return"object"===(void 0===t?"undefined":i()(t))?t.value:t},o=function(t){return"object"===(void 0===t?"undefined":i()(t))?t.key:t},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if(!t.length)return e;if("string"==typeof t[0])return e;var a=t.filter(function(t){return t.key===e});return a.length?a[0].value||a[0].label:e}},ez4c:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("xcgb-box",[s("xcgb-head",{directives:[{name:"show",rawName:"v-show",value:t.showtitleT,expression:"showtitleT"}],attrs:{title:"签约自动消费分期",keepAlive:!1,leftOptions:[{type:"left_arrow_black"}],rightOptions:[{type:"index_icon"}]},on:{rightHandler:t.goHome}}),t._v(" "),s("xcgb-head",{directives:[{name:"show",rawName:"v-show",value:t.showtitleF,expression:"showtitleF"}],attrs:{title:"自动消费分期设置",keepAlive:!1,leftOptions:[{type:"left_arrow_black"}],rightOptions:[{type:"index_icon"}]},on:{rightHandler:t.goHome}}),t._v(" "),s("div",{staticClass:"main"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showtitleF,expression:"showtitleF"}],staticClass:"automatic-title"},[s("p",[t._v("您绑定的自动分期业务如下：")])]),t._v(" "),s("div",{staticClass:"automatic-top"},[s("group",[s("popup-radio",{attrs:{title:"交易起分金额",options:t.amts},model:{value:t.amt,callback:function(e){t.amt=e},expression:"amt"}},[s("p",{staticClass:"autoInstal-popup-radio",attrs:{slot:"popup-header"},slot:"popup-header"},[t._v("请选择")])])],1),t._v(" "),s("group",[s("popup-radio",{attrs:{title:"申请分期期数",options:t.feeBills},model:{value:t.feeBill,callback:function(e){t.feeBill=e},expression:"feeBill"}},[s("p",{staticClass:"autoInstal-popup-radio",attrs:{slot:"popup-header"},slot:"popup-header"},[t._v("请选择")])])],1),t._v(" "),s("div",{staticClass:"standard"},[s("p",[t._v("分期基准费率")]),t._v(" "),s("span",[t._v(t._s(t.baseFee))])]),t._v(" "),s("div",{staticClass:"agreement"},[s("img",{staticClass:"pic",attrs:{src:t.imgURL[t.checkAll]},on:{click:function(e){t.selectedAll()}}}),t._v(" "),s("p",[t._v("已阅读并同意"),s("span",{on:{click:function(e){t.goAutoAgree()}}},[t._v("《自动消费分期协议》")])])])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showtitleT,expression:"showtitleT"}],staticClass:"reminder"},[s("h4",[s("img",{attrs:{src:a("lCER")}}),t._v("温馨提示：")]),t._v(" "),s("p",[t._v("1、申请绑定自动分期通过审核后，您名下所有符合办理条件的信用卡都将绑定自动消费分期；")]),t._v(" "),s("p",[t._v("\n        2、分期成功办理后消费额度占用情况，以审核为准。\n      ")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showtitleT,expression:"showtitleT"}],staticClass:"nextStep"},[s("p",[t._v("*即日后产生的交易将按照约定为您自动申请分期")]),t._v(" "),s("x-button",{staticClass:"finish",attrs:{type:"warn",disabled:t.buttonStatus},nativeOn:{click:function(e){return t.toNext(e)}}},[t._v("下一步")])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showtitleF,expression:"showtitleF"}],staticClass:"nextStep"},[s("p",[t._v("*即日后产生的交易将按照约定为您自动申请分期")]),t._v(" "),s("x-button",{staticClass:"finish",attrs:{type:"warn",disabled:t.buttonStatus},nativeOn:{click:function(e){return t.toNext(e)}}},[t._v("保存")])],1),t._v(" "),s("confirm",{model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[s("div",{staticClass:"popout"},[s("img",{staticClass:"close",attrs:{src:a("uZk5")},on:{click:t.toNext}}),t._v(" "),s("div",{staticClass:"popoutTitle"},[s("img",{attrs:{src:a("x5a5")}}),t._v(" "),s("p",[t._v("请确认申请信息")])]),t._v(" "),s("group",[s("cell",{attrs:{title:"交易起分金额"},model:{value:t.amt,callback:function(e){t.amt=e},expression:"amt"}}),t._v(" "),s("cell",{attrs:{title:"申请分期期数"},model:{value:t.feeBill,callback:function(e){t.feeBill=e},expression:"feeBill"}}),t._v(" "),s("cell",{attrs:{title:"分期基准费率"}},[t._v(t._s(t.baseFee)+"%")]),t._v(" "),s("cell",{attrs:{title:"(分期基准费率仅供参考，请以扣费时的实际费率为准)"}})],1),t._v(" "),s("x-button",{staticClass:"check",attrs:{type:"warn"},nativeOn:{click:function(e){return t.sumitAll(e)}}},[t._v("保存")])],1)]),t._v(" "),s("toast",{attrs:{value:t.showToastFlag,type:"text",width:"auto"},on:{"on-hide":t.onHide}},[s("p",{staticClass:"tips"},[t._v(t._s(t.text))])])],1)],1)},i=[],n={render:s,staticRenderFns:i};e.a=n},jf31:function(t,e,a){"use strict";function s(t,e){for(var a=t.length;a--;)if(t[a]===e)return!0;return!1}var i=a("qWCq"),n=a("dl3a"),o=a("44WN");e.a={name:"radio",mixins:[i.a],filters:{getValue:n.a,getKey:n.b},props:a.i(o.a)(),created:function(){this.handleChangeEvent=!0},methods:{getValue:n.a,getKey:n.b,onFocus:function(){this.currentValue=this.fillValue||"",this.isFocus=!0}},watch:{value:function(t){this.currentValue=t},currentValue:function(t){var e=s(this.options,t);""!==t&&e&&(this.fillValue=""),this.$emit("on-change",t,a.i(n.c)(this.options,t)),this.$emit("input",t)},fillValue:function(t){this.fillMode&&this.isFocus&&(this.currentValue=t)}},data:function(){return{fillValue:"",isFocus:!1,currentValue:this.value}}}},lCER:function(t,e,a){t.exports=a.p+"static/img/tip.png"},lcof:function(t,e,a){"use strict";var s=a("hRKE"),i=a.n(s),n=a("4YfN"),o=a.n(n),l=a("gpPJ"),u=a("cTn1"),r=a("sm8H"),c=a("44WN"),p=a("Dvzy"),h=a("Jp5S"),f=a("qZvt"),d=a.n(f),m=a.i(p.a)();delete m.value;u.a,r.a,l.a,h.a,o()({placeholder:String,readonly:Boolean},m,a.i(c.a)())},"n4v/":function(t,e){},qZvt:function(t,e,a){"use strict";function s(t,e,a){if("function"==typeof Array.prototype.find)return t.find(e,a);a=a||this;var s,i=t.length;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(s=0;s<i;s++)if(e.call(a,t[s],s,t))return t[s]}t.exports=s},qyAu:function(t,e,a){"use strict";function s(t,e){for(var a=t.length;a--;)if(t[a]===e)return!0;return!1}var i=a("qWCq"),n=a("dl3a"),o=a("44WN");i.a,n.a,n.b,a.i(o.a)(),n.a,n.b},r36s:function(t,e){},sm8H:function(t,e,a){"use strict";function s(t){a("r36s")}var i=(a("qyAu"),a("jf31")),n=a("JwlZ"),o=a("C7Lr"),l=s,u=o(i.a,n.a,!1,l,null,null);e.a=u.exports},uZk5:function(t,e,a){t.exports=a.p+"static/img/nav_icon_close.png"},wEhT:function(t,e){},x5a5:function(t,e,a){t.exports=a.p+"static/img/shuoming.png"}});