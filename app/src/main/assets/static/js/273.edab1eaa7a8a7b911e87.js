webpackJsonp([273],{"+WGZ":function(t,e,r){"use strict";function i(t){r("Lxgv")}Object.defineProperty(e,"__esModule",{value:!0});var n=(r("DSCW"),r("GsGq")),a=r("UA5h"),s=r("C7Lr"),o=i,c=s(n.a,a.a,!1,o,null,null);e.default=c.exports},DSCW:function(t,e,r){"use strict";var i=r("IHPB"),n=r.n(i),a=r("3cXf"),s=r.n(a),o=r("gpPJ"),c=r("CKVb"),u=r("4s6/"),l=(r("HVJf"),r("etLa"));c.a,o.a,u.a},GsGq:function(t,e,r){"use strict";var i=r("IHPB"),n=r.n(i),a=r("3cXf"),s=r.n(a),o=r("gpPJ"),c=r("CKVb"),u=r("4s6/"),l=(r("HVJf"),r("etLa"));e.a={name:"securityHome",data:function(){return{flag:!1,yinlianFlag:!1,creditCardList:"",defaultCardNo:""}},computed:{getUserInfo:function(){return this.$store.getters.getStateKey("WL-Authentication-Success.UserInfoAuthRealm.attributes.data").data}},components:{Group:c.a,Cell:o.a,XSwitch:u.a},methods:{goPsdManage:function(){this.$router.push({name:"security_center_psdManage"})},goPaySettings:function(){var t=this;if(this.$store.state.fullRegister){var e=JSON.parse(localStorage.getItem("MH0348_pswdStatus"));if(e&&e.pswdStatus&&e.mobileNo==this.getUserInfo.mobileNo)return this.flag=!0,this.$store.commit("securityCenterStore/setFlag",!0),void this.$router.push({name:"paySetting_relaxPay"});window.client.request({url:"/api/MH0348.json",ifpUrl:"/mp/MP1148.do",adapter:"CommonAdapter",funName:"second_MH0348",procedure:"MH0348",isRealtime:!0,parameters:{tranCode:"MH0348",transferFlowNoNew:(new Date).getTime()+(Math.random()+"00000000000").substr(2,9),customerId:this.getUserInfo.customerId,mobileNo:this.getUserInfo.mobileNo},success:function(e){t.flag="00"==e.pswdStatus,t.$store.commit("securityCenterStore/setFlag",t.flag),localStorage.setItem("MH0348_pswdStatus",s()({pswdStatus:t.flag,mobileNo:t.getUserInfo.mobileNo})),t.$router.push({name:"paySetting_relaxPay"})}})}else this.$router.push({name:"cdbank_add_credit"})},goSecurityTools:function(){this.$store.state.fullRegister?this.$store.state.loginStatus&&this.$router.push({name:"security_center_securityTools"}):this.$router.push({name:"cdbank_add_credit"})},goSecurityGuard:function(){if(this.$store.state.fullRegister)if(""==this.creditCardList||void 0==this.creditCardList){var t=this;this.$vux.confirm.show({confirmText:"添加",content:"尊敬的用户，您还未添加我行信用卡，请先进行添加。",onConfirm:function(){t.$router.push({name:"cdbank_add_credit"})}})}else{var e=l.a.formatCard(this.defaultCardNo,this.creditCardList);this.$router.push({name:"security_guard_openSecurityGuard",params:{guardCurrentCardNo:this.defaultCardNo,guardCardNameAndcardNo:e}})}else this.$router.push({name:"cdbank_add_credit"})},onChange:function(){this.$store.state.fullRegister?this.yinlianFlag?this.$router.push({name:"security_center_closeCode"}):this.$router.push({name:"security_center_openCode"}):this.$router.push({name:"cdbank_add_credit"})},goInstantPass:function(){if(this.$store.state.fullRegister)if(""==this.creditCardList||void 0==this.creditCardList){var t=this;this.$vux.confirm.show({confirmText:"添加",content:"尊敬的用户，您还未添加我行信用卡，请先进行添加。",onConfirm:function(){t.$router.push({name:"cdbank_add_credit"})}})}else{var e=l.a.formatCard(this.defaultCardNo,this.creditCardList);this.$router.push({name:"instant_remind_instantPass",params:{guardCurrentCardNo:this.defaultCardNo,guardCardNameAndcardNo:e}})}else this.$router.push({name:"cdbank_add_credit"})},goPeriodChange:function(){this.$store.state.fullRegister?this.$router.push({name:"security_center_periodChange"}):this.$router.push({name:"cdbank_add_credit"})},goHome:function(){this.$router.push({name:"home_site"})}},created:function(){var t=this;this.creditCardList=[].concat(n()(this.getUserInfo.creditCardList)),this.defaultCardNo=this.getUserInfo.defaultAccountNo;var e="yinlian_"+this.getUserInfo.mobileNo;"true"!=localStorage.getItem(e)?window.client.request({url:"/api/second_MH0417.json",ifpUrl:"/mp/MP1163.do",adapter:"CommonAdapter",funName:"second_MH0417",procedure:"MH0417",isLogin:"true",isRealtime:!0,parameters:{tranCode:"MH0417",srcChannel:"MH",transferFlowNoNew:"",mobileNo:"",customerId:""},success:function(e){"1"==e.switchStatus?t.yinlianFlag=!0:t.yinlianFlag=!1},processException:function(e){t.yinlianFlag=!1}}):window.client.request({url:"/api/second_MH0418.json",ifpUrl:"/mp/MP1164.do",adapter:"CommonAdapter",funName:"second_MH0418",procedure:"MH0418",isLogin:"true",isRealtime:!0,parameters:{tranCode:"MH0418",srcChannel:"MH",transferFlowNoNew:"",mobileNo:"15212341234",customerId:"",switchStatus:"1"},success:function(r){localStorage.setItem(e,"false"),t.yinlianFlag=!0},processException:function(e){t.yinlianFlag=!0}})}}},Lxgv:function(t,e){},UA5h:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("xcgb-box",[r("xcgb-head",{attrs:{title:"安全中心",keepAlive:!1,leftOptions:[{type:"left_arrow_black",preventGoBack:!0}]},on:{leftHandler:t.goHome}}),t._v(" "),r("div",{staticClass:"main"},[r("group",[r("cell",{attrs:{title:"密码管理","is-link":""},nativeOn:{click:function(e){return t.goPsdManage(e)}}}),t._v(" "),r("cell",{attrs:{title:"支付设置","is-link":""},nativeOn:{click:function(e){return t.goPaySettings(e)}}}),t._v(" "),r("cell",{attrs:{title:"安全工具","is-link":""},nativeOn:{click:function(e){return t.goSecurityTools(e)}}})],1),t._v(" "),r("group",[r("cell",{attrs:{title:"安全卫士","is-link":""},nativeOn:{click:function(e){return t.goSecurityGuard(e)}}}),t._v(" "),r("x-switch",{attrs:{title:"银联扫码","inline-desc":"银联扫码支付，安全快捷"},nativeOn:{click:function(e){return t.onChange(e)}},model:{value:t.yinlianFlag,callback:function(e){t.yinlianFlag=e},expression:"yinlianFlag"}}),t._v(" "),r("cell",{attrs:{title:"瞬时通","is-link":""},nativeOn:{click:function(e){return t.goInstantPass(e)}}}),t._v(" "),r("cell",{attrs:{title:"修改证件有效期","inline-desc":"更新客户身份证有效期","is-link":""},nativeOn:{click:function(e){return t.goPeriodChange(e)}}})],1)],1)],1)},n=[],a={render:i,staticRenderFns:n};e.a=a},etLa:function(t,e,r){"use strict";e.a={formatCard:function(t,e){var r="";""!=t&&void 0!=t||(t=e[e.length-1].accountNo);for(var i=0;i<e.length;i++)e[i].accountNo==t&&(r=e[i].cardType);return r=void 0==r?"广发信用卡":r,__Vue__.$store.getters.getProtect(t)+" "+r}}}});