webpackJsonp([281],{"+7mQ":function(t,a,e){"use strict";var n=e("4YfN"),s=e.n(n),r=e("HVJf"),o=e("fvyU"),i=e("IXui"),c=e("gpPJ"),m=e("CKVb"),l=e("f4gh"),p=e("JGLT"),d=e("n3tt");a.a={name:"needCash",data:function(){return{rootPath:"http://localhost:8081/mock/public",showComfirm:!1,showToastFlag:!1,share_apply:!1,largerTimes:"",wantAmt:"",minAmt:"",maxAmt:"",text:"",eppc:""}},computed:s()({},e.i(r.b)("needcashStore",["data"]),{status:function(){return!/^([1-9][0-9]*\,)+\d+(.[0-9]{1,2})*$/.test(this.wantAmt)},getUserInfo:function(){return this.$store.getters.getStateKey("WL-Authentication-Success.UserInfoAuthRealm.attributes.data,")}}),components:{Group:m.a,Cell:c.a,XInput:o.a,XButton:i.a,Confirm:p.a,Toast:l.a},methods:{cdbank_i_need_cash_view01_eppc_params:function(){var t=i_need_cash_param.general.scardFlag;if("1"==t){console.log("卡激活");var a=i_need_cash_param.general.dataroot05;"0100"==i_need_cash_param.general.dataroot05.cd.responseCode?(console.log("被拒绝"),this.minAmt=1e3,this.maxAmt="",this.largerTimes=1e3,console.log(this.maxAmt)):(console.log("未拒绝"),this.minAmt=a.cd.minAmt,this.maxAmt=a.cd.sugFullLimit,this.largerTimes=1==a.cd.largerTimes?100:2==a.cd.largerTimes?1e3:"1")}else if("0"==t){console.log("卡未激活");var e=i_need_cash_param.general.data_root02,n=i_need_cash_param.general.data_root03;this.minAmt=e.minAmt,this.maxAmt=n.awardBalance,this.largerTimes=1==e.largerTimes?100:2==e.largerTimes?1e3:"1"}return i_need_cash_param.share.eppc_share_card&&(this.share_apply=!0),this.data.largerTimes=this.largerTimes,this.data.maxAmount=this.maxAmt,this.data.minAmount=this.minAmt,{cash_min:this.minAmt,cash_max:this.maxAmt,cash_largerTimes:this.largerTimes,share_apply:this.share_apply}},cdbank_i_need_cash_view01_reuse_page:function(t){var t=this.cdbank_i_need_cash_view01_eppc_params(),a=t.share_apply,e=(t.cash_largerTimes,changeMoney(t.cash_max,!0)),n=changeMoney(t.cash_min,!0);console.log(e),console.log(n),a?""==t.cash_max||t.cash_max<t.cash_min?this.eppc="/needcash/eppc_share.png":t.cash_max>t.cash_min&&(this.eppc="/needcash/eppc_all.png"):this.eppc="/needcash/eppc_general.png"},showToast:function(t){this.showComfirm=!0,this.text=t},goReceipt:function(){},onBlur:function(){var t=Number(this.wantAmt),a=Number(this.minAmt),e=Number(this.maxAmt),n=this.largerTimes,s=/^[1-9]+\d*$/;s.test(this.wantAmt)&&t>a&&t<e&&(this.wantAmt=changeMoneyMode1(parseInt(t/n)*n)),s.test(this.wantAmt)&&t<=a&&(this.wantAmt=changeMoneyMode1(this.minAmt)),s.test(this.wantAmt)&&t>=e&&(this.wantAmt=changeMoneyMode1(this.maxAmt)),this.data.i_need_cash_param=i_need_cash_param},next:function(){checkAmt>=this.maxAmt?this.$router.push({name:"cdbank_eppc_share"}):this.$router.push({name:"cdbank_eppc_general"})}},created:function(){var t=d.a.cardList();d.a.queryCardActivate(t)}}},SJdr:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("xcgb-box",[e("xcgb-head",{attrs:{title:"我要现金",keepAlive:!1,leftOptions:[{type:"left_arrow_black"}],rightOptions:[{type:"text",str:"收款名册"}]},on:{rightHandler:t.goReceipt}}),t._v(" "),e("div",{staticClass:"main"},[e("group",[e("cell",{staticClass:"browTips",attrs:{title:"可以借多少（元）"}}),t._v(" "),"/needcash/eppc_general.png"!==this.eppc?e("cell",{staticClass:"warrant",attrs:{value:"需授权征信"}}):t._e(),t._v(" "),e("img",{staticClass:"eppc",attrs:{src:t.rootPath+t.eppc,alt:"财智金图片"}}),t._v(" "),e("div",{staticClass:"Tips"},[e("p",{staticClass:"TipsOne"},[t._v("¥\n          "),e("span",{model:{value:t.minAmt,callback:function(a){t.minAmt=a},expression:"minAmt"}},[t._v(t._s(t.minAmt))])]),t._v(" "),"/needcash/eppc_general.png"==this.eppc||"/needcash/eppc_all.png"==this.eppc?e("p",{staticClass:"TipsTwo"},[t._v("¥\n          "),e("span",{model:{value:t.maxAmt,callback:function(a){t.maxAmt=a},expression:"maxAmt"}},[t._v(t._s(t.maxAmt))])]):e("p",{staticClass:"TipsThree"},[t._v("更高金额")])])],1),t._v(" "),e("div",{staticClass:"userWant"},[e("div",{staticClass:"want"},[e("label",[t._v("¥")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.wantAmt,expression:"wantAmt"}],attrs:{maxlength:"7",placeholder:"请输入金额"},domProps:{value:t.wantAmt},on:{blur:function(a){t.onBlur()},input:function(a){a.target.composing||(t.wantAmt=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"inputTips"},[t._v("请输入"+t._s(t.largerTimes)+"的整数倍")])]),t._v(" "),e("x-button",{attrs:{"action-type":"button",disabled:t.status},nativeOn:{click:function(a){return t.next(a)}}},[t._v("下一步")]),t._v(" "),e("confirm",{staticClass:"clean",model:{value:t.showComfirm,callback:function(a){t.showComfirm=a},expression:"showComfirm"}},[e("p",{staticClass:"tipsCnt"},[t._v(t._s(t.text))])])],1)],1)},s=[],r={render:n,staticRenderFns:s};a.a=r},k703:function(t,a){},mCJe:function(t,a,e){"use strict";var n=e("4YfN"),s=e.n(n),r=e("HVJf"),o=e("fvyU"),i=e("IXui"),c=e("gpPJ"),m=e("CKVb"),l=e("f4gh"),p=e("JGLT"),d=e("n3tt");s()({},e.i(r.b)("needcashStore",["data"]),{status:function(){return!/^([1-9][0-9]*\,)+\d+(.[0-9]{1,2})*$/.test(this.wantAmt)},getUserInfo:function(){return this.$store.getters.getStateKey("WL-Authentication-Success.UserInfoAuthRealm.attributes.data,")}}),m.a,c.a,o.a,i.a,p.a,l.a},n3tt:function(t,a,e){"use strict";a.a={getUserInfo:function(){return __Vue__.$store.getters.getStateKey("WL-Authentication-Success.UserInfoAuthRealm.attributes.data").data},cardList:function(t,a){var e=__Vue__.$store.getters.enableInstalment(),n=void 0,s={normal:[]};if(""!=e&&void 0!=e&&null!=e){s.normal=s.normal.concat(_.transform(e,function(t,a){var e=a.cardType,n=a.accountNo,s=a.flag,r=void 0===s?null:s,o=a.accountType;t.push({iconType:"CGB",key:"广发"+e+" ("+n.slice(n.length-4)+")",value:n,flag:r,accountType:o})})),n=t?_.findIndex(s.normal,{value:t}):a?_.findIndex(s.normal,{value:a}):"0";var r=s.normal[n];return s.normal[n].selected=!0,{cardArr:s,curCard:r}}console.log(1111111111),__Vue__.$vux.confirm.show({content:"尊敬的用户，您尚未添加本行信用卡，是否现在添加？",onConfirm:function(){__Vue__.$router.push({name:"cdbank_add_credit"})},onCancel:function(){__Vue__.$router.push({name:"home_fance"})}})},queryCardActivate:function(t,a){var e=this;console.log(a);var n={},s={cardNo:t};window.client.request({url:"/api/MH0101.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0101",params:s,success:function(s){console.log("查询卡号是否激活接口"),n.scardFlag_index=s.cd.cardFlag,n.general_accountNo=t,n.callback=a,e.warmPrompt(n)}})},warmPrompt:function(t){var a=this;console.log(t);var e={pactNo:"MH100048"};window.client.request({url:"/api/MH0016_general.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0016",params:e,success:function(e){console.log("温馨提示"),t.pactText=e.pactText,"1"==t.scardFlag_index?a.agreementActivate(t):a.inactivatedApply(t)}})},agreementActivate:function(t){var a=this;console.log("已激活卡号，资金用途");var e={};window.client.request({url:"/api/MH0104_general.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0104",params:e,success:function(e){var n=_(e.iEppcUse).map("purpose").value();t.iEppcUse_index=n,a.activateApply(t)}})},queryFeeRate:function(t){var a=this,e=t.accountNo,n=(this.getUserInfo.customerId,{accountNo:e});window.client.request({url:"/api/MH0180.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0180",params:n,success:function(e){var n=e.feeValueListA;0!=n.length?(t.dataroot80_index=n,a.receiptRegister(t)):a.$vux.toast.show("集合为空")}})},receiptRegister:function(t){var a=this;window.client.request({url:"/api/MH0108.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0108",params:params80,success:function(e){var n=e;t.dataroot08_index=n;var s=s(t),r=s.data_paragms;if("Y"==s.rtfbSiStmtProjEchalOptionOne){var o={projofNum:"2"};"1"==r.scardFlag?(o.srcCaseId=dataroot05_index.srcCaseId,a.activateApply(t,o,r)):a.inactivatedApply(t,o,r)}else eppc_measure_parm={rtfbSiStmtProjCount:"",rtfbSiStmtProjEchalOptionOne:"",rtfbSiStmtProjOfDesOne:"",rtfbSiStmtProjOfDesTwo:"",meausreList_first:"",meausreList_second:"",defaultPer:"",defaultMeas:"",scardFlag:""},t.callback.call(a,r)}})},activateApply:function(t,a,e){var n=this;console.log("已激活预申请接口"),console.log(t);var s=(this.getUserInfo.customerId,t.general_accountNo),r={accountNo:s};void 0!=a&&""!=a?(r.projofNum=a.projofNum,r.srcCaseId=a.srcCaseId):(r.projofNum="1",r.srcCaseId=""),window.client.request({url:"/api/MH0105.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0105",params:r,success:function(s){var r=void 0,o=void 0;if(void 0!=a&&""!=a?r=s:o=s,void 0!=a&&""!=a){var i=standardData(r.cd,"BP0033DetailList").result.kColl;eppc_measure_parm.rtfbSiStmtProjOfDesTwo=r.cd.rtfbSiStmtProjOfDesTwo,eppc_measure_parm.meausreList_second=i,t.callback.call(n,e)}else t.dataroot05_index=o,n.queryFeeRate(t)}})},inactivatedApply:function(){console.log("未激活预申请接口")},jumpPageparams:function(t){var a,e;return"1"==t.scardFlag_index?(a={scardFlag:t.scardFlag_index,iEppcUse:t.iEppcUse_index,dataroot05:t.dataroot05_index,dataroot80:t.dataroot80_index,pactText:t.pactText01,general_accountNo:t.general_accountNo,dataroot08:t.dataroot08_index},e=t.dataroot05_index.cd.rtfbSiStmtProjEchalOptionOne):(a={scardFlag:t.scardFlag_index,data_root02:t.data_root02_index,data_root03:t.data_root03_index,pactText:t.pactText01,dataroot08:t.dataroot08_index,general_accountNo:t.general_accountNo},e=t.data_root02_index.proj_echal_option),{data_paragms:a,rtfbSiStmtProjEchalOptionOne:e}},general_goPage:function(t){console.log("1111111111")}}},piq0:function(t,a,e){"use strict";function n(t){e("k703")}Object.defineProperty(a,"__esModule",{value:!0});var s=(e("mCJe"),e("+7mQ")),r=e("SJdr"),o=e("C7Lr"),i=n,c=o(s.a,r.a,!1,i,null,null);a.default=c.exports}});