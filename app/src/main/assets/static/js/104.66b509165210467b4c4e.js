webpackJsonp([104],{"1Aa/":function(t,e,n){var a=n("adiS"),o=n("biYF")("iterator"),r=n("ZVlJ");t.exports=n("AKd3").isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||r.hasOwnProperty(a(e))}},"2oyR":function(t,e,n){"use strict";var a=n("HzJ8"),o=n.n(a),r=n("a3Yh"),s=n.n(r),i=n("mqrw"),c=n("JGLT"),d=n("IXui"),u=n("lVae"),l=n("s19d");i.a,l.a,c.a,d.a},"7Egj":function(t,e,n){"use strict";var a=n("HzJ8"),o=n.n(a),r=n("KH7x"),s=n.n(r);Object},DrkA:function(t,e){},KH7x:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n("MGgt"),r=a(o),s=n("HzJ8"),i=a(s);e.default=function(){function t(t,e){var n=[],a=!0,o=!1,r=void 0;try{for(var s,c=(0,i.default)(t);!(a=(s=c.next()).done)&&(n.push(s.value),!e||n.length!==e);a=!0);}catch(t){o=!0,r=t}finally{try{!a&&c.return&&c.return()}finally{if(o)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},MGgt:function(t,e,n){t.exports={default:n("hWTF"),__esModule:!0}},XA1t:function(t,e,n){t.exports=n.p+"static/img/changeIcon.png"},YtGJ:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"selectCardBox"},[a("span",[t._v(t._s(t.selectedCard.key))]),t._v(" "),a("img",{staticClass:"changeIcon",attrs:{src:n("XA1t")},on:{click:t.selectCard}})])},o=[],r={render:a,staticRenderFns:o};e.a=r},cGlR:function(t,e,n){t.exports=n.p+"static/img/52_03.png"},hWTF:function(t,e,n){n("A1pn"),n("IsPG"),t.exports=n("1Aa/")},jDTh:function(t,e,n){"use strict";function a(t){n("mbdD")}Object.defineProperty(e,"__esModule",{value:!0});var o=(n("2oyR"),n("wlWc")),r=n("mN27"),s=n("C7Lr"),i=a,c=s(o.a,r.a,!1,i,null,null);e.default=c.exports},lLRn:function(t,e,n){t.exports=n.p+"static/img/exclamation_point2.png"},lVae:function(t,e,n){"use strict";function a(t){var e="";switch(t){case 0:e="一次性不定向捐赠";break;case 1:e="一次性定向捐赠";break;case 2:e="每月定额捐赠";break;case 3:e="每月定额定向捐赠";break;case"一次性不定向捐赠":e=0;break;case"一次性定向捐赠":e=1;break;case"每月定额捐赠":e=2;break;case"每月定额定向捐赠":e=3;break;default:e=""}return e}e.a=a},mN27:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("xcgb-box",[a("xcgb-head",{attrs:{title:"我的定额",keepAlive:!1,leftOptions:[{type:"left_arrow_black"}]}}),t._v(" "),a("div",{staticClass:"main"},[a("confirm",{on:{"on-confirm":t.toAddCard},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",[a("p",[t._v("您当前没有符合条件的信用卡，不能使用该业务")])])]),t._v(" "),a("select-card",{attrs:{getUserInfo:t.getUserInfo},on:{select:t.handleSelectCard}}),t._v(" "),t._l(t.donateInfo,function(e,o){return t.show2?a("div",[a("div",[a("div",{staticClass:"header"},[a("img",{attrs:{src:n("cGlR")}}),t._v(" "),a("span",[t._v(t._s(t.dtypename[o]))]),t._v(" "),a("div",{staticClass:"btn"},[a("x-button",{attrs:{type:"warn"},nativeOn:{click:function(n){t.update(e)}}},[t._v("修改")]),t._v(" "),a("x-button",{attrs:{type:"warn"},nativeOn:{click:function(n){t.cancle(e)}}},[t._v("取消")])],1)]),t._v(" "),a("div",{staticClass:"donate_quota_list"},[a("div",[a("span",[t._v("捐赠账户")]),t._v(" "),a("span",[t._v("6225****8899")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.projIsShow,expression:"item.projIsShow"}]},[a("span",[t._v("捐赠项目")]),t._v(" "),a("span",[t._v(t._s(e.donateProjName))])]),t._v(" "),a("div",[a("span",[t._v("捐赠金额")]),t._v(" "),a("span",[t._v("¥"+t._s(e.donateAmt))])])])])]):a("div",{staticClass:"donate-quota-nodata"},[a("img",{attrs:{src:n("nzyy")}}),t._v(" "),a("p",[t._v("暂无定额捐赠信息")])])})],2),t._v(" "),a("footer",[a("div",{staticClass:"footer"},[a("span",{on:{click:t.toIntegral}},[t._v("积分捐赠")]),t._v(" "),a("p",{on:{click:t.toFund}},[t._v("款项捐赠")])])]),t._v(" "),a("alert",{on:{"on-hide":t.toCancle},model:{value:t.cancleShow,callback:function(e){t.cancleShow=e},expression:"cancleShow"}},[a("div",{staticClass:"cancle-hint"},[a("img",{attrs:{src:n("lLRn")}}),t._v(" "),a("span",[t._v("确认取消该笔定额捐赠？")])])])],1)},o=[],r={render:a,staticRenderFns:o};e.a=r},mbdD:function(t,e){},nzyy:function(t,e,n){t.exports=n.p+"static/img/mall_title_red.png"},s19d:function(t,e,n){"use strict";function a(t){n("DrkA")}var o=(n("7Egj"),n("y5X8")),r=n("YtGJ"),s=n("C7Lr"),i=a,c=s(o.a,r.a,!1,i,null,null);e.a=c.exports},wlWc:function(t,e,n){"use strict";var a=n("HzJ8"),o=n.n(a),r=n("a3Yh"),s=n.n(r),i=n("mqrw"),c=n("JGLT"),d=n("IXui"),u=n("lVae"),l=n("s19d");e.a={name:"quota",components:{Alert:i.a,selectCard:l.a,Confirm:c.a,XButton:d.a},data:function(){return{show:!1,show2:!0,donateInfo:[],dtypename:[],cancleShow:!1,result:[],cd:""}},computed:{getUserInfo:function(){return this.$store.getters.getStateKey("WL-Authentication-Success.UserInfoAuthRealm.attributes.data").data}},methods:{toAddCard:function(){this.$router.push({name:"cdbank_add_credit"})},toCancle:function(){this.$router.push({name:"donate_quota_donateCancle",params:this.result})},update:function(t){var e,n=(e={CARDNBR:this.cd.CARDNBR,donateCode:this.cd.donateCode,donateTrueCode:this.cd.donateTrueCode,donateAmt:t.donateAmt},s()(e,"donateCode",t.donateCode),s()(e,"donateProj",t.donateProj),s()(e,"donateType",t.donateType),s()(e,"donateProjName",t.donateProjName),e);this.$router.push({name:"donate_quota_donateUpdate",params:n})},cancle:function(t){var e=this;this.cancleShow=!0;var n=t.donateProj,a={tranCode:"MH0152",srcChannel:"MH",customerId:this.getUserInfo.customerId,CARDNBR:this.cd.CARDNBR,donateAmt:t.donateAmt,donateType:t.donateType,donateCode:""};n&&""!=n&&(a.donateProj=n),window.client.request({url:"/api/MH0152.json",encrypt:!0,isLogin:!0,funName:"second_MH0152",adapter:"CommonAdapter",params:a,success:function(t){e.result=t.invocationResult.root}})},toIntegral:function(){this.$router.push({name:""})},toFund:function(){this.$router.push({name:""})},fundFilterCreditCard:function(){var t=this.getUserInfo.creditCardList;if(!t)return t;for(var e=0;e<t.length;e++){"0"!=t[e].accountNo.slice(6,7)&&t.push(t[e])}t&&0!=t.length?this.getDonateQuotaList():this.show=!0},getDonateQuotaList:function(){var t=this,e={tranCode:"MH0149",srcChannel:"MH"};window.client.request({url:"/api/MH0149.json",encrypt:!0,isLogin:!0,funName:"second_MH0149",adapter:"CommonAdapter",params:e,success:function(e){t.cd=e.invocationResult.root.cd,t.donateInfo=e.invocationResult.root.cd.result.kColl;for(var a=0;a<t.donateInfo.length;a++){if(void 0===t.donateInfo[a].projIsShow){var r=!0,s=!1,i=void 0;try{for(var c,d=o()(t.donateInfo);!(r=(c=d.next()).done);r=!0){var l=c.value;t.$set(l,"projIsShow",!1)}}catch(t){s=!0,i=t}finally{try{!r&&d.return&&d.return()}finally{if(s)throw i}}}var f=t.donateInfo[a].donateProjName,v=t.donateInfo[a].donateType;t.dtypename.push(n.i(u.a)(1*v)),f&&null!=f&&void 0!=f&&""!=f&&v&&("1"==v||"3"==v)&&(t.donateInfo[a].projIsShow=!0)}t.donateInfo&&t.donateInfo.length<1?t.show2=!1:t.show2=!0}})},handleSelectCard:function(t){this.getDonateQuotaList()}},created:function(){var t=this.getUserInfo.userLogonType;"10"!==t&&"20"!==t||this.$router.push({name:"cdbank_register_credit"}),this.getDonateQuotaList(),this.fundFilterCreditCard()}}},y5X8:function(t,e,n){"use strict";var a=n("HzJ8"),o=n.n(a),r=n("KH7x"),s=n.n(r);e.a={name:"selectCard",data:function(){return{selelctCardArr:[],selectedCard:""}},props:{getUserInfo:{type:Object,default:{}}},methods:{selectCard:function(){var t=this;this.$vux.selectCard.show(this.selelctCardArr,function(e){t.selectedCard=e,t.$emit("select",e)})},initCardList:function(t){var e=[],n=this.getUserInfo.creditCardList,a=this.getUserInfo.defaultAccountNo,r=!0,i=!1,c=void 0;try{for(var d,u=o()(n.entries());!(r=(d=u.next()).done);r=!0){var l=d.value,f=s()(l,2),v=(f[0],f[1]),h=_.protect(v.accountNo)+" "+v.cardType,p=v.accountNo;e.push({key:h,value:p,iconType:"CGB"})}}catch(t){i=!0,c=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw c}}if(""===a||void 0===a)e[0].selected=!0,this.selectedCard=e[0];else{var m=!0,C=!1,y=void 0;try{for(var g,w=o()(n.entries());!(m=(g=w.next()).done);m=!0){var I=g.value,b=s()(I,2),A=b[0];a===b[1].accountNo&&(e[A].selected=!0,this.selectedCard=e[A])}}catch(t){C=!0,y=t}finally{try{!m&&w.return&&w.return()}finally{if(C)throw y}}}this.selelctCardArr=e}},created:function(){this.initCardList()}}}});