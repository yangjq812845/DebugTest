webpackJsonp([188],{"/hhi":function(t,e,a){t.exports=a.p+"static/img/mapSign.png"},CIGB:function(t,e,a){"use strict";var i=a("CKVb"),n=a("gpPJ"),s=a("tIYF"),r=a("NlBh"),o=a("1xA6"),l=a("fvyU"),c=a("IXui");i.a,n.a,s.a,r.a,o.a,l.a,c.a},INEo:function(t,e,a){"use strict";function i(t){a("yyxP")}Object.defineProperty(e,"__esModule",{value:!0});var n=(a("CIGB"),a("O4UN")),s=a("kKqQ"),r=a("C7Lr"),o=i,l=r(n.a,s.a,!1,o,null,null);e.default=l.exports},IwB0:function(t,e,a){t.exports=a.p+"static/img/YYWD.png"},O4UN:function(t,e,a){"use strict";var i=a("CKVb"),n=a("gpPJ"),s=a("tIYF"),r=a("NlBh"),o=a("1xA6"),l=a("fvyU"),c=a("IXui");e.a={data:function(){return{scrollFlag:!1,pageParams:{},listNum:!0,value:null,listNumDiv:!0,proWaitNo:"",vipWaitNo:"",merchant_newData:"",bankTypeList:["营业网点","自助银行","智能银行"]}},computed:{getUserInfo:function(){return this.$store.state.invocationResult["WL-Authentication-Success"].UserInfoAuthRealm.attributes.data}},components:{Group:i.a,Cell:n.a,Grid:s.a,GridItem:r.a,GroupTitle:o.a,XInput:l.a,XButton:c.a},methods:{getNoRightnow:function(){var t=this,e=this.pageParams;if(null==this.value)this.$vux.alert.show({content:"手机号码为空，请重新输入"});else if(11!=this.value.length)this.$vux.alert.show({content:"手机号码错误，请重新输入"});else{if("1"){var a=this.getUserInfo,i={tranCode:"preMH0207",vipCustomerNameCN:a.customerNameCN,certType:a.certType,certNo:a.certNo};window.client.request({url:"/api/preMH0207.json",adapterName:"CommonAdapter",params:i,success:function(i){var n=i.invocationResult.root,s=t.value;if("0"==n.ec){var r=n.cd.vipCustomerId,o=t.merchant_newData,l={tranCode:"preMH0187",brNo:e.info.brNo,phoneNo:s,vipFlag:"",identityType:a.certType,identityNo:a.certNo,vipCustomerId:r,transTime:e.transTime,transDate:o,reqChannel:"12",customerId:a.customerId};window.client.request({url:"/api/preMH0187.json",adapterName:"CommonAdapter",params:l,success:function(e){var a=e.invocationResult.root;"0"==a.ec?(t.$vux.alert.show({content:"网点手机取号已经生效!请于30分钟后至该网点大堂叫号机处输入您的预约手机号取号,超过2.5小时将失效"}),t.merGetNum_fun()):t.$vux.alert.show({content:a.em})}})}else t.$vux.alert.show({content:n.em})}})}else{var n=this.merchant_newData,s=this.value,r={tranCode:"preMH0187",brNo:e.info.brNo,phoneNo:s,vipFlag:"0",identityType:"",identityNo:"",vipCustomerId:"",transTime:e.transTime,transDate:n,reqChannel:"12",customerId:"0"};window.client.request({url:"/api/preMH0187.json",adapterName:"CommonAdapter",params:r,success:function(e){var a=e.invocationResult.root;"0"==a.ec?(t.$vux.alert.show({content:"网点手机取号已经生效!请于30分钟后至该网点大堂叫号机处输入您的预约手机号取号,超过2.5小时将失效"}),t.merGetNum_fun()):t.$vux.alert.show({content:a.em})}})}}},toScrolls:function(){var t=document.getElementsByClassName("main")[0];t.scrollTop;console.log(t.scrollTop),t.scrollTop>0?this.scrollFlag=!0:this.scrollFlag=!1},merGetNum_fun:function(){var t=this,e=this.pageParams,a={tranCode:"preMH0186",loopCount:"1",brNo:e.info.brNo,currentBusinessCode:""};window.client.request({url:"/api/preMH0186.json",adapterName:"CommonAdapter",params:a,success:function(e){var a=e.invocationResult.root,i=e.invocationResult.root.cd;if("0"==a.ec)if("IWdxx"==i.result.id){var n=(i.result.kColl.proServiceTime,i.result.kColl.proWaitNo),s=(i.result.kColl.vipServiceTime,i.result.kColl.vipWaitNo);i.result.kColl.transTime;void 0==n&&(n="0"),void 0==s&&(s="0"),t.proWaitNo=n,t.vipWaitNo=s}else t.$vux.alert.show({content:"取号信息刷新失败"})}})},merchant_getTime:function(){var t=this,e={};window.client.request({url:"/api/getTime.json",adapterName:"CommonAdapter",funName:"getLocalTime",params:e,success:function(e){var a=e.invocationResult.localtime;t.merchant_newData=t.merchant_DataDate_index(a)}})},merchant_DataDate_index:function(t){var e=t+"";if(""!=e||void 0!=e){e=e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,2)}else e="";return e},onPhoneCall:function(){var t=this.pageParams.wdBranchPhone;""!=t&&window.client.callPhone(t)},initLocation:function(){window.client.mapLocate({})}},created:function(){this.pageParams=this.$store.state.branchStore.MH0215,this.merGetNum_fun(),this.merchant_getTime()},mounted:function(){this.toScrolls(),document.addEventListener("touchmove",this.toScrolls,!1),document.removeEventListener("touchmove",this.toScrolls,!1),"2"==this.pageParams.wdBranchType?this.listNum=!1:"1"==this.pageParams.wdBranchType&&(this.listNumDiv=!1)}}},aRky:function(t,e,a){t.exports=a.p+"static/img/phoneSign.png"},kKqQ:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("xcgb-box",[i("xcgb-head",{attrs:{keepAlive:!0,alpha:0,active:t.scrollFlag,leftOptions:[{type:"left_arrow_black"}]}}),t._v(" "),i("div",{staticClass:"main"},[i("div",{staticClass:"branch-box"},[i("div",{staticClass:"branch-bg"}),t._v(" "),i("div",{staticClass:"branch-info"}),t._v(" "),i("div",{staticClass:"branch-detail"},[i("img",{attrs:{src:a("IwB0"),alt:""}}),t._v(" "),i("p",[t._v(t._s(t.bankTypeList[t.pageParams.wdBranchType]))])])]),t._v(" "),i("group",[i("cell",{attrs:{value:t.pageParams.phoneCall,"value-align":"left","is-link":""},nativeOn:{click:function(e){return t.onPhoneCall(e)}}},[i("img",{staticStyle:{"margin-right":".2rem"},attrs:{slot:"icon",width:"20",src:a("aRky"),alt:""},slot:"icon"})]),t._v(" "),i("cell",{attrs:{value:t.pageParams.wdBranchAddress,"value-align":"left","is-link":""},nativeOn:{click:function(e){return t.initLocation(e)}}},[i("img",{staticStyle:{"margin-right":".2rem"},attrs:{slot:"icon",width:"20",src:a("/hhi"),alt:""},slot:"icon"})])],1),t._v(" "),i("group-title",[t._v("营业时间")]),t._v(" "),i("grid",{attrs:{cols:1}},[i("grid-item",[i("span",{staticClass:"business-time"},[t._v(t._s(t.pageParams.wdBranchBusinessTime))])])],1),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.listNumDiv,expression:"listNumDiv"}]},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.listNum,expression:"listNum"}]},[i("grid",{attrs:{cols:2}},[i("grid-item",[i("span",{staticClass:"business-details"},[t._v("排队人数 "),i("i",[t._v(t._s(t.proWaitNo))])])]),t._v(" "),i("grid-item",[i("span",{staticClass:"business-details"},[t._v("VIP排队人数 "),i("i",[t._v(t._s(t.vipWaitNo))])])])],1)],1),t._v(" "),i("group",{attrs:{title:"预约网点"}},[i("x-input",{attrs:{title:"手机号码",placeholder:"请输入",type:"number"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),i("x-button",{attrs:{type:"warn"},nativeOn:{click:function(e){return t.getNoRightnow(e)}}},[t._v("立即取号")])],1)],1)],1)},n=[],s={render:i,staticRenderFns:n};e.a=s},yyxP:function(t,e){}});