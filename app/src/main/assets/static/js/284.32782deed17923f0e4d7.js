webpackJsonp([284],{"5xR3":function(t,e,r){"use strict";var n=r("4YfN"),s=r.n(n),a=r("HVJf"),o=r("H4kY"),i=r("gpPJ"),u=r("CKVb"),c=r("fvyU"),l=r("IXui"),f=r("Nqtu"),d=r("f4gh");s()({},r.i(a.b)("needcashStore",["data"]),{status:function(){return!/^\d{6}$/.test(this.token)}}),i.a,u.a,c.a,l.a,d.a,f.a,function(t){function e(){return t.apply(this,arguments)}e.toString=function(){return t.toString()}}(function(){var t=this.intoAccount,e=(this.getUserInfo.customerId,{temp:t.substring(0,6),temp3:t.substring(0,4)}),r=function(t){var e=t.invocationResult.root;"0"==e.ec?("1"==e.cd.status?selfBankCode="N":selfBankCode="Y",cdbank_eppc_general_sureView01()):this.showToast(e.em)};window.client.request({url:"/api/MH0221.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0221",params:e,callBack:r,erroCallBck:function(){}})})},H4kY:function(t,e,r){"use strict";function n(t){var e=__Vue__.$store.state.invocationResult["WL-Authentication-Success"].UserInfoAuthRealm.attributes.data,r=[];if(0==t.length||void 0==t.length)r=[];else{for(var n=t.length-1;n>=0;n--){var a="";a=void 0==t[n].cardType||""==t[n].cardType?"广发信用卡":t[n].cardType,r.push({key:s(t[n].accountNo,"card")+" "+a,value:t[n].accountNo})}for(var o=e.defaultAccountNo,i=0;i<r.length;i++)if(r[i].value==o){var u=r[i];r[i]=r[0],r[0]=u}}return r.push({key:"添加卡片",value:"添加卡片"}),r}function s(t,e){if("date"==e){var r=t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2);return new Date(r)}if("dateStr"==e){var r=t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2);return r}if("time"==e){return t.substr(0,2)+":"+t.substr(2,2)+":"+t.substr(4,2)}if("date_time"==e){if(!t)return"--:--";return t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2)+" "+t.substr(8,2)+":"+t.substr(10,2)+":"+t.substr(12,2)}if("cut_money"==e){return t.split(".")}if("card"==e){return t.substr(0,4)+"****"+t.substr(t.length-4,4)}if("numId"==e){return t.substr(0,4)+" "+t.substr(4,4)+" "+t.substr(8,4)+" "+t.substr(12,4)+" "+t.substr(16,4)}}function a(t,e){if("json"!==e)return t+="",this.rytDESencrypt(t);try{var r=b()(t);return this.rytDESencrypt(r)}catch(t){return"-1"}}function o(t,e){var r={result:{kColl:[]}};if(t.result.length>1){for(var n=0;n<t.result.length;n++)if(t.result[n].id==e){void 0==t.result[n].kColl?console.log(t.result[n].id):t.result[n].kColl.length>1?r.result.kColl=t.result[n].kColl:r.result.kColl.push(t.result[n].kColl);break}}else void 0==t.result.kColl?console.log(t.result.id):t.result.kColl.length>1?r.result.kColl=t.result.kColl:r.result.kColl.push(t.result.kColl);for(var n in t)"result"!=n&&(r[n]=t[n]);return r}function i(t){var e,r;return"1"==t.scardFlag_index?(e={scardFlag:t.scardFlag_index,iEppcUse:t.iEppcUse_index,dataroot05:t.dataroot05_index,dataroot80:t.dataroot80_index,dataroot08:t.dataroot08_index,pactText:t.pactText01,general_accountNo:t.general_accountNo},r=t.dataroot05_index.cd.rtfbSiStmtProjEchalOptionOne):(e={scardFlag:t.scardFlag_index,data_root02:t.data_root02_index,data_root03:t.data_root03_index,pactText:t.pactText01,dataroot08:t.dataroot08_index,general_accountNo:t.general_accountNo},r=t.data_root02_index.proj_echal_option),{data_paragms:e,rtfbSiStmtProjEchalOptionOne:r}}function u(t){var e="",r=__Vue__.$store.state.invocationResult["WL-Authentication-Success"].UserInfoAuthRealm.attributes.data,n=r.creditCardList;if(void 0==t||void 0==t.accountNo||""==t.accountNo){if(""!=r.defaultAccountNo){e=r.defaultAccountNo;for(var s=0;s<n.length;s++)if(e==n[s].accountNo){var a=e.substring(6,7),o=n[s].currencyType;o=p(o),("0"==a||"2"==a||"88"!=o&&"156"!=o)&&(e="");break}if(""==e)for(var i=0;i<n.length;i++){var u=n[i].accountNo,c=u.substring(6,7),l=n[i].currencyType;if(l=p(l),"0"!=c&&"2"!=c&&("88"==l||"156"==l)){e=u;break}}}else for(var f=0;f<n.length;f++){var d=n[f].accountNo,h=d.substring(6,7),g=n[f].currencyType;if(g=p(g),"0"!=h&&"2"!=h&&("88"==g||"156"==g)){e=d;break}}return e}e=t.accountNo;for(var v=0;v<n.length;v++)if(e==n[v].accountNo){var b=e.substring(6,7),_=n[v].currencyType;return _=p(_),"0"==b||"2"==b||"88"!=_&&"156"!=_?"":e}}function c(t){var e=t.length;if(e<=8)return t;return t.substring(0,4)+"****"+t.substring(e-4,e)}function l(t,e,r){var n="";parseFloat(t)<0&&(n="-"),t=Math.abs(parseFloat(t)).toString(),isNaN(r)&&(r=0),r=parseInt(r);var s=t.split(".");for(isNaN(s[1])&&(s[1]="0");s[1].length<r;)s[1]=s[1]+"0";if(e){for(var a=0;a<Math.floor((s[0].length-(1+a))/3);a++)s[0]=s[0].substring(0,s[0].length-(4*a+3))+","+s[0].substring(s[0].length-(4*a+3));return 0==r?n+s[0]:n+s[0]+"."+s[1].substring(0,r)}return 0==r?n+s[0]:n+s[0]+"."+s[1].substring(0,r)}function f(t){for(var e=t+"",r=0;r<e.length;r++)"."==e[r]&&e.length-1-r>2&&(e=e.substring(0,r+3));var n="";"-"==e[0]&&(n="-",e=e.substring(1,e.length));var s=e.length,a="";a="."==e.substring(s-3,s-2)?e:"."==e.substring(s-2,s-1)?e+"0":e+".00";var o=a.length;if(o<=6)return n+a.substring(o-6,o);for(var i=a.substring(o-6,o),u=a.substring(0,o-6);u.length>0;){var c=u.length;if(!(c>3))return i=u.substring(0,c)+","+i,n+i;i=u.substring(c-3,c)+","+i,u=u.substring(0,c-3)}}function d(t){for(var e=t,r="",n=0;n<e.length;n++)","!=e[n]&&(r+=e.substring(n,n+1));return r}function h(t){var e=parseFloat(t);if(isNaN(e))return!1;var e=Math.round(100*t)/100,r=e.toString(),n=r.indexOf(".");for(n<0&&(n=r.length,r+=".");r.length<=n+2;)r+="0";return r}function p(t){if("88"==t)return"88";switch(t){case"01":case"99":case"999":case"156":return"156";case"13":case"344":return"344";case"14":case"840":return"840"}}function g(t,e){var r,n=0;if("1"==e.scardFlag)for(var s=0;s<t.length;s++){if("12"==(r=t[s].rtfbSiStmtFeeMths)){n=s;break}parseInt(t[n].rtfbSiStmtFeeMths)<parseInt(r)&&(n=s)}else for(var a=0;a<t.length;a++){if("12"==(r=t[a].market_disc_periods)){n=a;break}parseInt(t[n].market_disc_periods)<parseInt(r)&&(n=a)}return{sequenece:n,period:r}}e.a=n,e.b=a,e.f=o,e.k=i,e.e=u,e.h=c,e.i=l,e.g=f,e.c=d,e.d=h,e.j=g;var v=r("3cXf"),b=r.n(v)},ZFAf:function(t,e,r){"use strict";var n=r("4YfN"),s=r.n(n),a=r("HVJf"),o=r("H4kY"),i=r("gpPJ"),u=r("CKVb"),c=r("fvyU"),l=r("IXui"),f=r("Nqtu"),d=r("f4gh");e.a={name:"confirmMessage",data:function(){return{start:!1,showToastFlag:!1,installmentPeriod:"",borrowAccount:"",borrowAmount:"",intoAccount:"",repayAll:"",mobileNo:this.$store.state.invocationResult["WL-Authentication-Success"].UserInfoAuthRealm.attributes.data.mobileNo,getUserInfo:this.$store.state.invocationResult["WL-Authentication-Success"].UserInfoAuthRealm.attributes.data,catipal:"",feeAll:"",time:"60",token:"",fee:"",text:""}},computed:s()({},r.i(a.b)("needcashStore",["data"]),{status:function(){return!/^\d{6}$/.test(this.token)}}),components:{Cell:i.a,Group:u.a,XInput:c.a,XButton:l.a,Toast:d.a,Countdown:f.a},methods:{repayMsg:function(){var t=this.$store.state.needcashStore.data;console.log(t.iEppcUses),this.borrowAccount=t.borrowAccount,this.intoAccount=t.intoAccount,this.installmentPeriod=t.installmentPeriod,this.borrowAmount=r.i(o.c)(t.borrowAmount),this.repayAll=r.i(o.d)(t.repayAll),this.feeAll=r.i(o.d)(this.repayAll-this.borrowAmount),this.fee=r.i(o.d)(this.feeAll/this.installmentPeriod),this.catipal=r.i(o.d)(this.borrowAmount/this.installmentPeriod)},finish:function(t){this.start=!1,this.time=60},showToast:function(t){this.showToastFlag=!0,this.text=t},getToken:function(){var t=this,e=CryptoJS.DES.encrypt(this.mobileNo,"cgbbank.credit.card.project.2016");window.client.request({url:"/api/token.json",adapter:"CommonAdapter",procedure:"control_unlogin",parameters:'[{"value": "'+e.toString()+'","funName": "second_MH0318","type": "json"}]',success:function(e){var r=e.invocationResult,n=r.root;n.ec?n.cd.optionFlag?t.start=!0:t.showToast("请勿重复获取短信验证码！"):t.showToast(n.em)}})},selfBankCode:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=this.intoAccount,e=(this.getUserInfo.customerId,{temp:t.substring(0,6),temp3:t.substring(0,4)}),r=function(t){var e=t.invocationResult.root;"0"==e.ec?("1"==e.cd.status?selfBankCode="N":selfBankCode="Y",cdbank_eppc_general_sureView01()):this.showToast(e.em)};window.client.request({url:"/api/MH0221.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0221",params:e,callBack:r,erroCallBck:function(){}})}),sendMsg:function(){alert(this.token),this.data.message=this.token,this.$router.push({name:"i_need_cash_submitApply"})},comfirmBtn:function(){this.newDebit=""},oninputPass:function(){}},created:function(){this.repayMsg()}}},f5vk:function(t,e,r){"use strict";function n(t){r("pHIB")}Object.defineProperty(e,"__esModule",{value:!0});var s=(r("5xR3"),r("ZFAf")),a=r("gqWi"),o=r("C7Lr"),i=n,u=o(s.a,a.a,!1,i,null,null);e.default=u.exports},gqWi:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("xcgb-box",[r("xcgb-head",{attrs:{title:"确认办理信息",keepAlive:!1,leftOptions:[{type:"left_arrow_black"}]}}),t._v(" "),r("div",{staticClass:"main"},[r("group",{staticClass:"informationTitle"},[r("cell",{staticClass:"information",attrs:{title:"申请金额","inline-desc":"￥"+t.borrowAmount}},[r("div",[t._v("分期期数")]),t._v(" "),r("div",{staticClass:"informationPeriod"},[t._v(t._s(t.installmentPeriod))])])],1),t._v(" "),r("group",[r("cell",{attrs:{title:"第1-12期/每期应还"}},[r("div",[t._v(" ¥"+t._s(t.catipal)+"/期")]),t._v(" "),r("div",{staticClass:"eachRepay"},[t._v("含手续费 ¥"+t._s(t.fee)+"/期")])])],1),t._v(" "),r("group",{staticClass:"messages"},[r("cell",{attrs:{title:"应还总额"}},[t._v("¥"+t._s(t.repayAll))]),t._v(" "),r("cell",{attrs:{title:"手续费总额"}},[t._v("¥"+t._s(t.feeAll))]),t._v(" "),r("cell",{attrs:{title:"申请卡片"}},[t._v(t._s(t.borrowAccount))]),t._v(" "),r("cell",{attrs:{title:"转入账户"}},[t._v(t._s(t.intoAccount))])],1),t._v(" "),r("group",[r("x-input",{staticClass:"weui-vcode",attrs:{title:"验证码",placeholder:"请输入短信验证码",max:6},on:{input:t.oninputPass},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}},[r("x-button",{staticClass:"getVcode",attrs:{slot:"right",mini:""},nativeOn:{click:function(e){return t.getToken(e)}},slot:"right"},[t.start?t._e():r("i",[t._v("获取")]),t._v(" "),t.start?r("countdown",{attrs:{start:t.start},on:{"on-finish":t.finish},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}):t._e(),t._v(" "),t.start?r("i",[t._v("s")]):t._e()],1)],1)],1),t._v(" "),r("div",{staticClass:"tipTitile"},[t._v("提前还款需支付剩余期数手续费")]),t._v(" "),r("p",{staticClass:"tips"},[t._v("汇款手续费："),r("span",[t._v(t._s(t.fee))])]),t._v(" "),r("x-button",{attrs:{"action-type":"button",disabled:t.status},nativeOn:{click:function(e){return t.sendMsg(e)}}},[t._v("提交申请")]),t._v(" "),r("toast",{attrs:{type:"text",width:"auto"},model:{value:t.showToastFlag,callback:function(e){t.showToastFlag=e},expression:"showToastFlag"}},[r("p",{staticClass:"tips"},[t._v(t._s(t.text))])])],1)],1)},s=[],a={render:n,staticRenderFns:s};e.a=a},pHIB:function(t,e){}});