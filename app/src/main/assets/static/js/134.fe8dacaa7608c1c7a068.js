webpackJsonp([134],{"8afE":function(t,e,s){"use strict";var i=s("IXui");e.a={name:"prizeListItem",props:["item"],components:{XButton:i.a},data:function(){return{showButton:!0,rootPath:"http://localhost:8081/mock/public"}},computed:{activeType:function(){if(2!=this.item.pastDueState)switch(this.item.activeType){case"40":return 1==this.item.lotdrawState?"领取":"我的签账额";case"20":return"我的商城券";case"21":return"我的优惠券";case"11":return"我的积分";case"01":return 1==this.item.lotdrawState?"领取":"我的积分"}return this.showButton=!1,""}},methods:{clickBtn:function(){if("40"==this.item.activeType&&1==this.item.lotdrawState){var t=[{prize_lv:this.item.prize_lv,oneMoney:this.item.oneMoney,type:1}];this.$router.push({name:"recommend_register_recommendReceivePrize",params:t})}if("20"==this.item.activeType)return void this.$router.push({name:"my_coupon_market",params:{allTicket:"商城卷"}});if("21"==this.item.activeType)return void this.$router.push({name:"my_coupon_discount",params:{secPage:"活动券"}});if("11"!=this.item.activeType&&"01"==this.item.activeType&&1==this.item.lotdrawState){var e=[{score:this.item.oneMoney,prize_lv:this.item.prize_lv,activeCode:this.item.activeCode,activeType:this.item.activeType}];this.$router.push({name:"recommend_register_recommendReceivePrize",params:e})}}}}},"8iB0":function(t,e){},Ifeg:function(t,e,s){t.exports=s.p+"static/img/notice.png"},"PK+Y":function(t,e,s){"use strict";function i(t){s("t8vp")}Object.defineProperty(e,"__esModule",{value:!0});var a=(s("VanU"),s("u1yc")),r=s("UygG"),n=s("C7Lr"),o=i,c=n(a.a,r.a,!1,o,null,null);e.default=c.exports},QcGT:function(t,e,s){"use strict";var i=s("IXui");i.a},TMjD:function(t,e,s){t.exports=s.p+"static/img/check.png"},UygG:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("xcgb-box",[i("xcgb-head",{attrs:{title:"我的奖品",keepAlive:!1,leftOptions:[{type:"left_arrow_black"}],rightOptions:[{type:"down_opacity_gray",str:""+t.tabs.type}]},on:{rightHandler:t.prizeType}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.tabsBox,expression:"tabsBox"}],attrs:{slot:"other-layout"},slot:"other-layout"},[i("ul",{staticClass:"tabs"},t._l(t.tabs.list,function(e,a){return i("li",{staticClass:"tab",on:{click:function(e){t.select(a)}}},[i("img",{directives:[{name:"show",rawName:"v-show",value:1==e.img,expression:"tab.img==1"}],attrs:{src:s("TMjD"),alt:""}}),i("span",{class:1==e.img?"active":""},[t._v(t._s(e.type))])])}))])]),t._v(" "),t.noPrize?i("div",{staticClass:"main"},[i("img",{staticClass:"no-prize-img",attrs:{src:s("hyqu"),alt:"没有奖品"}}),t._v(" "),i("p",{staticClass:"no-prize-text"},[t._v("暂无公告")])]):i("div",{staticClass:"main"},[i("p",{staticClass:"after-days"},[i("img",{attrs:{src:s("Ifeg"),alt:""}}),t._v("奖品领取"+t._s(t.days)+"天后，奖品记录将不再显示 ")]),t._v(" "),t._l(t.lists,function(t,e){return i("prize-list-item",{key:e,attrs:{item:t}})}),t._v(" "),i("toast",{attrs:{type:"text",width:"auto"},model:{value:t.showToastFlag,callback:function(e){t.showToastFlag=e},expression:"showToastFlag"}},[i("p",{staticClass:"tips"},[t._v(t._s(t.text))])])],2)],1)},a=[],r={render:i,staticRenderFns:a};e.a=r},VanU:function(t,e,s){"use strict";var i=s("3cXf"),a=s.n(i),r=s("hu0U"),n=s("f4gh");r.a,n.a},gtPx:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"prize-list-item"},[s("p",{staticClass:"prize-date"},[s("span",[t._v("获奖时间："+t._s(t.item.transTime))]),s("span",{staticClass:"activeName"},[t._v(t._s(t.item.activeName))])]),t._v(" "),s("div",{staticClass:"content"},[s("img",{staticClass:"img",attrs:{src:t.item.url}}),t._v(" "),s("div",{staticClass:"text"},[s("p",{staticClass:"title"},[t._v(t._s(t.item.prize_name))]),t._v(" "),s("p",{staticClass:"received",domProps:{textContent:t._s(2==t.item.pastDueState?"\n":t.item.lotdrawStatetxt)}}),t._v(" "),s("p",{staticClass:"unreceived",domProps:{textContent:t._s("2"==t.item.pastDueState?t.item.lotdrawStatetxt:t.item.expireDate)}})])]),t._v(" "),s("div",{staticClass:"btn"},[s("x-button",{directives:[{name:"show",rawName:"v-show",value:t.showButton,expression:"showButton"}],staticClass:"btn",attrs:{plain:"",mini:""},domProps:{textContent:t._s(t.activeType)},nativeOn:{click:function(e){t.clickBtn(t.item.mrpType)}}})],1)])},a=[],r={render:i,staticRenderFns:a};e.a=r},hu0U:function(t,e,s){"use strict";function i(t){s("8iB0")}var a=(s("QcGT"),s("8afE")),r=s("gtPx"),n=s("C7Lr"),o=i,c=n(a.a,r.a,!1,o,null,null);e.a=c.exports},hyqu:function(t,e,s){t.exports=s.p+"static/img/noPrize.png"},t8vp:function(t,e){},u1yc:function(t,e,s){"use strict";var i=s("3cXf"),a=s.n(i),r=s("hu0U"),n=s("f4gh");e.a={name:"myPrize",data:function(){return{noPrize:!1,days:180,lists:[],rootPath:"http://localhost:8081/mock/public",showToastFlag:!1,text:"",tabs:{type:"奖品类型",status:"",list:[{type:"全部",img:1,status:""},{type:"免还款签账额",img:0,status:"40"},{type:"优惠券",img:0,status:"21"},{type:"商城券",img:0,status:"20"},{type:"积分",img:0,status:"01"}]},tabsBox:!1,currentPage:0}},components:{PrizeListItem:r.a,Toast:n.a},methods:{dateFormat:function(t,e){var s=t.substring(0,4),i=t.substring(4,6),a=t.substring(6,8),r=t.substring(8,10),n=t.substring(10,12),o=t.substring(12,14);if(1==e){if(s)return"有效期 "+s+"."+i+"."+a}else if(s)return s+"."+i+"."+a+" "+r+":"+n+":"+o},showToast:function(t){this.showToastFlag=!0,this.text=t},prizeType:function(){this.tabsBox=!this.tabsBox},select:function(t){for(var e=0;e<this.tabs.list.length;e++)this.tabs.list[e].img=0;return this.tabs.list[t].img=1,this.tabs.type=this.tabs.list[t].type,this.tabs.status=this.tabs.list[t].status,this.prizeType(),this.success(this.tabs.list[t].status),!1},success:function(t){var e=this,s={activeType:t,maxPageSize:"10",turnPageBeginPage:("00"+this.currentPage).slice(-3)};window.client.request({url:"api/MH0557.json",adapter:"CommonAdapter",procedure:"deaw_MH0557",parameters:"["+a()(s)+"]"}).then(function(t){if("0"==t.root.ec){var s=t.root.cd.result;if(s.kColl){e.noPrize=!1;for(var i=void 0==s.kColl.length?[s.kColl]:s.kColl,a=0;a<i.length;a++)i[a].url="http://localhost:8081/mock/public"+i[a].url,i[a].transTime=e.dateFormat(i[a].transTime,"0"),i[a].oneMoney=1*i[a].oneMoney.substring(0,i[a].oneMoney.length-2),1==i[a].lotdrawState?(i[a].lotdrawStatetxt="未领取",i[a].expireDate=e.dateFormat(i[a].expireDate,"1")):(i[a].lotdrawStatetxt="已领取","40"==i[a].activeType?i[a].expireDate="":i[a].expireDate=e.dateFormat(i[a].expireDate,"1")),2==i[a].pastDueState&&(i[a].lotdrawStatetxt="已失效，已过领取时间");e.lists=e.lists&&i,console.log(e.lists)}else e.noPrize=!0}else e.showToast(t.em)})}},created:function(){this.success()}}}});