webpackJsonp([213],{FR3Q:function(t,e,a){"use strict";var n=a("CKVb"),c=a("gpPJ"),r=a("IXui"),s=a("cTn1"),i=a("UUGw");e.a={name:"bhRepay",data:function(){return{accountKey:"请添加本行借记卡",accountVal:"",currenType:"人民币",repayType:"全部还款",confirmContent:[],pageParams:this.$route.params,qr_accountType:"",curnType:[],zrbin:"",subPopupShow:!1,hkdaoqr:!0,billDate:"",currentRtLmtDate:""}},computed:{getUserInfo:function(){return this.$store.getters.getStateKey("WL-Authentication-Success.UserInfoAuthRealm.attributes.data").data}},filters:{filterDate:function(t){return"0"==t.indexOf("0")?t.substr(1,1):t}},components:{Group:n.a,Cell:c.a,XButton:r.a,Popup:s.a},methods:{cancel:function(){var t=this;this.$vux.confirm.show({content:'确认撤销"本行自动还款"?',onConfirm:function(){var e={cardNo:t.pageParams.select_cardVal,accountNo:t.accountVal,certType:t.getUserInfo.certType,repayType:"1",boundType:"0",cardCurrencyType:t.currenType};window.client.request({url:"/api/MH0067.json",adapter:"CommonAdapter",funName:"second_MH0067",isLogin:!0,encrypt:!0,parameters:e,success:function(e){var a=e.invocationResult.root;t.$router.push({name:"repay_setting_success",params:{signType:"12",res:"0"==a.ec?"1":a.em}})}})}})},init:function(){if(!this.pageParams.currentRtLmtDate)return void this.$router.go(-1);var t=this.pageParams,e=t.currentRtLmtDate,a=t.qr_accountType,n=t.doubleBi,c=t.billDate,r=t.currenType;this.billDate=c,this.currentRtLmtDate=e.substr(0,4)+"-"+e.substr(4,2)+"-"+e.substr(6,2),this.hkdaoqr=!("00000000"===e),a&&(this.qr_accountType=a),this.zrbin=i.a.getCurrency(n,r),1==a&&(this.repayType="最低还款");var s=this.get_zc_accountNo();if(s.length){this.accountKey=s[0].key;var u=this._zc_zcount_bin(s[0].value,"bi");this.currenType="99"===u?"人民币":u}else this.account="请添加本行借记卡"},selectAccount:function(){var t=this,e=this.get_zc_accountNo();if(e.length){var a=[];e.forEach(function(t){a.push({key:t.key,value:t.value,iconType:"CGB"})});var n=function(e){t.currenType=t._zc_zcount_bin(e.value,"bi"),t.accountVal=t._zc_zcount_bin(e.value),t.accountKey=e.key};this.$vux.selectCard.show(a,n)}else{var c={num:"1",accountNo:this.select_cardVal};this.$router.push({name:"cdbank_add_rolloutdebit",params:c})}},selectCurrenType:function(){var t=this,e=this.get_zc_accountNo();if(e.length){var a=this._zc_zcount_bin(e[0].value,"bi"),n=[];n="人民币"===a?[{key:"人民币",value:"人民币"}]:"港币"==zc_accountNo_bin?[{key:"港币",value:"港币"}]:"美元"==zc_accountNo_bin?[{key:"美元",value:"美元"}]:[{key:"人民币",value:"人民币"},{key:"美元",value:"美元"}],n.find(function(e){return e.value==t.currenType}).selected=!0;var c={iconType:!1,title:"请选择",addCard:!1},r=function(e){t.currenType=e.value};this.$vux.selectCard.show(n,r,c)}},selectRepayType:function(){var t=this,e=[{key:"全部还款",value:"全部还款"},{key:"最低还款",value:"最低还款"}];1==this.pageParams.qr_accountType?e[1].selected=!0:e[0].selected=!0;var a={iconType:!1,title:"请选择",addCard:!1},n=function(e){t.repayType=e.value};this.$vux.selectCard.show(e,n,a)},selectZrCurrenType:function(){var t=this,e=[{key:"人民币",value:"人民币"},{key:"美元",value:"美元"}],a={iconType:!0,title:"请选择",addCard:!1};e[0].selected=!0;var n=function(e){t.zrbin=e.value};this.$vux.selectCard.show(e,n,a)},get_zc_accountNo:function(){for(var t=[],e=this.getUserInfo.cardList,a=0;a<e.length;a++)if("1"==e[a].accountType||"4"==e[a].accountType){var n=e[a].accountNo,c=protectAccountNo(e[a].accountNo),r=e[a].currencyType,s=_getCurrencyNo(r);t.push({key:c,value:n+","+s,text:c,icon:"cgb"})}return t},confirm:function(){var t=this._getCurrency();console.log(t);var e=this.currenType;"请添加本行借记卡"===this.accountKey?this.$vux.alert.show({content:"转出账户不能为空，请重新输入。"}):"人民币"===t&&t!=e?this.$vux.alert.show({content:"当前转出账户币种无法签约此信用卡"}):"美元"==t&&"港币"==e||"港币"==t&&"美元"==e?this.$vux.alert.show({content:"当前转出账户币种无法签约此信用卡"}):(this.subPopupShow=!this.subPopupShow,this.confirmContent=[{title:"签约类型",value:"本行自动还款"},{title:"转入账户",value:this.pageParams.select_cardVal},{title:"转入币种",value:this.zrbin},{title:"转出账户",value:this.accountKey},{title:"转出币种",value:this.currenType},{title:"还款方式",value:this.repayType}],consoel.log("333"))},submit:function(){var t=this,e=this.getUserInfo,a=(e.csutId,e.custName,e.certTy),n={cardNo:this.pageParams.select_cardVal,accountNo:this.accountVal,certType:a,repayType:this.repayType,boundType:"1",cardCurrencyType:"",currencyType:this.zcbin},c={signType:"09",res:"1",zracc:this.select_cardVal,zcacc:this.accountVal,repayTp:this.repayType};window.client.request({url:"/api/MH0067.json",funName:"second_MH0067",adapter:"CommonAdapter",isLogin:!0,encrypt:!0,parameters:n,success:function(e){var a=e.invocationResult.root;if("0"==a.ec)t.$router.push({name:"repay_setting_success",params:c});else{var n={res:a.em,signType:"09"};t.$router.push({name:"repay_setting_success",params:n})}}})},_zc_zcount_bin:function(t,e){var a=t.split(",");return"bi"==e?a[a.length-1]:a[0]},_getCurrencyNo:function(t){if("99"==t)return"99";switch(t){case"01":case"999":case"156":return"人民币";case"13":case"344":return"港币";case"14":case"840":return"美元"}},_getCurrency:function(){var t="";return this.pageParams.doubleBi?t="人民币":"156"==this.pageParams.currenType?t="人民币":"840"==this.currenType?t="美元":"13"!=this.currenType&&"344"!=this.currenType||(t="港币"),t}},created:function(){console.log(this.pageParams),this.init()}}},LhTQ:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("xcgb-box",[n("xcgb-head",{attrs:{title:"本行自动还款",keepAlive:!1,leftOptions:[{type:"left_arrow_black"}]}}),t._v(" "),n("div",{staticClass:"main"},[n("div",{staticClass:"top"},[n("div",{staticClass:"cardType"},[t.pageParams.doubleBi?n("group",{attrs:{gutter:"0"}},[n("cell",{attrs:{title:t.pageParams.select_cardName+"("+t.pageParams.select_cardVal.substr(12,4)+")",value:t.zrbin,"is-link":""},nativeOn:{click:function(e){return t.selectZrCurrenType(e)}}})],1):t._e(),t._v(" "),t.pageParams.doubleBi?t._e():n("div",{staticClass:"noDoubleBi"},[t._v(t._s(t.pageParams.select_cardName+"("+t.pageParams.select_cardVal.substr(12,4)+")"))])],1),t._v(" "),n("div",{staticClass:"cell"},[n("span",[t._v("账单日")]),t._v(" "),n("span",[t._v("每月"+t._s(t._f("filterDate")(t.billDate))+"日")])]),t._v(" "),t.hkdaoqr?n("div",{staticClass:"cell"},[n("span",[t._v("还款到期日")]),t._v(" "),n("span",[t._v(t._s(t.currentRtLmtDate))])]):t._e(),t._v(" "),t.pageParams.doubleBi?t._e():n("div",{staticClass:"cell"},[n("span",[t._v("卡片币种")]),t._v(" "),n("span",[t._v(t._s(t.zrbin))])])]),t._v(" "),n("div",{staticClass:"middle"},[n("div",{staticClass:"transferAccount"},[n("group",[n("cell",{attrs:{title:"本行自动还款",value:t.accountKey,"is-link":""},nativeOn:{click:function(e){return t.selectAccount(e)}}})],1)],1),t._v(" "),n("div",{staticClass:"transferCurrency"},[n("group",[n("cell",{attrs:{title:"转出币种",value:t.currenType,"is-link":""},nativeOn:{click:function(e){return t.selectCurrenType(e)}}})],1)],1),t._v(" "),n("div",{staticClass:"repayWay"},[n("group",[n("cell",{attrs:{title:"还款方式",value:t.repayType,"is-link":""},nativeOn:{click:function(e){return t.selectRepayType(e)}}})],1)],1)]),t._v(" "),n("div",{staticClass:"bottom"},[n("p",[t._v("温馨提示：")]),t._v(" "),n("p",[t._v("1、本行自动还款是指将广发信用卡与您的同名广发个人储蓄账户关联，实现账单自动转账还款。在还款到期日到账，入账后恢复信用额度。业务全免手续费；")]),t._v(" "),n("p",[t._v("2、每天00:00-5:00期间暂不办理还款签约业务，请在其它时间段签约；")]),t._v(" "),n("p",[t._v("3、若在还款到期日前1天完成签约，自动转账本期账单生效，否则将在下期账单生效；")]),t._v(" "),n("p",[t._v("4、每期需要在最后还款日当天18:00前保证关联的储蓄账户中有足够余额，如自动转账时您的储蓄卡余额不足，则将储蓄卡全部款项转账还款到信用卡；")]),t._v(" "),n("p",[t._v("5、信用卡美元账户可以用人民币币种的借记卡进行购汇绑定实现自动转账还款，人民币购汇转账汇率以转账前1工作日我行公布的“现汇现钞卖出价”为准；")]),t._v(" "),n("P",[t._v("6、已签约本行自动还款业务的，若需更新您已绑定的同名广发个人结算账户，请先解绑本业务后重新绑定；")]),t._v(" "),n("P",[t._v("7、如您的理财通卡已签订了自动定存计划（卡内）协议，当活期账户余额不足以支付您绑定的信用卡自动还款业务时，不足部分将以提前支取的方式从定期存款中扣取，此情况可能会导致您损失存款利息。请您知悉并尽量避免此种情况的产生；")]),t._v(" "),n("p",[t._v("8、如您的Ⅱ类储蓄账户向已绑定的信用卡还款，绑定次日则不受日累计限额合计1万元\\年累计限额合计20万元的转出限制。")])],1),t._v(" "),n("div",{staticClass:"subBtnDiv"},[t.pageParams.modified?n("div",{staticClass:"modified-btn"},[n("x-button",{staticClass:"subBtn",attrs:{plain:"",mini:!0},nativeOn:{click:function(e){return t.confirm(e)}}},[t._v("修改")]),t._v(" "),n("x-button",{staticClass:"subBtn",attrs:{plain:"",mini:!0},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v("撤销")])],1):n("x-button",{staticClass:"subBtn",attrs:{type:"warn"},nativeOn:{click:function(e){return t.confirm(e)}}},[t._v("确定")])],1),t._v(" "),n("div",{staticClass:"msgPopup"},[n("popup",{attrs:{position:"bottom","max-height":"100%"},model:{value:t.subPopupShow,callback:function(e){t.subPopupShow=e},expression:"subPopupShow"}},[n("div",{staticClass:"popupContainer"},[n("div",{staticClass:"msgTitle"},[n("img",{attrs:{src:a("x0Ou"),alt:""},on:{click:function(e){t.subPopupShow=!t.subPopupShow}}}),t._v(" "),n("span",[t._v("请确认签约信息")])]),t._v(" "),n("div",{staticClass:"content"},[n("group",t._l(t.confirmContent,function(e,a){return n("cell",{key:a,attrs:{title:e.title,value:e.value},nativeOn:{click:function(e){return t.selectAccount(e)}}})}))],1),t._v(" "),n("div",{staticClass:"affirm"},[n("group",[n("x-button",{staticClass:"subBtn",attrs:{type:"warn"},nativeOn:{click:function(e){return t.submit(e)}}},[t._v("确定")])],1)],1)])])],1)])],1)},c=[],r={render:n,staticRenderFns:c};e.a=r},UUGw:function(t,e,a){"use strict";e.a={getCurrency:function(t,e){var a="";return t?a="人民币 美元":"156"==e[0]?a="人民币":"840"==e[0]?a="美元":"13"!=e[0]&&"344"!=e[0]||(a="港币"),a},checkResultId:function(t,e){var a=void 0,n=!1;if(t.result.length>1){for(var c=0;c<t.result.length;c++)if(t.result[c].id==e){a=t.result[c],n=!0;break}}else n=!0,a=t.result;return 1==n&&(""!=a.kColl&&void 0!=a.kColl&&a)},judge_cardOrForeign_coin:function(t,e){return!t&&"156"!=e[0]}}},"gL/r":function(t,e){},kxB2:function(t,e,a){"use strict";var n=a("CKVb"),c=a("gpPJ"),r=a("IXui"),s=a("cTn1"),i=a("UUGw");n.a,c.a,r.a,s.a},n1jf:function(t,e,a){"use strict";function n(t){a("gL/r")}Object.defineProperty(e,"__esModule",{value:!0});var c=(a("kxB2"),a("FR3Q")),r=a("LhTQ"),s=a("C7Lr"),i=n,u=s(c.a,r.a,!1,i,null,null);e.default=u.exports},x0Ou:function(t,e,a){t.exports=a.p+"static/img/nav_icon_close.png"}});