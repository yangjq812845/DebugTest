webpackJsonp([149],{"/rlA":function(t,e,n){"use strict";function o(t){n("t435")}var a=(n("o0jH"),n("bK72")),r=n("aWTp"),s=n("C7Lr"),c=o,i=s(a.a,r.a,!1,c,null,null);e.a=i.exports},ENQ3:function(t,e,n){t.exports=n.p+"static/img/close.png"},EPs9:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("xcgb-box",[o("xcgb-head",{attrs:{title:"激活卡片",keepAlive:!1,leftOptions:[{type:"left_arrow_black"}]}}),t._v(" "),o("div",{staticClass:"main"},[o("p",{staticClass:"title"},[t._v("待激活的卡片")]),t._v(" "),o("div",{staticClass:"cardInfoAera"},[o("p",[t._v(t._s(t.cardNo))]),t._v(" "),o("p",[t._v(t._s(t.cardType))]),t._v(" "),o("p",[t._v("已审核")])]),t._v(" "),o("popup",{staticClass:"popup",attrs:{height:"60%"},model:{value:t.showPopup,callback:function(e){t.showPopup=e},expression:"showPopup"}},[o("group",{staticClass:"popupGroup",attrs:{gutter:"0"}},[o("img",{attrs:{src:n("ENQ3"),alt:""},on:{click:t.close}}),t._v(" "),o("span",[t._v("验证身份")])]),t._v(" "),o("group",[o("x-input",{attrs:{max:6,title:"验证码",placeholder:"输入短信验证码"},model:{value:t.vcode,callback:function(e){t.vcode=e},expression:"vcode"}},[o("get-vcode-btn",{attrs:{slot:"right",vcodeFlag:"rCardSelfAct"},slot:"right"})],1)],1),t._v(" "),o("x-button",{staticClass:"popupBtn",attrs:{disabled:!t.actApply,plain:!1},on:{clickHandler:function(t){}}},[t._t("default",[t._v("提交激活申请")])],2)],1)],1)],1)},a=[],r={render:o,staticRenderFns:a};e.a=r},"X8/4":function(t,e,n){"use strict";var o=n("cTn1"),a=n("fvyU"),r=n("CKVb"),s=n("/rlA");s.a,o.a,a.a,r.a},aWTp:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("x-button",{staticClass:"getVcodeBtn",attrs:{type:"",disabled:t.clickControl,mini:""},nativeOn:{click:function(e){return t.getVcode(e)}}},[t.sendMsg?n("span",{staticClass:"count_backwards"},[t._v(t._s(t.time+"s"))]):t._e(),t._v(" "),t.sendMsg?t._e():n("span",[t._v("获取")])])},a=[],r={render:o,staticRenderFns:a};e.a=r},bK72:function(t,e,n){"use strict";var o=n("rVsN"),a=n.n(o),r=n("IXui"),s=n("vp6S");e.a={name:"getVcodeBtn",data:function(){return{clickControl:!1,sendMsg:!1,time:59}},props:["vcodeFlag"],components:{XButton:r.a},methods:{getVcode:function(){var t=this,e=function(e){return new a.a(function(n,o){var a=e.slice(e.length-4,e.length-1);t.$vux.toast.show({type:"text",text:"已向尾号为 "+a+" 的手机号发送验证码",width:"4rem"}),n()})},o=function(){t.sendMsg=!0,t.clickControl=!0,t.$emit("getVcodeFun");var e=setInterval(function(){t.time--<=0&&(t.time=60,t.sendMsg=!1,t.clickControl=!1,window.clearInterval(e))},1e3)};console.log(this.vcodeFlag),"rCardSelfAct"!==this.vcodeFlag&&"vCardOpenSwip"!==this.vcodeFlag||n.i(s.d)().then(e).then(o)}}}},da0o:function(t,e,n){"use strict";function o(t){n("xHU3")}Object.defineProperty(e,"__esModule",{value:!0});var a=(n("X8/4"),n("uxW+")),r=n("EPs9"),s=n("C7Lr"),c=o,i=s(a.a,r.a,!1,c,null,null);e.default=i.exports},o0jH:function(t,e,n){"use strict";var o=n("rVsN"),a=n.n(o),r=n("IXui"),s=n("vp6S");r.a},t435:function(t,e){},"uxW+":function(t,e,n){"use strict";var o=n("cTn1"),a=n("fvyU"),r=n("CKVb"),s=n("/rlA");e.a={name:"rCardSelfAct",data:function(){return{showPopup:!0,cardType:"返现卡",vcode:""}},computed:{actApply:function(){return/^\w{6}$/.test(this.vcode)},cardNo:function(){var t="1234567893216547";return t.substr(0,4)+" "+t.substr(4,4)+" "+t.substr(8,2)+"** ****"}},components:{getVcodeBtn:s.a,Popup:o.a,XInput:a.a,Group:r.a},methods:{checkVCode:function(){null!=vcode.match(/\D/)&&this.$vux.toast.show({content:"短信验证码含有非法字符"})},close:function(){this.showPopup=!1}}}},vp6S:function(t,e,n){"use strict";n.d(e,"e",function(){return c}),n.d(e,"c",function(){return i}),n.d(e,"d",function(){return u}),n.d(e,"a",function(){return d}),n.d(e,"b",function(){return l});var o=n("4YfN"),a=n.n(o),r=n("rVsN"),s=n.n(r),c=function(t,e){return new s.a(function(n,o){var r={url:"/api/CAMH0638.json",adapter:"CommonAdapter",funName:"",parameters:{tranCode:"MH0638",srcChannel:"MH",transferFlowNoNew:"",mobileNo:t,customerId:e,custName:"",endTime:"",startTime:""}};window.client.request(a()({},r,{success:function(t){var e=t.header,a=t.body;if("0"===e.errorCode){var r=a.showCard,s=a.cardInfos;n({showCard:r,cardInfos:s})}else o(a.em)}}))})},i=function(t){return new s.a(function(e,n){var o={url:"api/CAMH0234.json",adapter:"CommonAdapter",funName:"second_MH0234",isLogin:!0,parameters:{tranCode:"MH0234",srcChannel:"MH",cardNo:t}};window.client.request(a()({},o,{success:function(t){var o=t.header,a=t.body;"0"===o.errorCode?e(a.cardActiveCheck):n(a.em)}}))})},u=function(){return new s.a(function(t,e){var n={url:"api/CAMH0314.json",adapter:"CommonAdapter",funName:"",isLogin:!0,parameters:{mobileNo:"",busCode:"CA",SMSID:"F6",TEMPLATEID:"057F600258",STDINFOTYP:encodeURI("激活信用卡"),smsLimitFlag:"Y",SMSFlag:"1",TRADETYPE:encodeURI("发现精彩")}};window.client.request(a()({},n,{success:function(n){var o=n.header,a=n.body;"0"===o.errorCode&&"0"===a.ec?(t(a.mobileNo),console.log("R卡激活发送验证码")):e(a.em)}}))})},d=function(t){return new s.a(function(e,n){var o={url:"api/CAMH0083.json",adapter:"CommonAdapter",funName:"MH0083_unlogin",isLogin:!0,parameters:{tranCode:"MH0083",srcChannel:"MH",creditCardNo:"",certType:"",certNo:"",cardValidPeriod:"",cvv2Code:"",mobile:"",isNeedFlag:"1"}};window.client.request(a()({},o,{success:function(n){var o=n.header,a=n.body;"0"===o.errorCode&&"0"===a.ec?(e(),console.log("R卡校验成功正式激活")):t.$vux.toast.show({type:"text",text:a.em})}}))})},l=function(){return new s.a(function(t,e){var n={url:"api/CAMH0083.json",adapter:"CommonAdapter",funName:"MH0311_unlogin",isLogin:!0,parameters:{mobileNo:"",smsCode:"",busCode:"CO",safeToolType:"",accountNo:"",tranRange:"",validDate:"",CVV2:""}};window.client.request(a()({},n,{success:function(t){var e=t.header,n=t.body;"0"===e.errorCode&&"0"===n.ec?jQuery.goPage("cdbank_marketingCard","cdbank_marketingCard_open_body"):"PP010110"==n.ec||"PP010109"==n.ec?that.$vux.toast.show({type:"text",text:n.em}):that.$vux.alert.show({title:"卡片开通失败",content:"失败原因：系统错误",buttonText:"确认"})}}))})}},xHU3:function(t,e){}});