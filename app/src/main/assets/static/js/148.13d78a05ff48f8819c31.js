webpackJsonp([148],{"2hw5":function(t,e,a){"use strict";var r=a("hArn");e.a={name:"check-icon",components:{Icon:r.a},methods:{updateValue:function(){this.$emit("update:value",!this.value)}},props:{value:{type:Boolean,default:!1},type:{type:String,default:"default"}}}},"3P2X":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("xcgb-box",[r("xcgb-head",{attrs:{title:"普通财智金",keepAlive:!1,leftOptions:[{type:"left_arrow_black"}]}}),t._v(" "),r("div",{staticClass:"main"},[r("group",{staticClass:"toTop"},[r("cell",{attrs:{"is-link":""},nativeOn:{click:function(e){return t.selectCard(e)}}},[t.curCard.iconType?r("i",{class:"icon-bank-"+t.curCard.iconType,attrs:{slot:"title"},slot:"title"}):t._e(),t._v(" "),r("span",{staticClass:"curCard",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.curCard.key))])])],1),t._v(" "),r("group",[r("cell",{attrs:{title:"申请金额"}}),t._v(" "),r("cell",{staticClass:"rewrite",attrs:{value:"value"}},[r("span",[t._v("￥")]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.reWriteShow,expression:"reWriteShow"}],staticClass:"receipt"},[t._v(t._s(t.msgNum))]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.newNum,expression:"newNum"},{name:"show",rawName:"v-show",value:0==t.reWriteShow,expression:"reWriteShow==false"}],attrs:{type:"tel",maxlength:"7",autofocus:"autofocus",placeholder:"请输入"},domProps:{value:t.newNum},on:{blur:t.onBlur,input:function(e){e.target.composing||(t.newNum=e.target.value)}}}),t._v(" "),r("img",{directives:[{name:"show",rawName:"v-show",value:t.reWriteShow,expression:"reWriteShow"}],staticClass:"input_icon",attrs:{src:a("BrRn"),alt:"重新输入"},on:{click:t.reWrite}})]),t._v(" "),r("p",{staticClass:"borrowTips"},[r("span",{ref:"spanEnd"},[t._v("¥"+t._s(t.msgTips))]),t._v("需要占用您的消费额度，具体以批核结果为准")])],1),t._v(" "),r("group",[r("cell",{staticClass:"repay",attrs:{title:"还款计划","is-link":""},nativeOn:{click:function(e){return t.goRepay(e)}}},[r("p",[t._v("还款总额 ¥"+t._s(t.msgTotal))])]),t._v(" "),r("cell",{staticClass:"discount",attrs:{title:"优惠",value:"费率6.3折"}},[r("div",{staticClass:"reduction"},[t._v("费率"+t._s(t.fee)+"折")])])],1),t._v(" "),r("group",[r("cell",{staticClass:"newCard",attrs:{title:"转入账户","is-link":""},nativeOn:{click:function(e){return t.selectInAccount(e)}},model:{value:t.curInAccount.key,callback:function(e){t.$set(t.curInAccount,"key",e)},expression:"curInAccount.key"}}),t._v(" "),r("cell",{staticClass:"purpose",attrs:{title:"资金用途","is-link":""},nativeOn:{click:function(e){return t.selectPurpose(e)}},model:{value:t.curPurpose.key,callback:function(e){t.$set(t.curPurpose,"key",e)},expression:"curPurpose.key"}})],1),t._v(" "),r("div",{staticClass:"tips"},[r("p",{staticClass:"checkTips"},[t._v("即日起，转入账户为费银行I类账户，将导致划账失败")]),t._v(" "),r("check-icon",{staticClass:"tips",attrs:{value:t.check,type:"plain"},on:{"update:value":function(e){t.check=e}}},[t._v("已阅读并同意")]),t._v(" "),r("a",{on:{click:t.goPact}},[t._v("《财智金产品服务协议》及还款计划》")])],1),t._v(" "),r("x-button",{attrs:{"action-type":"button",disabled:t.status},nativeOn:{click:function(e){return t.showMsg(e)}}},[t._v("预览办理信息")]),t._v(" "),r("select-card",{attrs:{cardList:t.cardArr},on:{clickNormalItem:t.clickNormalCard},model:{value:t.cardFlag,callback:function(e){t.cardFlag=e},expression:"cardFlag"}}),t._v(" "),r("select-card",{attrs:{cardList:t.inAccountArr},on:{clickCardHandler:t.addReceipt,clickNormalItem:t.clickNormalAccount},model:{value:t.inAccountFlag,callback:function(e){t.inAccountFlag=e},expression:"inAccountFlag"}}),t._v(" "),r("select-card",{attrs:{title:"资金用途",addCard:!1,cardList:t.purposeArr},on:{clickNormalItem:t.clickNormalPurpose},model:{value:t.purposeFlag,callback:function(e){t.purposeFlag=e},expression:"purposeFlag"}})],1)],1)},o=[],s={render:r,staticRenderFns:o};e.a=s},BrRn:function(t,e,a){t.exports=a.p+"static/img/input_icon.png"},EM7W:function(t,e){},Gi5D:function(t,e,a){"use strict";e.a={cardList:function(t,e){var a=__Vue__.$store.getters.enableInstalment(),r=void 0,o={normal:[]};o.normal=o.normal.concat(_.transform(a,function(t,e){var a=e.cardType,r=e.accountNo,o=e.flag,s=void 0===o?null:o,n=e.accountType;t.push({iconType:"CGB",key:"广发"+a+"("+r.slice(r.length-4)+")",value:r,flag:s,accountType:n})})),r=t?_.findIndex(o.normal,{value:t}):e?_.findIndex(o.normal,{value:e}):"0";var s=o.normal[r];return o.normal[r].selected=!0,{cardArr:o,curCard:s}}}},N5rQ:function(t,e,a){"use strict";var r=a("4YfN"),o=a.n(r),s=a("HVJf"),n=a("fvyU"),c=a("IXui"),i=a("CKVb"),u=a("gpPJ"),l=a("neaj"),d=a("Gi5D"),p={rtfbSiStmtProjCount:"",rtfbSiStmtProjEchalOptionOne:"",rtfbSiStmtProjOfDesOne:"",rtfbSiStmtProjOfDesTwo:"",meausreList_first:"",meausreList_second:"",defaultPer:"",defaultMeas:"",scardFlag:""};o()({},a.i(s.b)("needcashStore",["data"]),{getUserInfo:function(){return this.$store.getters.getStateKey("WL-Authentication-Success.UserInfoAuthRealm.attributes.data").data},status:function(){return 0==this.check||""==this.msgNum}}),n.a,l.a,c.a,i.a,u.a},OmWI:function(t,e){},SPHO:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vux-check-icon",on:{click:t.updateValue}},[a("icon",{directives:[{name:"show",rawName:"v-show",value:"default"===t.type&&t.value,expression:"type === 'default' && value"}],attrs:{type:"success"}}),t._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:"plain"===t.type&&t.value,expression:"type === 'plain' && value"}],attrs:{type:"success_circle"}}),t._v(" "),a("icon",{directives:[{name:"show",rawName:"v-show",value:!t.value,expression:"!value"}],attrs:{type:"circle"}}),t._v(" "),a("span",[t._t("default")],2)],1)},o=[],s={render:r,staticRenderFns:o};e.a=s},gP1d:function(t,e,a){"use strict";var r=a("4YfN"),o=a.n(r),s=a("HVJf"),n=a("fvyU"),c=a("IXui"),i=a("CKVb"),u=a("gpPJ"),l=a("neaj"),d=a("Gi5D"),p={rtfbSiStmtProjCount:"",rtfbSiStmtProjEchalOptionOne:"",rtfbSiStmtProjOfDesOne:"",rtfbSiStmtProjOfDesTwo:"",meausreList_first:"",meausreList_second:"",defaultPer:"",defaultMeas:"",scardFlag:""};e.a={name:"general",data:function(){return{cardFlag:!1,cardArr:{},curCard:"",inAccountFlag:!1,inAccountArr:{},curInAccount:"",purposeFlag:!1,purposeArr:{normal:[{key:"医疗",value:"0"},{key:"教育",value:"1"},{key:"购物",value:"2"},{key:"旅游",value:"3"}]},curPurpose:"",reWriteShow:!0,tipsShow:!0,check:!1,valueNew:[],msgCatipal:this.$store.state.needcashStore.data.catipal,msgTotal:"",msgTips:"",msgNew:"",msgFun:"",msgAcc:"",newNum:"",fee:"",baseFee:"",msgNum:"",checkTips:"",select:this.$store.state.needcashStore.data.select,text:""}},computed:o()({},a.i(s.b)("needcashStore",["data"]),{getUserInfo:function(){return this.$store.getters.getStateKey("WL-Authentication-Success.UserInfoAuthRealm.attributes.data").data},status:function(){return 0==this.check||""==this.msgNum}}),components:{XInput:n.a,CheckIcon:l.a,XButton:c.a,Group:i.a,Cell:u.a},methods:{selectCard:function(){this.cardFlag=!0},selectInAccount:function(){this.inAccountFlag=!0},selectPurpose:function(){this.purposeFlag=!0},clickNormalCard:function(t){this.curCard=t,console.log(this.curCard.value)},clickNormalAccount:function(t){this.curInAccount=t,console.log(this.curInAccount.value)},clickNormalPurpose:function(t){this.curPurpose=t,console.log(this.curPurpose.value)},addReceipt:function(){console.log(11111111111),this.$router.push({name:"automatic_instalment_autoInstal"})},goPact:function(){},reWrite:function(){},onBlur:function(){},goRepay:function(){""!=this.msgNum&&(this.msgNum=changeMoneyMode2(this.msgNum))},showMsg:function(){},queryCardActivate:function(t,e){var a=this;console.log(e);var r={},o={cardNo:t};window.client.request({url:"/api/MH0101.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0101",params:o,success:function(o){console.log("查询卡号是否激活接口"),"0"==o.errorCode?(r.scardFlag_index=o.cd.cardFlag,r.general_accountNo=t,r.callback=e,a.warmPrompt(r)):a.$vux.toast.show(o.errorMsg)}})},warmPrompt:function(t){var e=this;console.log(t);var a={pactNo:"MH100048"};window.client.request({url:"/api/MH0016_general.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0016",params:a,success:function(a){if(console.log("温馨提示"),"0"==a.errorCode){t.pactText=a.pactText;"1"==t.scardFlag_index?e.agreementActivate(t):e.inactivatedApply(t)}else e.$vux.toast.show("res.errorMsg")}})},agreementActivate:function(t){var e=this;console.log("已激活卡号，资金用途");var a={};window.client.request({url:"/api/MH0104_general.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0104",params:a,success:function(a){if("0"==a.errorCode){var r=_(a.iEppcUse).map("purpose").value();t.iEppcUse_index=r,e.activateApply(t)}else e.$vux.toast.show(a.errorMsg)}})},queryFeeRate:function(t){var e=this,a=t.accountNo,r=(this.getUserInfo.customerId,{accountNo:a});window.client.request({url:"/api/MH0180.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0180",params:r,success:function(a){"0"==a.errorCode?(dataroot80_index=standardData(data.invocationResult.root.cd,"feeValueListA").result.kColl,0!=dataroot80_index.length?(t.dataroot80_index=dataroot80_index,e.receiptRegister(t)):e.$vux.toast.show("集合为空")):e.$vux.toast.show(a.errorMsg)}})},receiptRegister:function(t){var e=this;window.client.request({url:"/api/MH0108.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0108",params:params80,success:function(a){if("0"==a.errorCode){var r=a;t.dataroot08_index=r;var o=o(t),s=o.data_paragms;if("Y"==o.rtfbSiStmtProjEchalOptionOne){var n={projofNum:"2"};"1"==s.scardFlag?(n.srcCaseId=dataroot05_index.srcCaseId,e.activateApply(t,n,s)):e.inactivatedApply(t,n,s)}else p={rtfbSiStmtProjCount:"",rtfbSiStmtProjEchalOptionOne:"",rtfbSiStmtProjOfDesOne:"",rtfbSiStmtProjOfDesTwo:"",meausreList_first:"",meausreList_second:"",defaultPer:"",defaultMeas:"",scardFlag:""},t.callback.call(e,s)}}})},activateApply:function(t,e,a){var r=this;console.log("已激活预申请接口"),console.log(t);var o=(this.getUserInfo.customerId,t.general_accountNo),s={accountNo:o};void 0!=e&&""!=e?(s.projofNum=e.projofNum,s.srcCaseId=e.srcCaseId):(s.projofNum="1",s.srcCaseId=""),window.client.request({url:"/api/MH0105.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0105",params:s,success:function(o){var s=void 0,n=void 0;if(void 0!=e&&""!=e?s=o:n=o,"0"==o.errorCode)if(void 0!=e&&""!=e){var c=standardData(s.cd,"BP0033DetailList").result.kColl;p.rtfbSiStmtProjOfDesTwo=s.cd.rtfbSiStmtProjOfDesTwo,p.meausreList_second=c,t.callback.call(r,a)}else t.dataroot05_index=n,r.queryFeeRate(t);else r.$vux.toast.show(o.errorMsg)}})},inactivatedApply:function(){console.log("未激活预申请接口")},jumpPageparams:function(t){var e,a;return"1"==t.scardFlag_index?(e={scardFlag:t.scardFlag_index,iEppcUse:t.iEppcUse_index,dataroot05:t.dataroot05_index,dataroot80:t.dataroot80_index,pactText:t.pactText01,general_accountNo:t.general_accountNo,dataroot08:t.dataroot08_index},a=t.dataroot05_index.cd.rtfbSiStmtProjEchalOptionOne):(e={scardFlag:t.scardFlag_index,data_root02:t.data_root02_index,data_root03:t.data_root03_index,pactText:t.pactText01,dataroot08:t.dataroot08_index,general_accountNo:t.general_accountNo},a=t.data_root02_index.proj_echal_option),{data_paragms:e,rtfbSiStmtProjEchalOptionOne:a}},general_goPage:function(t){console.log("1111111111")}},created:function(){var t=this.$route.params.accountNo,e=this.getUserInfo.defaultAccountNo;this.cardArr=d.a.cardList(t,e).cardArr,this.inAccountArr=d.a.cardList(t,e).cardArr,this.curCard=d.a.cardList(t,e).curCard,this.curInAccount=this.inAccountArr.normal[0],this.curPurpose=this.purposeArr.normal[0];var a=this.curCard.value;this.queryCardActivate(a,this.general_goPage)}}},hbqK:function(t,e,a){"use strict";function r(t){a("EM7W")}Object.defineProperty(e,"__esModule",{value:!0});var o=(a("N5rQ"),a("gP1d")),s=a("3P2X"),n=a("C7Lr"),c=r,i=n(o.a,s.a,!1,c,null,null);e.default=i.exports},neaj:function(t,e,a){"use strict";function r(t){a("OmWI")}var o=(a("s7ZW"),a("2hw5")),s=a("SPHO"),n=a("C7Lr"),c=r,i=n(o.a,s.a,!1,c,null,null);e.a=i.exports},s7ZW:function(t,e,a){"use strict";var r=a("hArn");r.a,Boolean,String}});