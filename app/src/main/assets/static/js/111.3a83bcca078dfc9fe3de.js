webpackJsonp([111],{"+8eN":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("xcgb-box",[n("xcgb-head",{attrs:{title:"我的订单",alpha:1,keepAlive:!1,leftOptions:[{type:"left_arrow_black"}],rightOptions:[{type:"index_icon"}]},on:{rightHandler:t.goHome}}),t._v(" "),n("section",{staticClass:"main my-order"},[n("tab",{attrs:{"line-width":1,"custom-bar-width":"60px","active-color":"#f00"}},[n("tab-item",{attrs:{selected:""},on:{"on-item-click":t.itemClick}},[t._v("全部")]),t._v(" "),n("tab-item",{on:{"on-item-click":t.itemClick}},[t._v("待付款")]),t._v(" "),n("tab-item",{on:{"on-item-click":t.itemClick}},[t._v("待发货")]),t._v(" "),n("tab-item",{on:{"on-item-click":t.itemClick}},[t._v("已发货")])],1),t._v(" "),t.myOrder.length>0?n("ul",{staticClass:"order-list"},t._l(t.myOrder,function(e){return n("li",{staticClass:"order",on:{click:function(r){r.stopPropagation(),r.preventDefault(),t.goodsDetails(e.order_id)}}},[n("h1",{staticClass:"state"},[n("img",{attrs:{src:r("/NOr"),alt:""}}),t._v(" "),n("span",[t._v(t._s(e.orderStr))]),t._v(" "),"none"!=e.operater.tip?n("span",{on:{click:function(r){r.stopPropagation(),r.preventDefault(),t.operater(e.operater.type,e.order_id)}}},[t._v(t._s(e.operater.tip))]):t._e()]),t._v(" "),n("div",{staticClass:"goods"},[n("img",{attrs:{src:e.picture_url,alt:"loading"}}),t._v(" "),n("div",{staticClass:"goods-des"},[n("h3",{staticClass:"goods-name"},[t._v("\n              "+t._s(e.goods_nm)+"\n            ")]),t._v(" "),n("span",[t._v(t._s(e.goods_attr1)+"：【"+t._s(e.goods_color)+"】")]),t._v(" "),n("span",[t._v("￥"+t._s(e.per_stage)+" X "+t._s(e.stages_num)+"期")])]),t._v(" "),n("div",{staticClass:"goods-count"},[t._v("\n            数量:"+t._s(e.GOODS_NUM)+"\n          ")])]),t._v(" "),n("div",{staticClass:"pay"},[n("span",[t._v(t._s(e.source))]),t._v(" "),n("span",[t._v("共"+t._s(e.GOODS_NUM)+"件商品，合计:￥"+t._s(e.goods_price))])])])})):n("div",{staticClass:"no-order"},[n("img",{attrs:{src:r("13A7"),alt:""}}),t._v(" "),n("span",[t._v("暂无相关订单。")]),t._v(" "),n("XButton",{attrs:{link:"/shopping/shoppingMall"}},[t._v("去广发商城逛逛")])],1),t._v(" "),n("confirm",{staticClass:"delete-goods",attrs:{"close-on-confirm":!1,title:"确定是否删除？"},on:{"on-confirm":function(e){t.deleteGoods(t.deleteData)}},model:{value:t.show1,callback:function(e){t.show1=e},expression:"show1"}})],1)],1)},i=[],s={render:n,staticRenderFns:i};e.a=s},"/NOr":function(t,e,r){t.exports=r.p+"static/img/promot_07.png"},"13A7":function(t,e,r){t.exports=r.p+"static/img/my_order.png"},"4sSv":function(t,e){},AZwt:function(t,e,r){"use strict";var n=r("j108"),i=r("inDh"),s=r("IXui"),a=r("JGLT"),o=r("f4gh"),c=r("jcK4");n.a,i.a,s.a,a.a,o.a},"DV+v":function(t,e,r){"use strict";r.d(e,"b",function(){return i}),r.d(e,"a",function(){return s});var n=r("7+S+"),i={mounted:function(){this.value>=0&&(this.currentIndex=this.value),this.updateIndex()},methods:{updateIndex:function(){if(this.$children&&this.$children.length){this.number=this.$children.length;for(var t=this.$children,e=0;e<t.length;e++)t[e].currentIndex=e,t[e].currentSelected&&(this.index=e)}}},props:{value:Number},watch:{currentIndex:function(t,e){e>-1&&this.$children[e]&&(this.$children[e].currentSelected=!1),t>-1&&this.$children[t]&&(this.$children[t].currentSelected=!0),this.$emit("input",t),this.$emit("on-index-change",t,e)},index:function(t){this.currentIndex=t},value:function(t){this.index=t}},data:function(){return{index:-1,currentIndex:this.index,number:this.$children.length}}},s={props:{selected:{type:Boolean,default:!1}},mounted:function(){this.$parent.updateIndex()},beforeDestroy:function(){var t=this.$parent;this.$nextTick(function(){t.updateIndex()})},methods:{onItemClick:function(t){var e=this;if(this.$parent.preventDefault)return void this.$parent.$emit("on-before-index-change",this.currentIndex);void 0!==this.disabled&&!1!==this.disabled||(this.currentSelected=!0,this.$parent.currentIndex=this.currentIndex,this.$nextTick(function(){e.$emit("on-item-click",e.currentIndex)})),!0===t&&r.i(n.a)(this.link,this.$router)}},watch:{currentSelected:function(t){t&&(this.$parent.index=this.currentIndex)},selected:function(t){this.currentSelected=t}},data:function(){return{currentIndex:-1,currentSelected:this.selected}}}},DvJM:function(t,e,r){"use strict";function n(t){r("jvJB")}Object.defineProperty(e,"__esModule",{value:!0});var i=(r("AZwt"),r("x6lE")),s=r("+8eN"),a=r("C7Lr"),o=n,c=a(i.a,s.a,!1,o,null,null);e.default=c.exports},Im1y:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"vux-tab-item",class:[t.currentSelected?t.activeClass:"",{"vux-tab-selected":t.currentSelected,"vux-tab-disabled":t.disabled}],style:t.style,on:{click:t.onItemClick}},[t._t("default"),t._v(" "),void 0!==t.badgeLabel&&""!==t.badgeLabel?r("span",{staticClass:"vux-tab-item-badge",style:{background:t.badgeBackground,color:t.badgeColor}},[t._v("\n  "+t._s(t.badgeLabel))]):t._e()],2)},i=[],s={render:n,staticRenderFns:i};e.a=s},NnCh:function(t,e,r){"use strict";var n=r("DV+v");e.a={name:"tab-item",mixins:[n.a],props:{activeClass:String,disabled:Boolean,badgeBackground:{type:String,default:"#f74c31"},badgeColor:{type:String,default:"#fff"},badgeLabel:String},computed:{style:function(){return{borderWidth:this.$parent.lineWidth+"px",borderColor:this.$parent.activeColor,color:this.currentSelected?this.$parent.activeColor:this.disabled?this.$parent.disabledColor:this.$parent.defaultColor,border:this.$parent.animate?"none":"auto"}}}}},Xf7U:function(t,e,r){"use strict";var n=r("DV+v");n.a,String,Boolean,String,String,String},gbx7:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"vux-tab-wrap",class:"top"===t.barPosition?"vux-tab-bar-top":""},[r("div",{staticClass:"vux-tab-container"},[r("div",{ref:"nav",staticClass:"vux-tab",class:[{"vux-tab-no-animate":!t.animate},{scrollable:t.scrollable}]},[t._t("default"),t._v(" "),t.animate?r("div",{staticClass:"vux-tab-ink-bar",class:t.barClass,style:t.barStyle},[t.customBarWidth?r("span",{staticClass:"vux-tab-bar-inner",style:t.innerBarStyle}):t._e()]):t._e()],2)])])},i=[],s={render:n,staticRenderFns:i};e.a=s},inDh:function(t,e,r){"use strict";var n=(r("Xf7U"),r("NnCh")),i=r("Im1y"),s=r("C7Lr"),a=s(n.a,i.a,!1,null,null,null);e.a=a.exports},j108:function(t,e,r){"use strict";function n(t){r("4sSv")}var i=(r("vftf"),r("uAUY")),s=r("gbx7"),a=r("C7Lr"),o=n,c=a(i.a,s.a,!1,o,null,null);e.a=c.exports},jcK4:function(t,e,r){"use strict";r.d(e,"b",function(){return s}),r.d(e,"a",function(){return u});var n=r("4YfN"),i=r.n(n),s=function(t){var e=t.invocationResult,r=e.returnCode,n=e.resultList0;if("000000"==r)return n=n.map(function(t){return i()({},t,{orderStr:a(t.cur_status_id),source:c(t.SOURCE_ID),operater:o(t.cur_status_id)})})},a=function(t){var e="";switch(t){case"0301":e="待付款";break;case"0316":e="订单状态未明";break;case"0308":e="支付成功";break;case"0307":e="支付失败";break;case"0305":e="处理中";break;case"0309":e="已发货";break;case"0306":e="发货处理中";break;case"0310":e="已签收";break;case"0312":e="已撤单";break;case"0304":e="已废单";break;case"0334":e="退货申请";break;case"0327":e="退货成功";break;case"0335":e="拒绝退货申请";break;case"0380":e="拒绝签收";break;case"0381":e="无人签收";break;case"0382":e="订单推送失败";break;default:e="未知错误"}return e},o=function(t){var e={};return"0301"==t?(e.tip="继续支付",e.type="continuePay"):"0316"==t||"0305"==t||"0334"==t||"0327"==t||"0335"==t||"0380"==t||"0381"==t||"0382"==t?(e.tip="none",e.type=""):"0308"==t||"0306"==t?(e.tip="催发货",e.type="05"):"0309"==t?(e.tip="查看物流",e.type="checkLogistics"):"0307"==t||"0312"==t||"0304"==t?(e.tip="删除订单",e.type="04",e.func="deleteOrder"):"0310"==t&&(e.tip="申请退货",e.type="02",e.type="returnGoods"),e},c=function(t){var e="";switch(t){case"00":e="网站订购";break;case"01":e="电话人工订购";break;case"02":e="电话语音订购";break;case"03":e="手机订购";break;case"04":e="短信订购";break;case"05":case"06":e="微信订购";break;case"07":case"08":e="易信订购";break;case"09":e="手机订购"}return e},u=function(t,e){window.client.request({url:"/api/MAL107.json",adapter:"newCommonMallAdapter",procedure:"MAL107",parameters:'[{"tranCode":"MAL107","origin":"09","orderMainId":"'+t.orderMainId+'","orderId":"'+t.orderId+'","intType":"'+t.intType+'","doDesc":"'+encodeURI(t.doDesc)+'","cust_message":"","userIP":"192.168.191.2"}]',success:function(r){var n=r.invocationResult,i=n.returnCode,s=n.successCode;"000000"==i?"01"==s&&("04"==t.intType&&(e.$vux.loading.hide(),e.show1=!1,e.$vux.toast.text(t.sucessDes,"top"),e.myOrder=e.myOrder.filter(function(e){return e.order_id!=t.orderId})),"05"==t.intType&&(e.$vux.loading.hide(),e.$nextTick(function(){e.$vux.toast.text(t.sucessDes,"top")}))):(e.show1=!1,e.$vux.loading.hide(),e.$nextTick(function(){e.$vux.toast.show({type:"warn",text:"出错了"})}))}})}},jvJB:function(t,e){},uAUY:function(t,e,r){"use strict";var n=r("DV+v");e.a={name:"tab",mixins:[n.b],mounted:function(){var t=this;this.$nextTick(function(){setTimeout(function(){t.hasReady=!0},0)})},props:{lineWidth:{type:Number,default:3},activeColor:String,barActiveColor:String,defaultColor:String,disabledColor:String,animate:{type:Boolean,default:!0},customBarWidth:[Function,String],preventDefault:Boolean,scrollThreshold:{type:Number,default:4},barPosition:{type:String,default:"bottom",validator:function(t){return-1!==["bottom","top"].indexOf(t)}}},computed:{barLeft:function(){if(this.hasReady){var t=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return this.currentIndex*(100/t)+"%"}},barRight:function(){if(this.hasReady){var t=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return(t-this.currentIndex-1)*(100/t)+"%"}},innerBarStyle:function(){return{width:"function"==typeof this.customBarWidth?this.customBarWidth(this.currentIndex):this.customBarWidth,backgroundColor:this.barActiveColor||this.activeColor}},barStyle:function(){var t={left:this.barLeft,right:this.barRight,display:"block",height:this.lineWidth+"px",transition:this.hasReady?null:"none"};return this.customBarWidth?t.backgroundColor="transparent":t.backgroundColor=this.barActiveColor||this.activeColor,t},barClass:function(){return{"vux-tab-ink-bar-transition-forward":"forward"===this.direction,"vux-tab-ink-bar-transition-backward":"backward"===this.direction}},scrollable:function(){return this.number>this.scrollThreshold}},watch:{currentIndex:function(t,e){this.direction=t>e?"forward":"backward",this.$emit("on-index-change",t,e),this.hasReady&&this.scrollToActiveTab()}},data:function(){return{direction:"forward",right:"100%",hasReady:!1}},methods:{scrollToActiveTab:function(){var t=this;if(this.scrollable&&this.$children&&this.$children.length){var e=this.$children[this.currentIndex].$el,r=0,n=function n(){var i=t.$refs.nav;i.scrollLeft+=(e.offsetLeft-(i.offsetWidth-e.offsetWidth)/2-i.scrollLeft)/15,++r<15&&window.requestAnimationFrame(n)};window.requestAnimationFrame(n)}}}}},vftf:function(t,e,r){"use strict";var n=r("DV+v");n.b,Number,String,String,String,String,Boolean,Function,String,Boolean,Number,String},x6lE:function(t,e,r){"use strict";var n=r("j108"),i=r("inDh"),s=r("IXui"),a=r("JGLT"),o=r("f4gh"),c=r("jcK4");e.a={name:"myOrder",data:function(){return{show1:!1,show2:!0,deleteData:{},cur_status_ids:"0301|0304|0305|0306|0307|0308|0309|0310|0312|0316|0327|0334|0335|0380|0381|0382|0360",currentPage:1,myOrder:[]}},computed:{getCustomerId:function(){return this.$store.getters.getStateKey().customerId}},components:{Tab:n.a,TabItem:i.a,XButton:s.a,Confirm:a.a,Toast:o.a},methods:{goBack:function(){window.client.goBack()},goHome:function(){this.$router.push({name:"home_index"})},goodsDetails:function(t){localStorage.setItem("orderId",t),this.$router.push({name:"mall_order_orderDetails"})},deleteGoods:function(t){var e=this;this.$vux.loading.show({transition:"",text:"删除中"}),this.$nextTick(function(){r.i(c.a)(t,e)})},operater:function(t,e){var n=this,i=e.substr(0,e.length-2),s={orderMainId:i,orderId:e,intType:t};switch(t){case"04":this.show1=!0,s.doDesc="APP商城删除",s.sucessDes="订单删除成功",this.deleteData=s;break;case"05":s.doDesc="催货",s.sucessDes="已提醒卖家",this.$vux.loading.show({transition:"",text:"进行中..."}),this.$nextTick(function(){r.i(c.a)(s,n)})}},itemClick:function(t){var e=this;switch(t){case 0:this.cur_status_ids="0301|0304|0305|0306|0307|0308|0309|0310|0312|0316|0327|0334|0335|0380|0381|0382|0360";break;case 1:this.cur_status_ids="0301";break;case 2:this.cur_status_ids="0306|0308";break;case 3:this.cur_status_ids="0309|0310|0334|0327|0335|0380|0381"}window.client.request({url:"/api/MAL308.json",adapter:"newCommonMallAdapter",procedure:"MAL308",parameters:'[{"tranCode":"MAL308","origin":"09","cust_id":"'+this.getCustomerId+'","cur_status_id":"0000","rowsPage":"5","currentPage":1,"orderType":"04","cur_status_ids":"'+this.cur_status_ids+'","userIP":"192.168.191.3"}]',success:function(t){e.myOrder=r.i(c.b)(t)}})}},created:function(){var t=this;window.client.request({url:"/api/MAL308.json",adapter:"newCommonMallAdapter",procedure:"MAL308",parameters:'[{"tranCode":"MAL308","origin":"09","cust_id":"'+this.getCustomerId+'","cur_status_id":"0000","rowsPage":"5","currentPage":1,"orderType":"04","cur_status_ids":"0301|0304|0305|0306|0307|0308|0309|0310|0312|0316|0327|0334|0335|0380|0381|0382|0360","userIP":"192.168.191.3"}]',success:function(e){t.myOrder=r.i(c.b)(e)}})}}}});