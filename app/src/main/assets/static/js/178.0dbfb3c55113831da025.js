webpackJsonp([178],{"0Qor":function(e,r,a){"use strict";a.d(r,"g",function(){return d}),a.d(r,"e",function(){return p}),a.d(r,"c",function(){return C}),a.d(r,"h",function(){return i}),a.d(r,"i",function(){return u}),a.d(r,"j",function(){return l}),a.d(r,"k",function(){return b}),a.d(r,"f",function(){return f}),a.d(r,"d",function(){return m}),a.d(r,"m",function(){return h}),a.d(r,"l",function(){return k}),a.d(r,"b",function(){return y}),a.d(r,"a",function(){return g});var n=a("YTJj"),s=(a.n(n),a("a3Yh")),t=a.n(s),o=a("rVsN"),c=a.n(o),d=function(){return new c.a(function(e,r){window.client.request({url:"/api/MH0003.json",adapter:"CommonAdapter",procedure:"MH0003",parameters:"[{'tranCode':'MH0003','srcChannel':'MH'}]",success:function(a){var n=a.root;if("0"==n.ec){for(var s=[],t=n.cd.result.kColl,o=0;o<t.length;o++)s.push({key:t[o].aprShowMsg,value:t[o].aprValue});e(s)}else r(n.em)},error:function(){console.log("loadMH0003错误")}})})},i=function(e){return new c.a(function(r,a){window.client.request({url:"/api/MH0078.json",adapter:"CommonAdapter",isLogin:!0,procedure:"second_MH0078",parameters:"[{'tranCode':'MH0078','srcChannel':'MH','cardNo':"+e+"}]",success:function(e){"0"==e.header.errorCode||"1"==e.header.errorCode?r(e.header.errorCode):a(e.header.errorMsg)},error:function(){console.log("MH0078接口错误")}})})},u=function(e){return new c.a(function(r,a){window.client.request({url:"/api/MH0234.json",adapter:"CommonAdapter",procedure:"MH0234",parameters:"[{'tranCode':'MH0234','cardNo':"+e+"}]",success:function(e){"0"==e.header.errorCode?r(e.body.getCardNo):a(e.header.errorMsg)},error:function(){console.log("loadMH0234接口错误")}})})},l=function(e){var r=e.keyFactor,a=e.isActive,n=e.submitType,s=e.getUserInfo;console.log(r);var t=(r.activeFlag=a,r);return new c.a(function(e,r){window.client.request({url:"/api/MH0321.json",adapter:"CommonAdapter",procedure:"MH0321",parameters:"["+t+"]",success:function(r){var t=r.body;if("0"==t.ec){var o={};if("Y"==a)switch(t.returnCode){case"00":o={resBody:t,num:"04",fixedCardState:"activeSuccess"};break;case"01":o={resBody:t,num:"04",fixedCardState:"canActive"};break;case"10":case"20":o={resBody:t,num:"04",fixedCardState:"activeFailure"}}else if("1"==n)o={resBody:t,num:"04",fixedCardState:"activeSuccess"};else if("2"==n&&"01"==t.returnCode)o={resBody:t,num:"04",fixedCardState:"canActive"};else{if("3"!=n||"01"!=t.returnCode&&"10"!=t.returnCode&&"20"!=t.returnCode)return!1;o={resBody:t,num:"04",fixedCardState:"cannotActive"}}e(o)}else void 0!=s.CardType&&("JK_card"==s.CardType?p("您的登录手机号与在我行预留的手机号不一致,建议试用预留手机号注册/登录"):"BF_card"==s.CardType&&p("您的登录手机号与在我行预留的手机号不一致,建议试用预留手机号注册/登录"))},error:function(){console.log("loadMH0321接口错误")}})})},b=function(e){var r=e.accountNo,a=e.certType,n=e.certNo;return new c.a(function(e,s){window.client.request({url:"/api/MH0320.json",adapter:"CommonAdapter",procedure:"MH0320",parameters:"[{'tranCode':'MH0320','srcChannel':'MH','accountNo':"+r+",'certType':"+a+",'certNo':"+n+"}]",success:function(r){if("0"==r.body.ec)if("0"==r.body.optionFlag){var a=r.body.mobileNo;console.log(a.length-4);var n=a.substr(a.length-4,4);console.log(n),p("已向尾号为"+n+"的手机号发送验证码"),e("1")}else p("请稍后再重新获取!"),s("0");else console.log(r.body.em)},error:function(){console.log("loadMH0320错误")}})})},p=function(e){__Vue__.$vux.toast.show({text:e,type:"text",height:"10rem",width:"60%"})},C=function(e,r){var a="";switch(e+="",r){case"1":a=e.replace(/(\d{4})/g,"$1 ");break;case"2":a=e.split(" ").join("");break;case"3":a=e.substr(0,4)+"****"+e.substr(e.length-4,4);break;default:a=e}return a},f=function(e){var r=e.customerId,a=e.mobileNo;return new c.a(function(e,n){window.client.request({url:"/api/MH0348.json",adapter:"CommonAdapter",procedure:"MH0348",parameters:"'tranCode':'MH0348','srcChannel':'MH','transferFlowNoNew':'1111111111','customerId':"+r+",'mobileNo':"+a,success:function(r){"0"==r.body.ec?e("00"==r.body.pswdStatus?!0:!1):console.log(r.body.em)},error:function(){console.log("MH0348接口错误!")}})})},m=function(e){var r=e.cardNo,a=e.cerdNo,n=e.num,s=e.option,o=e.name,d=e.mobileNo;return new c.a(function(e,c){var i,u=(i={tranCode:"MH0437",bankNo:"171002",fwdCode:"03069201",ClientManager:"03069201",transferKindOTra:"100003",acctNo:r},t()(i,"tranCode","MH0437"),t()(i,"srcChannel","MH"),i);"0"==n?(u.idno=encodeURI(a),u.idtype=s,u.custName=encodeURI(o)):u.oBankMobileNo=d,window.client.request({url:"/api/MH0437.json",adapter:"CommonAdapter",procedure:"MH0437",parameters:"["+u+"]",success:function(r){if("0"==r.body.ec){var a={};a.relNo=r.body.relNo,a.xid=r.body.xid,a.hostReturnTime=r.body.hostReturnTime,a.all=!0,e(a)}else p(r.body.em)},error:function(){console.log("MH0437接口错误!")}})})},h=function(e){var r=e.cardNo,a=e.mobileNo;return new c.a(function(e,n){window.client.request({url:"/api/MH0345li.json",adapter:"CommonAdapter",procedure:"MH0435",parameters:"[{'tranCode':'','srcChannel':'','merId':'','transType':'','data':'','signData':'','remark':'','accNo':"+r+",'phone':"+a+"}]",success:function(r){"0"==r.header.errorCode&&"0"==r.body.ec?e(r.body):p(r.body.em)},error:function(){console.log("MH0345接口错误!")}})})},k=function(e){var r=e.cardNo;return new c.a(function(e,a){window.client.request({url:"/api/MH0346.json",adapter:"CommonAdapter",procedure:"second_MH0346",parameters:'[{"tranCode": "", "srcChannel": "", "mobileNo": "", "txnType": "", "txnSubType": "",  "bizType": "", "accessType": "", "channelType": "", "acqInsCode": "", "merId": "", "merName": "", "merAbbr": "", "subMerId": "", "subMerName": "", "subMerAbbr": "", "orderId": "", "txnTime": "","accNo": "", "customerInfo": "", "encryptCertId": "", "encryptCard": '+r+',\t"cardFrontNo": '+r.substr(0,6)+', "cardEndNo": '+r.substr(r.length-4,r.length)+"}]",success:function(r){"0"==r.header.errorCode&&"0"==r.body.ec?e(r.body):p(r.header.em)},error:function(){console.log("MH0346接口错误")}})})},g=function(e){var r="",a="default",n="black";switch(e){case"CGB":r="广发银行",a="00",n="red";break;case"BOC":r="中国银行",a="01",n="red";break;case"ICBC":r="工商银行",a="02",n="red";break;case"CMB":r="招商银行",a="03",n="red";break;case"HXB":r="华夏银行",a="04",n="red";break;case"CNCB":r="中信银行",a="05",n="red";break;case"BCCB":r="北京银行",a="06",n="red";break;case"GZCB":r="广州银行",a="07",n="red";break;case"CCB":r="建设银行",a="08",n="blue";break;case"BOCOM":r="交通银行",a="09",n="blue";break;case"SPDB":r="浦发银行",a="10",n="blue";break;case"BOS":r="上海银行",a="11",n="blue";break;case"ABC":r="农业银行",a="12",n="green";break;case"CMBC":r="民生银行",a="13",n="green";break;case"PSBC":r="邮政储蓄银行",a="14",n="green";break;case"PAB":r="平安银行",a="15",n="yellow";break;case"CEB":r="光大银行",a="16",n="purple";break;case"DGCB":r="东莞银行";break;case"BOHC":r="渤海银行";break;case"BOJS":r="江苏银行";break;case"BOLY":r="洛阳银行";break;case"BOSZS":r="石嘴山银行";break;case"CBCRB":r="重庆北碚稠州村镇银行";break;case"CQRCB":r="重庆农商银行";break;case"GHCRB":r="花都稠村镇银行";break;case"FUXINBANK":r="阜新银行";break;case"GXNX":r="广西农村信用社";break;case"GDRCC":r="广东农村信用社";break;case"HBXH":r="湖北农村信用社";break;case"HEBNX":r="河北农村信用社";break;case"AHRCU":r="安徽农村信用社";break;case"BRCB":r="北京农商银行";break;case"GRCB":r="广州农商银行";break;case"JLCB":r="吉林银行";break;case"JLPRCU":r="吉林农村信用社";break;case"JNBANK":r="济宁银行";break;case"JSRCU":r="江苏农村信用社";break;case"JNRCB":r="江南农商银行";break;case"JYRB":r="江苏江阴农商银行";break;case"LJB":r="龙江银行";break;case"KSRB":r="昆山农商银行";break;case"QHRCU":r="青海农村信用社";break;case"RCCOSD":r="山东农村信用社";break;case"SCRCU":r="四川农村信用社";break;case"SDEBANK":r="佛山顺德农村信用社";break;case"SDRCB":r="顺德农商银行";break;case"SZRB":r="深圳农商银行";break;case"TJBHB":r="天津滨海农商银行";break;case"XMCCB":r="厦门银行";break;case"YCCCB":r="宁夏银行";break;case"YDRCB":r="山西尧都农商银行";break;case"YZRB":r="宁波鄞州农村合作银行";break;case"ZYCCB":r="遵义商业银行";break;case"GHB":r="广东华兴银行";break;case"SDB":r="深圳发展银行";break;default:r=card.issInsName}return r.length>10&&(r=r.substring(0,10)+"..."),{bank:r,LOGO:a,color:n}},y=function(e){var r="";switch(e){case"1":r="理财通卡";break;case"2":r="信用卡";break;case"3":r="定期存折";break;case"4":r="活期存折";break;case"5":r="定期存单";break;case"00":r="未知";break;case"01":r="储蓄卡";break;case"02":r="信用卡";break;case"03":r="准贷记账户";break;case"04":r="借贷合一账户";break;case"05":r="预付费账户";break;case"06":r="半开放预付费账户"}return r}},"1S9v":function(e,r,a){e.exports=a.p+"static/img/shibai@3x.png"},"891S":function(e,r,a){"use strict";function n(e){a("X1mp")}Object.defineProperty(r,"__esModule",{value:!0});var s=(a("QF95"),a("d71d")),t=a("PrBu"),o=a("C7Lr"),c=n,d=o(s.a,t.a,!1,c,null,null);r.default=d.exports},PrBu:function(e,r,a){"use strict";var n=function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("xcgb-box",[n("xcgb-head",{attrs:{title:"开通扫码付",keepAlive:!1}}),e._v(" "),n("div",{staticClass:"main"},[n("div",{staticClass:"openResult"},[n("img",{directives:[{name:"show",rawName:"v-show",value:!e.successFlag,expression:"!successFlag"}],attrs:{src:a("1S9v"),alt:""}}),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:e.successFlag,expression:"successFlag"}],attrs:{src:a("f8Pl"),alt:""}}),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:e.successFlag,expression:"successFlag"}],staticClass:"notes"},[e._v("扫码付开通成功")]),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:6!=e.addCardType,expression:"addCardType!=6"}],staticClass:"notes",domProps:{innerHTML:e._s(e.tips)}},[e._v(e._s(e.tips))]),e._v(" "),n("button",{staticClass:"sucBtn",on:{click:function(r){e.gpPay()}}},[e._v(e._s(e.btnName))])])])],1)},s=[],t={render:n,staticRenderFns:s};r.a=t},QF95:function(e,r,a){"use strict";a("0Qor")},X1mp:function(e,r){},YTJj:function(e,r,a){"use strict";r.__esModule=!0,r.default=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}},d71d:function(e,r,a){"use strict";var n=a("0Qor");r.a={name:"register_openResult",data:function(){return{addCardType:"4",cardNo:"",mobileNo:"",successFlag:"",tips:"扫码付开通失败",orParams:""}},computed:{title:function(){return"3"!=this.addCardType&&"4"!=this.addCardType?"银行卡添加成功":"线上消费开通成功"},btnName:function(){if(!this.successFlag)return"返回";if("0"==this.addCardType||"1"==this.addCardType){if(this.tips="您的卡片已经开通线上消费和银联扫码付","5"==this.addCardType)return"继续支付"}else if(this.tips="您的卡片已经开通银联扫码付","6"==this.addCardType||"5"==this.addCardType)return"继续支付"}},methods:{external:function(){console.log("外部链接")},goAgreement:function(){this.$router.push({name:"user_protocol"})},gpPay:function(){this.successFlag?"0"==this.addCardType?console.log("手动登录"):("1"==this.addCardType||"5"==this.addCardType?console.log("状态跳转"):console.log("跳转地址"),"1"==this.addCardType||"7"==this.addCardType?this.getCardInfo():this.orParams.backPage&&0!=this.orParams.backPage.length&&(this.orParams.dimensionReturnPayCode="addCardSucc")):window.client.goBack()},getCardInfo:function(){for(var e,r=this.$store.getters.getStateKey("WL-Authentication-Success.UserInfoAuthRealm.attributes.data").data.otherBankCardList,s=[],t=0;t<r.length;t++)if((e=r[t].encryptCard)==this.orParams.cardNo){s=a.i(n.a)(r[t].dispose_org),s.bank=r[t].issInsName2,s.bank.length>10&&(s.bank=s.bank.substr(0,10)+"..."),s.flag=r[t].flag,s.type=r[t].recAccountType,s.cardType=a.i(n.b)(s.type),s.cardNumber=e,s.number="**** **** **** "+e.substr(e.length-4,e.length),s.scanFlag=r[t].scanFlag,s.consumerFlag=r[t].consumeFlag,s.alias=r[t].alias,s.prodLev1Name=s.bank+s.cardType;var o=s.alias&&s.alias.length?" - "+s.alias:"2"==s.type&&s.prodLev1Name.length&&"广发信用卡"!=s.prodLev1Name?" - "+s.prodLev1Name:"";s.cardName=o;break}this.$router.push({name:"credit_info_cardDetail",cardInfo:s})}},created:function(){this.addCardType=this.$route.params.addCardType,this.successFlag=this.$route.params.successFlag,this.orParams=this.$route.params,console.log(this.$route.params.backPage)}}},f8Pl:function(e,r,a){e.exports=a.p+"static/img/chenggong@3x.png"}});