webpackJsonp([99],{"4sSv":function(t,e){},"5I1O":function(t,e,n){"use strict";function i(t){n("o1Uz")}var r=(n("jRah"),n("uyOw")),a=n("EXCl"),s=n("C7Lr"),o=i,c=s(r.a,a.a,!1,o,null,null);e.a=c.exports},"DV+v":function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return a});var i=n("7+S+"),r={mounted:function(){this.value>=0&&(this.currentIndex=this.value),this.updateIndex()},methods:{updateIndex:function(){if(this.$children&&this.$children.length){this.number=this.$children.length;for(var t=this.$children,e=0;e<t.length;e++)t[e].currentIndex=e,t[e].currentSelected&&(this.index=e)}}},props:{value:Number},watch:{currentIndex:function(t,e){e>-1&&this.$children[e]&&(this.$children[e].currentSelected=!1),t>-1&&this.$children[t]&&(this.$children[t].currentSelected=!0),this.$emit("input",t),this.$emit("on-index-change",t,e)},index:function(t){this.currentIndex=t},value:function(t){this.index=t}},data:function(){return{index:-1,currentIndex:this.index,number:this.$children.length}}},a={props:{selected:{type:Boolean,default:!1}},mounted:function(){this.$parent.updateIndex()},beforeDestroy:function(){var t=this.$parent;this.$nextTick(function(){t.updateIndex()})},methods:{onItemClick:function(t){var e=this;if(this.$parent.preventDefault)return void this.$parent.$emit("on-before-index-change",this.currentIndex);void 0!==this.disabled&&!1!==this.disabled||(this.currentSelected=!0,this.$parent.currentIndex=this.currentIndex,this.$nextTick(function(){e.$emit("on-item-click",e.currentIndex)})),!0===t&&n.i(i.a)(this.link,this.$router)}},watch:{currentSelected:function(t){t&&(this.$parent.index=this.currentIndex)},selected:function(t){this.currentSelected=t}},data:function(){return{currentIndex:-1,currentSelected:this.selected}}}},DyDz:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my_coupon_discount"},[n("tab",{attrs:{"line-width":1,"custom-bar-width":"1rem","bar-active-color":"red","active-color":"#000"}},[n("tab-item",{attrs:{selected:""},on:{"on-item-click":t.handler}},[t._v("未使用")]),t._v(" "),n("tab-item",{on:{"on-item-click":t.handler}},[t._v("已使用")]),t._v(" "),n("tab-item",{on:{"on-item-click":t.handler}},[t._v("已过期")])],1),t._v(" "),n("div",{staticClass:"main"},[t.noData?n("div",{staticClass:"tips"},[n("i")]):t._e(),t._v(" "),t._l(t.couponList,function(t,e){return n("nouse-discount",{key:e,attrs:{item:t}})})],2)],1)},r=[],a={render:i,staticRenderFns:r};e.a=a},EXCl:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"no-use-discount"},[n("div",{staticClass:"discount-coupon"},[n("div",{staticClass:"coupon"}),t._v(" "),n("div",{staticClass:"message",on:{click:t.showDetails}},[n("p",{staticClass:"name"},[t._v(t._s(t.item.name))]),t._v(" "),n("p",{staticClass:"value-date"},[t._v("有效期："+t._s(t.item.valDate)+"-"+t._s(t.item.expiredDate))])])])])},r=[],a={render:i,staticRenderFns:r};e.a=a},Im1y:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vux-tab-item",class:[t.currentSelected?t.activeClass:"",{"vux-tab-selected":t.currentSelected,"vux-tab-disabled":t.disabled}],style:t.style,on:{click:t.onItemClick}},[t._t("default"),t._v(" "),void 0!==t.badgeLabel&&""!==t.badgeLabel?n("span",{staticClass:"vux-tab-item-badge",style:{background:t.badgeBackground,color:t.badgeColor}},[t._v("\n  "+t._s(t.badgeLabel))]):t._e()],2)},r=[],a={render:i,staticRenderFns:r};e.a=a},NnCh:function(t,e,n){"use strict";var i=n("DV+v");e.a={name:"tab-item",mixins:[i.a],props:{activeClass:String,disabled:Boolean,badgeBackground:{type:String,default:"#f74c31"},badgeColor:{type:String,default:"#fff"},badgeLabel:String},computed:{style:function(){return{borderWidth:this.$parent.lineWidth+"px",borderColor:this.$parent.activeColor,color:this.currentSelected?this.$parent.activeColor:this.disabled?this.$parent.disabledColor:this.$parent.defaultColor,border:this.$parent.animate?"none":"auto"}}}}},RobZ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n("c5hy"),n("ltGP")),r=n("DyDz"),a=n("C7Lr"),s=a(i.a,r.a,!1,null,null,null);e.default=s.exports},Xf7U:function(t,e,n){"use strict";var i=n("DV+v");i.a,String,Boolean,String,String,String},c5hy:function(t,e,n){"use strict";var i=n("3cXf"),r=n.n(i),a=n("j108"),s=n("inDh"),o=n("5I1O");a.a,s.a,o.a},gbx7:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vux-tab-wrap",class:"top"===t.barPosition?"vux-tab-bar-top":""},[n("div",{staticClass:"vux-tab-container"},[n("div",{ref:"nav",staticClass:"vux-tab",class:[{"vux-tab-no-animate":!t.animate},{scrollable:t.scrollable}]},[t._t("default"),t._v(" "),t.animate?n("div",{staticClass:"vux-tab-ink-bar",class:t.barClass,style:t.barStyle},[t.customBarWidth?n("span",{staticClass:"vux-tab-bar-inner",style:t.innerBarStyle}):t._e()]):t._e()],2)])])},r=[],a={render:i,staticRenderFns:r};e.a=a},inDh:function(t,e,n){"use strict";var i=(n("Xf7U"),n("NnCh")),r=n("Im1y"),a=n("C7Lr"),s=a(i.a,r.a,!1,null,null,null);e.a=s.exports},j108:function(t,e,n){"use strict";function i(t){n("4sSv")}var r=(n("vftf"),n("uAUY")),a=n("gbx7"),s=n("C7Lr"),o=i,c=s(r.a,a.a,!1,o,null,null);e.a=c.exports},jRah:function(t,e,n){"use strict"},ltGP:function(t,e,n){"use strict";var i=n("3cXf"),r=n.n(i),a=n("j108"),s=n("inDh"),o=n("5I1O");e.a={name:"discount",data:function(){return{userInfo:localStorage.getItem("userInfo")||"",currentPage:0,useState:"2",pastDueState:"1",couponList:[],isLoading:!1}},computed:{noData:function(){return!this.isLoading&&0==this.couponList.length}},components:{Tab:a.a,TabItem:s.a,nouseDiscount:o.a},methods:{handler:function(t){switch(t){case 0:this.useState="2",this.pastDueState="1";break;case 1:this.useState="1",this.pastDueState="0";break;case 2:this.useState="2",this.pastDueState="2"}this.couponList=[],this.actionRequest()},formatNumber:function(t,e){return["00","0",""][(t+"").length-1]+t},actionRequest:function(){var t=this;this.show=!1;var e={tranCode:"MH0092",srcChannel:"MH",mobileNo:this.userInfo.mobileNo,customerId:this.userInfo.customerId,transChl:"MH",queryType:"2",ticketPublish:"000",queryState:this.useState,pastDueState:this.pastDueState,maxPageSize:"10",currPageNum:this.formatNumber(this.currentPage,3)};""!=this.userInfo.creditCardList&&void 0!=this.userInfo.creditCardList?(e.certType="0",e.certNo=this.userInfo.certNo,e.noteField1=this.userInfo.mobileNo,e.releaseType="789a"):(e.noteField1=this.userInfo.mobileNo,e.releaseType="8"),this.$vux.loading.show({text:"加载中"}),this.isLoading=!0,window.client.request({url:"/api/MH0092.json",adapter:"CommonAdapter",procedure:"MH0092",parameters:"["+r()(e)+"]",success:function(e){t.$vux.loading.hide(),t.isLoading=!1;var n=e.cd.result.kColl;"0"==t.pastDueState&&(n=[]),t.couponList=n}})}},created:function(){this.actionRequest()}}},o1Uz:function(t,e){},uAUY:function(t,e,n){"use strict";var i=n("DV+v");e.a={name:"tab",mixins:[i.b],mounted:function(){var t=this;this.$nextTick(function(){setTimeout(function(){t.hasReady=!0},0)})},props:{lineWidth:{type:Number,default:3},activeColor:String,barActiveColor:String,defaultColor:String,disabledColor:String,animate:{type:Boolean,default:!0},customBarWidth:[Function,String],preventDefault:Boolean,scrollThreshold:{type:Number,default:4},barPosition:{type:String,default:"bottom",validator:function(t){return-1!==["bottom","top"].indexOf(t)}}},computed:{barLeft:function(){if(this.hasReady){var t=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return this.currentIndex*(100/t)+"%"}},barRight:function(){if(this.hasReady){var t=this.scrollable?window.innerWidth/this.$children[this.currentIndex||0].$el.getBoundingClientRect().width:this.number;return(t-this.currentIndex-1)*(100/t)+"%"}},innerBarStyle:function(){return{width:"function"==typeof this.customBarWidth?this.customBarWidth(this.currentIndex):this.customBarWidth,backgroundColor:this.barActiveColor||this.activeColor}},barStyle:function(){var t={left:this.barLeft,right:this.barRight,display:"block",height:this.lineWidth+"px",transition:this.hasReady?null:"none"};return this.customBarWidth?t.backgroundColor="transparent":t.backgroundColor=this.barActiveColor||this.activeColor,t},barClass:function(){return{"vux-tab-ink-bar-transition-forward":"forward"===this.direction,"vux-tab-ink-bar-transition-backward":"backward"===this.direction}},scrollable:function(){return this.number>this.scrollThreshold}},watch:{currentIndex:function(t,e){this.direction=t>e?"forward":"backward",this.$emit("on-index-change",t,e),this.hasReady&&this.scrollToActiveTab()}},data:function(){return{direction:"forward",right:"100%",hasReady:!1}},methods:{scrollToActiveTab:function(){var t=this;if(this.scrollable&&this.$children&&this.$children.length){var e=this.$children[this.currentIndex].$el,n=0,i=function i(){var r=t.$refs.nav;r.scrollLeft+=(e.offsetLeft-(r.offsetWidth-e.offsetWidth)/2-r.scrollLeft)/15,++n<15&&window.requestAnimationFrame(i)};window.requestAnimationFrame(i)}}}}},uyOw:function(t,e,n){"use strict";e.a={name:"noUseDiscount",props:["item"],methods:{showDetails:function(){this.$router.push({name:"my_coupon_discountDetails",params:{item:this.item}})}}}},vftf:function(t,e,n){"use strict";var i=n("DV+v");i.b,Number,String,String,String,String,Boolean,Function,String,Boolean,Number,String}});