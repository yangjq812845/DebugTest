webpackJsonp([283],{"1x93":function(t,e){},"3M8n":function(t,e,a){"use strict";var s=a("4YfN"),r=a.n(s),n=a("HVJf"),o=a("fvyU"),i=a("IXui"),c=a("gpPJ"),u=a("CKVb"),l=a("f4gh"),d=a("JGLT"),_=a("H4kY"),m={},p={};e.a={name:"needCash",data:function(){return{rootPath:"http://localhost:8081/mock/public",showComfirm:!1,showToastFlag:!1,share_apply:!1,largerTimes:"",wantAmt:"",minAmt:"",maxAmt:"",text:"",eppc:"",getUserInfo:this.$store.state.invocationResult["WL-Authentication-Success"].UserInfoAuthRealm.attributes.data}},computed:r()({},a.i(n.b)("needcashStore",["data"]),{status:function(){return!/^([1-9][0-9]*\,)+\d+(.[0-9]{1,2})*$/.test(this.wantAmt)}}),components:{Group:u.a,Cell:c.a,XInput:o.a,XButton:i.a,Confirm:d.a,Toast:l.a},methods:{cdbank_i_need_cash_view01_eppc_params:function(){var t=p.general.scardFlag;if("1"==t){console.log("卡激活");var e=p.general.dataroot05;"0100"==p.general.dataroot05.cd.responseCode?(console.log("被拒绝"),this.minAmt=1e3,this.maxAmt="",this.largerTimes=1e3,console.log(this.maxAmt)):(console.log("未拒绝"),this.minAmt=e.cd.minAmt,this.maxAmt=e.cd.sugFullLimit,this.largerTimes=1==e.cd.largerTimes?100:2==e.cd.largerTimes?1e3:"1")}else if("0"==t){console.log("卡未激活");var a=p.general.data_root02,s=p.general.data_root03;this.minAmt=a.minAmt,this.maxAmt=s.awardBalance,this.largerTimes=1==a.largerTimes?100:2==a.largerTimes?1e3:"1"}return p.share.eppc_share_card&&(this.share_apply=!0),this.data.largerTimes=this.largerTimes,this.data.maxAmount=this.maxAmt,this.data.minAmount=this.minAmt,{cash_min:this.minAmt,cash_max:this.maxAmt,cash_largerTimes:this.largerTimes,share_apply:this.share_apply}},cdbank_i_need_cash_view01_reuse_page:function(t){var t=this.cdbank_i_need_cash_view01_eppc_params(),e=t.share_apply,s=(t.cash_largerTimes,a.i(_.i)(t.cash_max,!0)),r=a.i(_.i)(t.cash_min,!0);console.log(s),console.log(r),e?""==t.cash_max||t.cash_max<t.cash_min?this.eppc="/needcash/eppc_share.png":t.cash_max>t.cash_min&&(this.eppc="/needcash/eppc_all.png"):this.eppc="/needcash/eppc_general.png"},cdbank_i_need_cash_MH0101:function(t){var e=this,s={},r={};r.cardNo=t,window.client.request({url:"/api/MH0104.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0101_0016_0104",params:r,success:function(r){var n=r.invocationResult.MH0101,o=r.invocationResult.MH0104,i=r.invocationResult.MH0016,c=n.root.ec,u=n.root.em;if("0"==c){var l=n.root.cd.cardFlag;s.scardFlag_index=l,s.general_accountNo=t;var d=i.root.ec,m=i.root.em;if("0"==d)if(s.pactText01=i.root.cd.pactText,e.data.pactText=i.root.cd.pactText,e.data.pactTitle=i.root.cd.pactTitle,"1"==l){var p=o.root.ec;o.root.em;if("0"==p){for(var h=a.i(_.f)(o.root.cd,"iEppcUse").result.kColl,f=[],v=0;v<h.length;v++)f[v]=h[v].purpose;s.iEppcUse_index=f,e.data.iEppcUse=f,e.cdbank_i_need_cash_MH0105(s)}else e.showToast(em_04)}else e.cdbank_i_need_cash_MH0902(s);else e.showToast(m)}else e.showToast(u)}})},cdbank_i_need_cash_MH0105:function(t,e,s){var r=this,n=(this.getUserInfo.customerId,t.general_accountNo),o={};o.accountNo=n,void 0!=e&&""!=e?(o.projofNum=e.projofNum,o.srcCaseId=e.srcCaseId):(o.projofNum="1",o.srcCaseId=""),window.client.request({url:"/api/MH0105.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0105",params:o,success:function(n){var i=n.invocationResult.root.ec,c=n.invocationResult.root.em;if(void 0!=e&&""!=e){var u=n.invocationResult.root;r.data.catipal=u.cd.rtfbSiStmtProjOfDesTwo}else{var l=n.invocationResult.root;r.data.catipal=l.cd.rtfbSiStmtProjOfDesTwo}if("0"==i)if(void 0!=e&&""!=e){o.projofNum=e.projofNum,o.srcCaseId=e.srcCaseId;var d=a.i(_.f)(u.cd,"BP0033DetailList").result.kColl;m={rtfbSiStmtProjCount:"",rtfbSiStmtProjEchalOptionOne:"",rtfbSiStmtProjOfDesOne:"",rtfbSiStmtProjOfDesTwo:u.cd.rtfbSiStmtProjOfDesTwo,meausreList_first:"",meausreList_second:d,defaultPer:"",defaultMeas:"",scardFlag:"1"};var p=a.i(_.j)(d,m);console.log(p),r.data.select=p,r.cdbank_i_need_cash_eppc_share_004(s)}else t.dataroot05_index=l,r.cdbank_i_need_cash_MH0180(t);else r.showToast(c)}})},cdbank_i_need_cash_MH0180:function(t){var e=this,s=t.general_accountNo,r=(this.getUserInfo.customerId,{});r.accountNo=s,window.client.request({url:"/api/MH0180.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0180",params:r,success:function(s){var r=s.invocationResult.root.ec,n=(s.invocationResult.root.em,a.i(_.f)(s.invocationResult.root.cd,"feeValueListA").result.kColl);"0"==r?0!=n.length?(t.dataroot80_index=n,e.cdbank_i_need_cash_MH0108(t)):e.showToast("集合为空"):e.showToast(em_08)},erroCallBck:function(){}})},cdbank_i_need_cash_MH0108:function(t){var e=this,s={};window.client.request({url:"/api/MH0108.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0108",params:s,success:function(s){var r=s.invocationResult.root.ec,n=s.invocationResult.root.em;if("0"==r){var o=s.invocationResult.root.cd;t.dataroot08_index=o;var i=a.i(_.k)(t),c=i.data_paragms;if("Y"==i.rtfbSiStmtProjEchalOptionOne){var u={};u.projofNum="2","1"==c.scardFlag?e.cdbank_i_need_cash_MH0105(t,u,c):e.cdbank_i_need_cash_MH0902(t,u,c)}else m={rtfbSiStmtProjCount:"",rtfbSiStmtProjEchalOptionOne:"",rtfbSiStmtProjOfDesOne:"",rtfbSiStmtProjOfDesTwo:"",meausreList_first:"",meausreList_second:"",defaultPer:"",defaultMeas:"",scardFlag:""},e.cdbank_i_need_cash_eppc_share_004(c)}else e.showToast(n)}})},cdbank_i_need_cash_MH0902:function(t,e,s){var r=this,n={};n.accountNo=t.general_accountNo,n.projofNum=void 0!=e&&""!=e?e.projofNum:"1",window.client.request({url:"/api/MH0902.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0902",params:n,success:function(n){var o=n.invocationResult.root.ec,i=n.invocationResult.root.em;if("0"==o)if(void 0!=e&&""!=e){var c=n.invocationResult.root,u=a.i(_.f)(c.cd,"CDM033DetailList").result.kColl;m={rtfbSiStmtProjCount:"",rtfbSiStmtProjEchalOptionOne:"",rtfbSiStmtProjOfDesOne:"",rtfbSiStmtProjOfDesTwo:c.cd.proj_of_des_2,meausreList_first:"",meausreList_second:u,defaultPer:"",defaultMeas:"",scardFlag:""};var l=a.i(_.j)(u,m);r.data.select=l,r.cdbank_i_need_cash_eppc_share_004(s)}else{var d=n.invocationResult.root.cd;t.data_root02_index=d,r.cdbank_i_need_cash_MH0903(t)}else r.showToast(i)}})},cdbank_i_need_cash_MH0903:function(t){var e=this,a=(this.getUserInfo.customerId,{});a.accountNo=t.general_accountNo,window.client.request({url:"/api/MH0903.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0903",params:a,success:function(a){var s=a.invocationResult.root.ec,r=a.invocationResult.root.em,n=a.invocationResult.root.cd;"0"==s?(t.data_root03_index=n,e.cdbank_i_need_cash_MH0108(t)):e.showToast(r)},erroCallBck:function(){}})},cdbank_i_need_cash_eppc_share_004:function(t){var e=this,s=(this.getUserInfo.customerId,t.general_accountNo),r={};r.accountNo=s,window.client.request({url:"/api/MH0120.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0120",params:r,success:function(r){var n=r.invocationResult.root.ec,o=r.invocationResult.root.em,i={};if("0"==n){for(var c=(r.invocationResult.root.cd.result.kColl,r.invocationResult.root.cd.validLimit),u=(r.invocationResult.root.cd.minAmount,r.invocationResult.root.cd.maxAmount),l=(r.invocationResult.root.cd.otherTranFee,r.invocationResult.root.cd.ownerTranFee,r.invocationResult.root.cd),d=new Array,m=a.i(_.f)(l,"iEppcUse").result.kColl,p=0;p<m.length;p++)d.push(m[p].purpose);i=parseInt(c)<="0"||" "==c?{}:{maxAmount:u,iEppcUse:d,eppc_share_card:s},e.cdbank_i_need_cash_gopage(t,i)}else e.showToast(o)}})},cdbank_i_need_cash_gopage:function(t,e){var a=t.scardFlag,s="",r="",n="";if("1"==a){var o=t.dataroot05;s=o.cd.responseCode,n=o.cd.minAmt,r=o.cd.sugFullLimit}else if("0"==a){var i=t.data_root03,c=t.data_root02;r=i.awardBalance,n=c.minAmt}void 0==e.eppc_share_card&&"0100"==s&&"1"==a?this.showToast("尊敬的客户,经综合评估,您暂不能申请该业务,感谢支持。"):void 0==e.eppc_share_card&&r<n?this.showToast("尊敬的客户,经综合评估,您暂不能申请该业务,感谢支持。"):(p={general:t,share:e},this.cdbank_i_need_cash_view01_reuse_page())},showToast:function(t){this.showComfirm=!0,this.text=t},onBlur:function(){var t=Number(this.wantAmt),e=Number(this.minAmt),s=Number(this.maxAmt),r=this.largerTimes,n=/^[1-9]+\d*$/;n.test(this.wantAmt)&&t>e&&t<s&&(this.wantAmt=a.i(_.g)(parseInt(t/r)*r)),n.test(this.wantAmt)&&t<=e&&(this.wantAmt=a.i(_.g)(this.minAmt)),n.test(this.wantAmt)&&t>=s&&(this.wantAmt=a.i(_.g)(this.maxAmt)),this.data.i_need_cash_param=p},next:function(){this.data.eppc_measure_parm=m,console.log(this.data.eppc_measure_parm),this.data.borrowAmount=this.wantAmt,a.i(_.c)(this.wantAmt)>=this.maxAmt?this.$router.push({name:"cdbank_eppc_share"}):this.$router.push({name:"cdbank_eppc_general"})},goReceipt:function(){this.$router.push({name:"i_need_cash_receipt"})}},created:function(){var t=a.i(_.e)();this.cdbank_i_need_cash_MH0101(t)}}},"5S8O":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("xcgb-box",[a("xcgb-head",{attrs:{title:"我要现金",keepAlive:!1,leftOptions:[{type:"left_arrow_black"}],rightOptions:[{type:"text",str:"收款名册"}]},on:{rightHandler:t.goReceipt}}),t._v(" "),a("div",{staticClass:"main"},[a("group",[a("cell",{staticClass:"browTips",attrs:{title:"可以借多少（元）"}}),t._v(" "),"/needcash/eppc_general.png"!==this.eppc?a("cell",{staticClass:"warrant",attrs:{value:"需授权征信"}}):t._e(),t._v(" "),a("img",{staticClass:"eppc",attrs:{src:t.rootPath+t.eppc,alt:"财智金图片"}}),t._v(" "),a("div",{staticClass:"Tips"},[a("p",{staticClass:"TipsOne"},[t._v("¥"),a("span",{model:{value:t.minAmt,callback:function(e){t.minAmt=e},expression:"minAmt"}},[t._v(t._s(t.minAmt))])]),t._v(" "),"/needcash/eppc_general.png"==this.eppc||"/needcash/eppc_all.png"==this.eppc?a("p",{staticClass:"TipsTwo"},[t._v("¥"),a("span",{model:{value:t.maxAmt,callback:function(e){t.maxAmt=e},expression:"maxAmt"}},[t._v(t._s(t.maxAmt))])]):t._e(),t._v(" "),"/needcash/eppc_general.png"!==this.eppc?a("p",{staticClass:"TipsThree"},[t._v("更高金额")]):t._e()])],1),t._v(" "),a("div",{staticClass:"userWant"},[a("div",{staticClass:"want"},[a("label",[t._v("¥")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.wantAmt,expression:"wantAmt"}],attrs:{maxlength:"7",placeholder:"请输入金额"},domProps:{value:t.wantAmt},on:{blur:function(e){t.onBlur()},input:function(e){e.target.composing||(t.wantAmt=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"inputTips"},[t._v("请输入"+t._s(t.largerTimes)+"的整数倍")])]),t._v(" "),a("x-button",{attrs:{"action-type":"button",disabled:t.status},nativeOn:{click:function(e){return t.next(e)}}},[t._v("下一步")]),t._v(" "),a("confirm",{staticClass:"clean",model:{value:t.showComfirm,callback:function(e){t.showComfirm=e},expression:"showComfirm"}},[a("p",{staticClass:"tipsCnt"},[t._v(t._s(t.text))])])],1)],1)},r=[],n={render:s,staticRenderFns:r};e.a=n},AeqY:function(t,e,a){"use strict";function s(t){a("1x93")}Object.defineProperty(e,"__esModule",{value:!0});var r=(a("L+3H"),a("3M8n")),n=a("5S8O"),o=a("C7Lr"),i=s,c=o(r.a,n.a,!1,i,null,null);e.default=c.exports},H4kY:function(t,e,a){"use strict";function s(t){var e=__Vue__.$store.state.invocationResult["WL-Authentication-Success"].UserInfoAuthRealm.attributes.data,a=[];if(0==t.length||void 0==t.length)a=[];else{for(var s=t.length-1;s>=0;s--){var n="";n=void 0==t[s].cardType||""==t[s].cardType?"广发信用卡":t[s].cardType,a.push({key:r(t[s].accountNo,"card")+" "+n,value:t[s].accountNo})}for(var o=e.defaultAccountNo,i=0;i<a.length;i++)if(a[i].value==o){var c=a[i];a[i]=a[0],a[0]=c}}return a.push({key:"添加卡片",value:"添加卡片"}),a}function r(t,e){if("date"==e){var a=t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2);return new Date(a)}if("dateStr"==e){var a=t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2);return a}if("time"==e){return t.substr(0,2)+":"+t.substr(2,2)+":"+t.substr(4,2)}if("date_time"==e){if(!t)return"--:--";return t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2)+" "+t.substr(8,2)+":"+t.substr(10,2)+":"+t.substr(12,2)}if("cut_money"==e){return t.split(".")}if("card"==e){return t.substr(0,4)+"****"+t.substr(t.length-4,4)}if("numId"==e){return t.substr(0,4)+" "+t.substr(4,4)+" "+t.substr(8,4)+" "+t.substr(12,4)+" "+t.substr(16,4)}}function n(t,e){if("json"!==e)return t+="",this.rytDESencrypt(t);try{var a=v()(t);return this.rytDESencrypt(a)}catch(t){return"-1"}}function o(t,e){var a={result:{kColl:[]}};if(t.result.length>1){for(var s=0;s<t.result.length;s++)if(t.result[s].id==e){void 0==t.result[s].kColl?console.log(t.result[s].id):t.result[s].kColl.length>1?a.result.kColl=t.result[s].kColl:a.result.kColl.push(t.result[s].kColl);break}}else void 0==t.result.kColl?console.log(t.result.id):t.result.kColl.length>1?a.result.kColl=t.result.kColl:a.result.kColl.push(t.result.kColl);for(var s in t)"result"!=s&&(a[s]=t[s]);return a}function i(t){var e,a;return"1"==t.scardFlag_index?(e={scardFlag:t.scardFlag_index,iEppcUse:t.iEppcUse_index,dataroot05:t.dataroot05_index,dataroot80:t.dataroot80_index,dataroot08:t.dataroot08_index,pactText:t.pactText01,general_accountNo:t.general_accountNo},a=t.dataroot05_index.cd.rtfbSiStmtProjEchalOptionOne):(e={scardFlag:t.scardFlag_index,data_root02:t.data_root02_index,data_root03:t.data_root03_index,pactText:t.pactText01,dataroot08:t.dataroot08_index,general_accountNo:t.general_accountNo},a=t.data_root02_index.proj_echal_option),{data_paragms:e,rtfbSiStmtProjEchalOptionOne:a}}function c(t){var e="",a=__Vue__.$store.state.invocationResult["WL-Authentication-Success"].UserInfoAuthRealm.attributes.data,s=a.creditCardList;if(void 0==t||void 0==t.accountNo||""==t.accountNo){if(""!=a.defaultAccountNo){e=a.defaultAccountNo;for(var r=0;r<s.length;r++)if(e==s[r].accountNo){var n=e.substring(6,7),o=s[r].currencyType;o=p(o),("0"==n||"2"==n||"88"!=o&&"156"!=o)&&(e="");break}if(""==e)for(var i=0;i<s.length;i++){var c=s[i].accountNo,u=c.substring(6,7),l=s[i].currencyType;if(l=p(l),"0"!=u&&"2"!=u&&("88"==l||"156"==l)){e=c;break}}}else for(var d=0;d<s.length;d++){var _=s[d].accountNo,m=_.substring(6,7),h=s[d].currencyType;if(h=p(h),"0"!=m&&"2"!=m&&("88"==h||"156"==h)){e=_;break}}return e}e=t.accountNo;for(var f=0;f<s.length;f++)if(e==s[f].accountNo){var v=e.substring(6,7),g=s[f].currencyType;return g=p(g),"0"==v||"2"==v||"88"!=g&&"156"!=g?"":e}}function u(t){var e=t.length;if(e<=8)return t;return t.substring(0,4)+"****"+t.substring(e-4,e)}function l(t,e,a){var s="";parseFloat(t)<0&&(s="-"),t=Math.abs(parseFloat(t)).toString(),isNaN(a)&&(a=0),a=parseInt(a);var r=t.split(".");for(isNaN(r[1])&&(r[1]="0");r[1].length<a;)r[1]=r[1]+"0";if(e){for(var n=0;n<Math.floor((r[0].length-(1+n))/3);n++)r[0]=r[0].substring(0,r[0].length-(4*n+3))+","+r[0].substring(r[0].length-(4*n+3));return 0==a?s+r[0]:s+r[0]+"."+r[1].substring(0,a)}return 0==a?s+r[0]:s+r[0]+"."+r[1].substring(0,a)}function d(t){for(var e=t+"",a=0;a<e.length;a++)"."==e[a]&&e.length-1-a>2&&(e=e.substring(0,a+3));var s="";"-"==e[0]&&(s="-",e=e.substring(1,e.length));var r=e.length,n="";n="."==e.substring(r-3,r-2)?e:"."==e.substring(r-2,r-1)?e+"0":e+".00";var o=n.length;if(o<=6)return s+n.substring(o-6,o);for(var i=n.substring(o-6,o),c=n.substring(0,o-6);c.length>0;){var u=c.length;if(!(u>3))return i=c.substring(0,u)+","+i,s+i;i=c.substring(u-3,u)+","+i,c=c.substring(0,u-3)}}function _(t){for(var e=t,a="",s=0;s<e.length;s++)","!=e[s]&&(a+=e.substring(s,s+1));return a}function m(t){var e=parseFloat(t);if(isNaN(e))return!1;var e=Math.round(100*t)/100,a=e.toString(),s=a.indexOf(".");for(s<0&&(s=a.length,a+=".");a.length<=s+2;)a+="0";return a}function p(t){if("88"==t)return"88";switch(t){case"01":case"99":case"999":case"156":return"156";case"13":case"344":return"344";case"14":case"840":return"840"}}function h(t,e){var a,s=0;if("1"==e.scardFlag)for(var r=0;r<t.length;r++){if("12"==(a=t[r].rtfbSiStmtFeeMths)){s=r;break}parseInt(t[s].rtfbSiStmtFeeMths)<parseInt(a)&&(s=r)}else for(var n=0;n<t.length;n++){if("12"==(a=t[n].market_disc_periods)){s=n;break}parseInt(t[s].market_disc_periods)<parseInt(a)&&(s=n)}return{sequenece:s,period:a}}e.a=s,e.b=n,e.f=o,e.k=i,e.e=c,e.h=u,e.i=l,e.g=d,e.c=_,e.d=m,e.j=h;var f=a("3cXf"),v=a.n(f)},"L+3H":function(t,e,a){"use strict";var s=a("4YfN"),r=a.n(s),n=a("HVJf"),o=a("fvyU"),i=a("IXui"),c=a("gpPJ"),u=a("CKVb"),l=a("f4gh"),d=a("JGLT"),_=a("H4kY"),m={},p={};r()({},a.i(n.b)("needcashStore",["data"]),{status:function(){return!/^([1-9][0-9]*\,)+\d+(.[0-9]{1,2})*$/.test(this.wantAmt)}}),u.a,c.a,o.a,i.a,d.a,l.a}});