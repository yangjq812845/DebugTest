webpackJsonp([341],{"P+GC":function(t,e,n){"use strict";var s=n("4YfN"),o=n.n(s),i=n("HVJf"),a=n("gpPJ"),r=n("CKVb"),c=n("fvyU"),l=n("IXui"),u=n("Nqtu"),d=n("f4gh");e.a={name:"confirmMessage",data:function(){return{start:!1,showToastFlag:!1,installmentPeriod:"",borrowAccount:"",borrowAmount:"",intoAccount:"",repayAll:"",mobileNo:this.$store.state.invocationResult["WL-Authentication-Success"].UserInfoAuthRealm.attributes.data.mobileNo,getUserInfo:this.$store.state.invocationResult["WL-Authentication-Success"].UserInfoAuthRealm.attributes.data,catipal:"",feeAll:"",time:"60",token:"",fee:"",text:""}},computed:o()({},n.i(i.b)("needcashStore",["data"]),{status:function(){return!/^\d{6}$/.test(this.token)}}),components:{Cell:a.a,Group:r.a,XInput:c.a,XButton:l.a,Toast:d.a,Countdown:u.a},methods:{repayMsg:function(){var t=this.$store.state.needcashStore.data;console.log(t.iEppcUses),this.borrowAccount=t.borrowAccount,this.intoAccount=t.intoAccount,this.installmentPeriod=t.installmentPeriod,this.borrowAmount=changeMoneyMode2(t.borrowAmount),this.repayAll=toDecimal2(t.repayAll),this.feeAll=toDecimal2(this.repayAll-this.borrowAmount),this.fee=toDecimal2(this.feeAll/this.installmentPeriod),this.catipal=toDecimal2(this.borrowAmount/this.installmentPeriod)},finish:function(t){this.start=!1,this.time=60},showToast:function(t){this.showToastFlag=!0,this.text=t},getToken:function(){var t=this,e=CryptoJS.DES.encrypt(this.mobileNo,"cgbbank.credit.card.project.2016");window.client.request({url:"/api/token.json",adapter:"CommonAdapter",procedure:"control_unlogin",parameters:'[{"value": "'+e.toString()+'","funName": "second_MH0318","type": "json"}]',success:function(e){var n=e.invocationResult,s=n.root;s.ec?s.cd.optionFlag?t.start=!0:t.showToast("请勿重复获取短信验证码！"):t.showToast(s.em)}})},selfBankCode:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=this.intoAccount,e=(this.getUserInfo.customerId,{temp:t.substring(0,6),temp3:t.substring(0,4)}),n=function(t){var e=t.invocationResult.root;"0"==e.ec?("1"==e.cd.status?selfBankCode="N":selfBankCode="Y",cdbank_eppc_general_sureView01()):this.showToast(e.em)};window.client.request({url:"/api/MH0221.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0221",params:e,callBack:n,erroCallBck:function(){}})}),sendMsg:function(){alert(this.token),this.data.message=this.token,this.$router.push({name:"i_need_cash_submitApply"})},comfirmBtn:function(){this.newDebit=""},oninputPass:function(){}},created:function(){this.repayMsg()}}},dRGZ:function(t,e,n){"use strict";var s=n("4YfN"),o=n.n(s),i=n("HVJf"),a=n("gpPJ"),r=n("CKVb"),c=n("fvyU"),l=n("IXui"),u=n("Nqtu"),d=n("f4gh");o()({},n.i(i.b)("needcashStore",["data"]),{status:function(){return!/^\d{6}$/.test(this.token)}}),a.a,r.a,c.a,l.a,d.a,u.a,function(t){function e(){return t.apply(this,arguments)}e.toString=function(){return t.toString()}}(function(){var t=this.intoAccount,e=(this.getUserInfo.customerId,{temp:t.substring(0,6),temp3:t.substring(0,4)}),n=function(t){var e=t.invocationResult.root;"0"==e.ec?("1"==e.cd.status?selfBankCode="N":selfBankCode="Y",cdbank_eppc_general_sureView01()):this.showToast(e.em)};window.client.request({url:"/api/MH0221.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0221",params:e,callBack:n,erroCallBck:function(){}})})},hdpK:function(t,e){},jcRE:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("xcgb-box",[n("xcgb-head",{attrs:{title:"确认办理信息",keepAlive:!1,leftOptions:[{type:"left_arrow_black"}]}}),t._v(" "),n("div",{staticClass:"main"},[n("group",{staticClass:"informationTitle"},[n("cell",{staticClass:"information",attrs:{title:"申请金额","inline-desc":"￥"+t.borrowAmount}},[n("div",[t._v("分期期数")]),t._v(" "),n("div",{staticClass:"informationPeriod"},[t._v(t._s(t.installmentPeriod))])])],1),t._v(" "),n("group",[n("cell",{attrs:{title:"第1-12期/每期应还"}},[n("div",[t._v(" ¥"+t._s(t.catipal)+"/期")]),t._v(" "),n("div",{staticClass:"eachRepay"},[t._v("含手续费 ¥"+t._s(t.fee)+"/期")])])],1),t._v(" "),n("group",{staticClass:"messages"},[n("cell",{attrs:{title:"应还总额"}},[t._v("¥"+t._s(t.repayAll))]),t._v(" "),n("cell",{attrs:{title:"手续费总额"}},[t._v("¥"+t._s(t.feeAll))]),t._v(" "),n("cell",{attrs:{title:"申请卡片"}},[t._v(t._s(t.borrowAccount))]),t._v(" "),n("cell",{attrs:{title:"转入账户"}},[t._v(t._s(t.intoAccount))])],1),t._v(" "),n("group",[n("x-input",{staticClass:"weui-vcode",attrs:{title:"验证码",placeholder:"请输入短信验证码",max:6},on:{input:t.oninputPass},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}},[n("x-button",{staticClass:"getVcode",attrs:{slot:"right",mini:""},nativeOn:{click:function(e){return t.getToken(e)}},slot:"right"},[t.start?t._e():n("i",[t._v("获取")]),t._v(" "),t.start?n("countdown",{attrs:{start:t.start},on:{"on-finish":t.finish},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}):t._e(),t._v(" "),t.start?n("i",[t._v("s")]):t._e()],1)],1)],1),t._v(" "),n("div",{staticClass:"tipTitile"},[t._v("提前还款需支付剩余期数手续费")]),t._v(" "),n("p",{staticClass:"tips"},[t._v("汇款手续费："),n("span",[t._v(t._s(t.fee))])]),t._v(" "),n("x-button",{attrs:{"action-type":"button",disabled:t.status},nativeOn:{click:function(e){return t.sendMsg(e)}}},[t._v("提交申请")]),t._v(" "),n("toast",{attrs:{type:"text",width:"auto"},model:{value:t.showToastFlag,callback:function(e){t.showToastFlag=e},expression:"showToastFlag"}},[n("p",{staticClass:"tips"},[t._v(t._s(t.text))])])],1)],1)},o=[],i={render:s,staticRenderFns:o};e.a=i},u8S6:function(t,e,n){"use strict";function s(t){n("hdpK")}Object.defineProperty(e,"__esModule",{value:!0});var o=(n("dRGZ"),n("P+GC")),i=n("jcRE"),a=n("C7Lr"),r=s,c=a(o.a,i.a,!1,r,null,null);e.default=c.exports}});