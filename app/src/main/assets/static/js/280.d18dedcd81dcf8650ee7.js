webpackJsonp([280],{"7TW/":function(e,t,s){"use strict";function a(e){s("lxm5")}Object.defineProperty(t,"__esModule",{value:!0});var n=(s("asCT"),s("weNM")),r=s("eP32"),o=s("C7Lr"),i=a,c=o(n.a,r.a,!1,i,null,null);t.default=c.exports},GGmk:function(e,t,s){"use strict";s.d(t,"b",function(){return i}),s.d(t,"e",function(){return o}),s.d(t,"c",function(){return c}),s.d(t,"a",function(){return u}),s.d(t,"f",function(){return d}),s.d(t,"d",function(){return m});var a=s("rVsN"),n=s.n(a),r=function(e){var t=e.params;return new n.a(function(e,s){window.client.request({ifpUrl:"/mp/MP1080.do",url:"/api/MH0161li.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0161_15",parameters:t,success:function(t){if("0"==t.ec){t.mobileNo;e(!0)}else s(t.em)},error:function(){console.log("MH0161接口错误")}})})},o=function(){return new n.a(function(e,t){window.client.request({ifpUrl:"/mp/MP1085.do",url:"/api/MH0166li.json",adapterName:"CommonAdapter",isLogin:!0,parameters:{},success:function(s){"0"==s.ec?e(s):t(s.em)},error:function(){console.log("MH0166接口错误")}})})},i=function(e){__Vue__.$vux.toast.show({text:e,type:"text",height:"10rem",width:"60%"})},c=function(e){var t=e.pname,s=e.params;return new n.a(function(e,a){r({params:t}).then(function(t){t&&o().then(function(t){console.log(t);for(var n=t.customerSmsServiceList,r=0;r<n.length;r++)if(n[r].smsFeeAccNo==s.cardNo&&n[r].smsSignAccNo==s.cardNo)if("4"==n[r].smsStatus&&"11"==n[r].smsId)s.mobileNo=t.mobileNo,s.id="1",e(s);else if("1"==n[r].smsStatus||"0"==n[r].smsStatus){if("11"==n[r].smsId){var o=n[r].smsFeeType,i="";i="01"==o?"包月(3元/月)":"包月(36元/年)";var c=n[r].smsIncomeFireAmount/100,m=n[r].smsPayFireAmount/100,u=n[r].smsMobile,l=u.slice(0,3)+"****"+u.slice(u.length-4),d={};d.currentCardNo=s.cardNo,d.smsFeeType=o,d.comboDes=i,d.cash_in=c,d.cash_out=m,d.mobileNo=u,d.mobileNoStr=l,d.cardNoAndName=s.cardNoAndName,d.id="0",e(d)}}else a("对扣费失败的服务进行冻结或对到期未补签协议的服务进行暂停")}).catch(function(e){a(e)})}).catch(function(e){a(e)})})},m=function(e){return new n.a(function(t,s){window.client.request({ifpUrl:"/mp/MP1084.do",url:"/api/MH0165li.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0165",parameters:e,success:function(e){if("0"==e.ec)t(e);else if("PP010110"==e.ec||"PP010109"==e.ec||"EMSBNULL"==e.ec||"PA040304"==e.ec){var a=l({ec:e.ec,em:e.em});s(a)}else t("0")}})})},u=function(e){var t=e.accountNo,s=e.flag;return new n.a(function(e,a){window.client.request({ifpUrl:"/mp/MP1098.do",url:"/api/MH0210li.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0210",parameters:{accountNo:t,flag:s},success:function(t){if("0"==t.ec)if("0"==t.optionFlag){var s="已向尾号为"+t.mobileNo.substr(6,4)+"的手机号码发送验证码";e(s)}else a("您刚已获取了短信验证码，无需重新获取");else if("EBMB9018"==t.ec){l({ec:t.ec,em:t.em})}else a(t.em)},error:function(){console.log("MH0210接口错误!")}})})},l=function(e){var t=e.ec,s=e.em,a="";switch(t){case"EBMB9018":a="当前业务您已连续获取10次短信验证码未验证通过了，请您明天再来。";break;case"PP010110":case"EBMB2055":case"EMSBNULL":case"PA040304":a="短信验证码输入有误，请重新输入。";break;case"PP010109":a="您的短信验证码输入有误或已超时，请重新输入。";break;case"EBMB2054":a="短信验证码已超时，请重新获取，谢谢！";break;case"CW0000P7":case"CW0000P9":case"CW0000P8":a="亲，您的美元账户有欠款或存款，无法开通人民币世界通服务。";break;case"CW000045":a="亲，您的卡片目前已超额，请还款后再申请哦!";break;default:a=s}return a},d=function(e){var t=e.accountNo,s=e.mobileNo,a=e.smsCode;return new n.a(function(e,n){window.client.request({ifpUrl:"/mp/MP1086.do",url:"/api/MH0168li.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0168",parameters:{accountNo:t,mobileNo:s,smsCode:a},success:function(t){if("0"==t.ec){e({changeFlag:"撤销",successDes:"瞬时通业务撤销成功！",flag:"1"})}else if(""==t.ec||""==t.ec||""==t.ec||""==t.ec){var s=l({ec:t.ec,em:t.em});n(s)}else{var a={successDes:"瞬时通业务撤销失败！",errorCode:t.ec,errorMsg:t.em,flag:"1"};e(a)}},error:function(){console.log("MH0168接口错误")}})})}},asCT:function(e,t,s){"use strict";var a=s("3cXf"),n=s.n(a),r=s("IXui"),o=s("CKVb"),i=s("gpPJ"),c=s("JGLT"),m=s("GGmk");r.a,o.a,i.a,c.a},eP32:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("xcgb-box",[s("xcgb-head",{attrs:{title:"瞬时通",keepAlive:!1,leftOptions:[{type:"left_arrow_black",preventGoBack:!0}]},on:{leftHandler:e.goSecurity}}),e._v(" "),s("div",{staticClass:"main"},[s("group",{attrs:{gutter:0}},[s("cell",{attrs:{"is-link":""},nativeOn:{click:function(t){return e.selectCard(t)}}},[s("i",{attrs:{slot:"title"},slot:"title"}),e._v(" "),s("span",{staticClass:"curCard",attrs:{slot:"title"},slot:"title"},[e._v("\n              "+e._s(e.cardNoAndName)+"\n            ")])])],1),e._v(" "),s("group",{staticClass:"contentsList"},[s("p",{staticClass:"lists"},[s("span",[e._v("信用卡")]),s("span",{staticClass:"conList"},[e._v(e._s(e.params.currentCardNo))])]),e._v(" "),s("p",{staticClass:"lists"},[s("span",[e._v("套餐类型")]),s("span",{staticClass:"conList"},[e._v(e._s(e.params.comboDes))])]),e._v(" "),s("p",{staticClass:"lists"},[s("span",[e._v("转入起点")]),s("span",{staticClass:"conList"},[e._v(e._s(e.params.cash_in))])]),e._v(" "),s("p",{staticClass:"lists"},[s("span",[e._v("转出起点")]),s("span",{staticClass:"conList"},[e._v(e._s(e.params.cash_out))])]),e._v(" "),s("p",{staticClass:"lists"},[s("span",[e._v("手机号")]),s("span",{staticClass:"conList"},[e._v(e._s(e.params.mobileNoStr))])])]),e._v(" "),s("group",[s("div",{staticClass:"toButtom"},[s("x-button",{staticClass:"cancle",attrs:{type:"primary"},nativeOn:{click:function(t){return e.deleted(t)}}},[e._v("取消瞬时通")]),e._v(" "),s("x-button",{staticClass:"revise",attrs:{type:"warn"},nativeOn:{click:function(t){return e.alter(t)}}},[e._v("修改")])],1)]),e._v(" "),s("select-card",{attrs:{cardList:e.cardArr},on:{clickNormalItem:e.clickNormalCard},model:{value:e.cardFlag,callback:function(t){e.cardFlag=t},expression:"cardFlag"}}),e._v(" "),s("confirm",{attrs:{title:e.confirmTitle,"confirm-text":e.confirmSelectText},on:{"on-confirm":e.comfirmBtn},model:{value:e.showComfirm,callback:function(t){e.showComfirm=t},expression:"showComfirm"}},[s("p",{staticClass:"tips"},[e._v(e._s(e.confirmText))])])],1)],1)},n=[],r={render:a,staticRenderFns:n};t.a=r},lxm5:function(e,t){},weNM:function(e,t,s){"use strict";var a=s("3cXf"),n=s.n(a),r=s("IXui"),o=s("CKVb"),i=s("gpPJ"),c=s("JGLT"),m=s("GGmk");t.a={name:"instantComplete",data:function(){return{params:"",cardNoAndName:"",obj:"",cardFlag:!1,confirmText:"",showComfirm:!1,confirmSelectText:"我知道了",confirmTitle:""}},computed:{getUserInfo:function(){return this.$store.getters.getStateKey("WL-Authentication-Success.UserInfoAuthRealm.attributes.data").data},cardArr:function(){var e={};e.normal=[];for(var t=this.getUserInfo.creditCardList,s=0;s<t.length;s++){var a={};a.value=t[s].accountNo,a.key=t[s].accountNo.substr(0,4)+"****"+t[s].accountNo.substr(t[s].accountNo.length-4,4)+" "+t[s].cardType,a.iconType="CGB",a.selected=!1,e.normal.push(a)}return e}},components:{XButton:r.a,Group:o.a,Cell:i.a,Confirm:c.a},methods:{selectCard:function(){this.cardFlag=!0},comfirmBtn:function(){this.showComfirm=!1,window.client.goBack()},clickNormalCard:function(e){var t=this;this.cardNoAndName=e.key;for(var a=e.value,n=0;n<this.getUserInfo.creditCardList.length;n++)if(this.getUserInfo.creditCardList[n].accountNo==a){var r={};return r.cardNo=a,r.cardNoAndName=a.substr(0,4)+"****"+a.substr(a.length-4,4)+" "+this.getUserInfo.creditCardList[n].cardType,s.i(m.c)({pname:a,params:r}).then(function(e){"0"==e.id?t.params=e:t.$router.push({name:"instant_remind_instantPass",res:e})}).catch(function(e){t.confirmText=e,t.showComfirm=!0}),!1}},goSecurity:function(){this.$router.push({name:"security_center_securityHome"})},alter:function(){this.obj={},this.obj=this.params,this.obj=n()(this.obj),sessionStorage.setItem("information",this.obj),this.$router.push({name:"instant_remind_instantAmend"})},deleted:function(){this.obj={},this.obj.cardNoAndName=this.params.cardNoAndName,this.obj.currentCardNo=this.params.currentCardNo,this.obj=n()(this.obj),sessionStorage.setItem("information",this.obj),this.$router.push({name:"instant_remind_instantRevoke"})}},created:function(){var e=this;this.params=JSON.parse(sessionStorage.getItem("information")),void 0==this.params.cash_in?s.i(m.e)().then(function(t){for(var s=t.body.customerSmsServiceList,a=0;a<s.length;a++)if(s[a].smsSignAccNo==e.params.currentCardNo){var n=s[a].smsFeeType,r="";r="01"==n?"包月(3元/月)":"包月(36元/年)";var o=s[a].smsIncomeFireAmount/100,i=s[a].smsPayFireAmount/100,c=s[a].smsMobile,m=c.slice(0,3)+"****"+c.slice(c.length-4),u={};u.currentCardNo=e.params.currentCardNo,u.smsFeeType=n,u.comboDes=r,u.cash_in=o,u.cash_out=i,u.mobileNo=c,u.mobileNoStr=m,u.cardNoAndName=e.params.cardNoAndName,e.params=u,e.cardNoAndName=e.params.cardNoAndName}}).catch(function(e){console.log(e),s.i(m.b)(e)}):(this.cardNoAndName=this.params.cardNoAndName,this.obj=sessionStorage.getItem("information"))}}}});