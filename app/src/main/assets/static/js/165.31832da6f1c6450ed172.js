webpackJsonp([165],{"2hw5":function(e,a,t){"use strict";var n=t("hArn");a.a={name:"check-icon",components:{Icon:n.a},methods:{updateValue:function(){this.$emit("update:value",!this.value)}},props:{value:{type:Boolean,default:!1},type:{type:String,default:"default"}}}},DpJo:function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("xcgb-box",[e.tipConform?e._e():t("xcgb-head",{attrs:{keepAlive:!1,title:"尊享现金额度",leftOptions:[{type:"left_arrow_black"}],rightOptions:[{type:"index_icon"}]},on:{rightHandler:e.goHome}}),e._v(" "),e.tipConform?e._e():t("div",{staticClass:"main"},[t("div",{staticClass:"massage"},[t("p",[e._v("尊敬的客户：")]),e._v(" "),t("p",[e._v("为准确评估您目前可申请额的额度，我行需查阅您的个人信用记录，查询记录将保留在您的个人征信报告中。")])]),e._v(" "),t("check-icon",{staticClass:"tips",attrs:{value:e.check,type:"plain"},on:{"update:value":function(a){e.check=a}}},[e._v("我已阅读并同意")]),t("a",{on:{click:function(a){e.pactText()}}},[e._v(e._s(e.tipsMsg))]),e._v(" "),t("x-button",{attrs:{"action-type":"button",disabled:e.status},nativeOn:{click:function(a){return e.agreeCredit(a)}}},[e._v("同意征信")])],1),e._v(" "),e.tipConform?t("xcgb-head",{attrs:{leftOptions:[{type:"left_arrow_black",preventGoBack:!0}],title:e.tipHead},on:{leftHandler:e.goBack}}):e._e(),e._v(" "),e.tipConform?t("div",{staticClass:"main",domProps:{innerHTML:e._s(e.tipCont)}}):e._e(),e._v(" "),t("confirm",{attrs:{title:"提示","confirm-text":"我知道了"},model:{value:e.showComfirm,callback:function(a){e.showComfirm=a},expression:"showComfirm"}},[t("p",{staticClass:"tips"},[e._v(e._s(e.text))])])],1)},i=[],o={render:n,staticRenderFns:i};a.a=o},OmWI:function(e,a){},SPHO:function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"vux-check-icon",on:{click:e.updateValue}},[t("icon",{directives:[{name:"show",rawName:"v-show",value:"default"===e.type&&e.value,expression:"type === 'default' && value"}],attrs:{type:"success"}}),e._v(" "),t("icon",{directives:[{name:"show",rawName:"v-show",value:"plain"===e.type&&e.value,expression:"type === 'plain' && value"}],attrs:{type:"success_circle"}}),e._v(" "),t("icon",{directives:[{name:"show",rawName:"v-show",value:!e.value,expression:"!value"}],attrs:{type:"circle"}}),e._v(" "),t("span",[e._t("default")],2)],1)},i=[],o={render:n,staticRenderFns:i};a.a=o},XH9c:function(e,a){},diUy:function(e,a,t){"use strict";function n(e){t("XH9c")}Object.defineProperty(a,"__esModule",{value:!0});var i=(t("hnOO"),t("wyfU")),o=t("DpJo"),r=t("C7Lr"),s=n,c=r(i.a,o.a,!1,s,null,null);a.default=c.exports},hnOO:function(e,a,t){"use strict";var n=t("neaj"),i=t("IXui"),o=t("JGLT");n.a,i.a,o.a},neaj:function(e,a,t){"use strict";function n(e){t("OmWI")}var i=(t("s7ZW"),t("2hw5")),o=t("SPHO"),r=t("C7Lr"),s=n,c=r(i.a,o.a,!1,s,null,null);a.a=c.exports},s7ZW:function(e,a,t){"use strict";var n=t("hArn");n.a,Boolean,String},wyfU:function(e,a,t){"use strict";var n=t("neaj"),i=t("IXui"),o=t("JGLT");a.a={name:"freeLoansCredit",data:function(){return{pageParams:{new_apply_flag:!1,high_limit_user:!0,apply_card:"",round_rule_flag:"2",minimum_limit:"",maximum_limit:"",rate:"0"},showComfirm:!1,check:!0,tipsMsg:"《征信授权协议》",tipHead:"",tipCont:"",tipConform:!1,Params:this.$route.params,text:""}},computed:{getUserInfo:function(){return this.$store.getters.getStateKey("WL-Authentication-Success.UserInfoAuthRealm.attributes.data")},status:function(){return 0==this.check}},methods:{toast:function(e){this.showComfirm=!0,this.text=e},goHome:function(){this.$router.push({name:"cdbank_free_loans"})},goBack:function(){this.tipConform=!1},valid:function(e){var a=["0","1","2","7"],t=["R","S","L"];return-1!=a.indexOf(e.a)&&(-1!=t.indexOf(e.b)&&(!this.effectiveDate(e.c)&&(!e.d||-1!=d.indexOf(e.d))))},effectiveDate:function(e){var a=new Date;return y=String(a.getFullYear()).slice(-2),m=a.getMonth()+1,m=("0"+m).slice(-2),e-(y+m)<0},pactText:function(){var e=this,a={pactNo:"PB030011"};this.$vux.loading.show({text:"载入中"}),window.client.request({url:"/api/MH0017.json",adapterName:"CommonAdapter",isLogin:!0,funName:"second_MH0017",params:a,success:function(a){var t=a.invocationResult;e.tipConform=!0,e.$vux.loading.hide();var n=t.root;console.log(n),"0"===n.ec?(e.tipHead=n.cd.result.kColl.pactTitle,e.tipCont=n.cd.result.kColl.pactText):e.toast(n.em)},error:function(){e.$vux.loading.hide()}})},judgeValCardQuery:function(){var e=this;this.$vux.loading.show({text:"载入中"}),window.client.request({url:"/api/MH0601.json",adapter:"CommonAdapter",procedure:"MH0601",parameters:{},success:function(a){var t=a.invocationResult;e.$vux.loading.hide();var n=t.root;"0"===n.ec||e.toast(n.em)},error:function(){e.$vux.loading.hide()}})},agreeCredit:function(){var e=this;this.pageParams.apply_card="622166000085205",this.pageParams.round_rule_flag="2",this.pageParams.minimum_limit="1000",this.pageParams.maximum_limit="99999",this.pageParams.new_apply_flag=!0,this.pageParams.agreeAmt=0,this.pageParams.rate=.05,this.$vux.loading.show({text:"载入中"});var a={accountNo:this.$route.params.accountNo,srcCaseId:"1",projofNum:"1"};window.client.request({url:"/api/MH0122.json",adapter:"CommonAdapter",isLogin:!0,funName:"second_MH0122",parameters:a,success:function(a){var t=a.invocationResult;e.$vux.loading.hide(),"0"===t.root.ec?(e.pageParams.apply_card=e.Params.accountNo,e.pageParams.new_apply_flag?e.noCardRateQuery():e.cardBorrowBackPreAppl()):e.$router.push({name:"free_loans_noEnjoy"})},error:function(){e.$vux.loading.hide()}})},cardBorrowBackPreAppl:function(){var e=this;this.$vux.loading.show({text:"载入中"});var a={accountNo:this.$route.params.accountNo,caseType:"D"};window.client.request({url:"/api/MH0608.json",adapter:"CommonAdapter",parameters:a}).then(function(a){var t=a.invocationResult;e.$vux.loading.show({text:"载入中"});var n=t.root;if("0"===n.ec){var i="0."+n.cd.BRRate,o={accountNo:e.pageParams.apply_card,subCaseType:"2501",BaseRate:i,selfBankCode:"N",intoAcct:""};window.client.request({url:"/api/MH0607.json",adapter:"CommonAdapter",procedure:"MH0607",parameters:o,success:function(a){var t=a.invocationResult;console.log("MH0607"),e.$vux.loading.hide();var n=t.root;if("0"===n.ec){var o=Math.max(parseFloat(n.cd.maxInitAmt),parseFloat(n.cd.agreeAmt)),r={min:n.cd.minInitAmt,max:o,times:n.cd.largerTimes,buscode:"ZY",rate:i,new_apply_flag:!1,approveCode:n.cd.approveCode};e.loadpage(r)}else e.toast(n.em)},error:function(){e.$vux.loading.hide()}})}else e.toast(n.em)},function(a){e.$vux.loading.hide()})},noCardRateQuery:function(){var e=this;this.$vux.loading.show({text:"载入中"});var a={acceptAmt:"2000",cardNo:this.pageParams.apply_card,channelCode:"470",srcChannel:"MH",caseType:"S21"};window.client.request({url:"/api/MH0602.json",adapter:"CommonAdapter",procedure:"MH0602",parameters:a,success:function(a){var t=a.invocationResult;e.$vux.loading.hide();var n=t.root;if("0"==n.ec){var i=Math.max(parseFloat(n.cd.maxAmount),parseFloat(n.cd.adjustSum)),o={min:n.cd.minAmount,max:i,times:n.cd.largerTimes,buscode:"ZN",rate:n.cd.currentRate,new_apply_flag:!0,approveCode:""};e.loadpage(o)}else e.toast(n.em)},error:function(){e.$vux.loading.hide()}})},loadpage:function(e){this.pageParams.round_rule_flag=e.times,this.pageParams.minimum_limit=Math.round(e.min),this.pageParams.maximum_limit=Math.round(e.max),this.pageParams.new_apply_flag=e.new_apply_flag,this.pageParams.agreeAmt="0",this.pageParams.rate=e.rate||"0",!this.pageParams.maximum_limit||this.pageParams.maximum_limit-this.pageParams.minimum_limit<0||"RJ"==e.approveCode?this.$router.push({name:"free_loans_noEnjoy"}):this.$router.push({name:"free_loans_enjoy_money",params:this.pageParams})}},components:{CheckIcon:n.a,XButton:i.a,Confirm:o.a}}}});