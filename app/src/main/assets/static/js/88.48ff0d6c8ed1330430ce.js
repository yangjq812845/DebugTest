webpackJsonp([88],{"0Qor":function(e,t,a){"use strict";a.d(t,"g",function(){return l}),a.d(t,"e",function(){return p}),a.d(t,"c",function(){return h}),a.d(t,"h",function(){return c}),a.d(t,"i",function(){return u}),a.d(t,"j",function(){return d}),a.d(t,"k",function(){return f}),a.d(t,"f",function(){return v}),a.d(t,"d",function(){return m}),a.d(t,"m",function(){return b}),a.d(t,"l",function(){return C}),a.d(t,"b",function(){return y}),a.d(t,"a",function(){return g});var n=a("YTJj"),r=(a.n(n),a("a3Yh")),o=a.n(r),i=a("rVsN"),s=a.n(i),l=function(){return new s.a(function(e,t){window.client.request({url:"/api/MH0003.json",adapter:"CommonAdapter",procedure:"MH0003",parameters:"[{'tranCode':'MH0003','srcChannel':'MH'}]",success:function(a){var n=a.root;if("0"==n.ec){for(var r=[],o=n.cd.result.kColl,i=0;i<o.length;i++)r.push({key:o[i].aprShowMsg,value:o[i].aprValue});e(r)}else t(n.em)},error:function(){console.log("loadMH0003错误")}})})},c=function(e){return new s.a(function(t,a){window.client.request({url:"/api/MH0078.json",adapter:"CommonAdapter",isLogin:!0,procedure:"second_MH0078",parameters:"[{'tranCode':'MH0078','srcChannel':'MH','cardNo':"+e+"}]",success:function(e){"0"==e.header.errorCode||"1"==e.header.errorCode?t(e.header.errorCode):a(e.header.errorMsg)},error:function(){console.log("MH0078接口错误")}})})},u=function(e){return new s.a(function(t,a){window.client.request({url:"/api/MH0234.json",adapter:"CommonAdapter",procedure:"MH0234",parameters:"[{'tranCode':'MH0234','cardNo':"+e+"}]",success:function(e){"0"==e.header.errorCode?t(e.body.getCardNo):a(e.header.errorMsg)},error:function(){console.log("loadMH0234接口错误")}})})},d=function(e){var t=e.keyFactor,a=e.isActive,n=e.submitType,r=e.getUserInfo;console.log(t);var o=(t.activeFlag=a,t);return new s.a(function(e,t){window.client.request({url:"/api/MH0321.json",adapter:"CommonAdapter",procedure:"MH0321",parameters:"["+o+"]",success:function(t){var o=t.body;if("0"==o.ec){var i={};if("Y"==a)switch(o.returnCode){case"00":i={resBody:o,num:"04",fixedCardState:"activeSuccess"};break;case"01":i={resBody:o,num:"04",fixedCardState:"canActive"};break;case"10":case"20":i={resBody:o,num:"04",fixedCardState:"activeFailure"}}else if("1"==n)i={resBody:o,num:"04",fixedCardState:"activeSuccess"};else if("2"==n&&"01"==o.returnCode)i={resBody:o,num:"04",fixedCardState:"canActive"};else{if("3"!=n||"01"!=o.returnCode&&"10"!=o.returnCode&&"20"!=o.returnCode)return!1;i={resBody:o,num:"04",fixedCardState:"cannotActive"}}e(i)}else void 0!=r.CardType&&("JK_card"==r.CardType?p("您的登录手机号与在我行预留的手机号不一致,建议试用预留手机号注册/登录"):"BF_card"==r.CardType&&p("您的登录手机号与在我行预留的手机号不一致,建议试用预留手机号注册/登录"))},error:function(){console.log("loadMH0321接口错误")}})})},f=function(e){var t=e.accountNo,a=e.certType,n=e.certNo;return new s.a(function(e,r){window.client.request({url:"/api/MH0320.json",adapter:"CommonAdapter",procedure:"MH0320",parameters:"[{'tranCode':'MH0320','srcChannel':'MH','accountNo':"+t+",'certType':"+a+",'certNo':"+n+"}]",success:function(t){if("0"==t.body.ec)if("0"==t.body.optionFlag){var a=t.body.mobileNo;console.log(a.length-4);var n=a.substr(a.length-4,4);console.log(n),p("已向尾号为"+n+"的手机号发送验证码"),e("1")}else p("请稍后再重新获取!"),r("0");else console.log(t.body.em)},error:function(){console.log("loadMH0320错误")}})})},p=function(e){__Vue__.$vux.toast.show({text:e,type:"text",height:"10rem",width:"60%"})},h=function(e,t){var a="";switch(e+="",t){case"1":a=e.replace(/(\d{4})/g,"$1 ");break;case"2":a=e.split(" ").join("");break;case"3":a=e.substr(0,4)+"****"+e.substr(e.length-4,4);break;default:a=e}return a},v=function(e){var t=e.customerId,a=e.mobileNo;return new s.a(function(e,n){window.client.request({url:"/api/MH0348.json",adapter:"CommonAdapter",procedure:"MH0348",parameters:"'tranCode':'MH0348','srcChannel':'MH','transferFlowNoNew':'1111111111','customerId':"+t+",'mobileNo':"+a,success:function(t){"0"==t.body.ec?e("00"==t.body.pswdStatus?!0:!1):console.log(t.body.em)},error:function(){console.log("MH0348接口错误!")}})})},m=function(e){var t=e.cardNo,a=e.cerdNo,n=e.num,r=e.option,i=e.name,l=e.mobileNo;return new s.a(function(e,s){var c,u=(c={tranCode:"MH0437",bankNo:"171002",fwdCode:"03069201",ClientManager:"03069201",transferKindOTra:"100003",acctNo:t},o()(c,"tranCode","MH0437"),o()(c,"srcChannel","MH"),c);"0"==n?(u.idno=encodeURI(a),u.idtype=r,u.custName=encodeURI(i)):u.oBankMobileNo=l,window.client.request({url:"/api/MH0437.json",adapter:"CommonAdapter",procedure:"MH0437",parameters:"["+u+"]",success:function(t){if("0"==t.body.ec){var a={};a.relNo=t.body.relNo,a.xid=t.body.xid,a.hostReturnTime=t.body.hostReturnTime,a.all=!0,e(a)}else p(t.body.em)},error:function(){console.log("MH0437接口错误!")}})})},b=function(e){var t=e.cardNo,a=e.mobileNo;return new s.a(function(e,n){window.client.request({url:"/api/MH0345li.json",adapter:"CommonAdapter",procedure:"MH0435",parameters:"[{'tranCode':'','srcChannel':'','merId':'','transType':'','data':'','signData':'','remark':'','accNo':"+t+",'phone':"+a+"}]",success:function(t){"0"==t.header.errorCode&&"0"==t.body.ec?e(t.body):p(t.body.em)},error:function(){console.log("MH0345接口错误!")}})})},C=function(e){var t=e.cardNo;return new s.a(function(e,a){window.client.request({url:"/api/MH0346.json",adapter:"CommonAdapter",procedure:"second_MH0346",parameters:'[{"tranCode": "", "srcChannel": "", "mobileNo": "", "txnType": "", "txnSubType": "",  "bizType": "", "accessType": "", "channelType": "", "acqInsCode": "", "merId": "", "merName": "", "merAbbr": "", "subMerId": "", "subMerName": "", "subMerAbbr": "", "orderId": "", "txnTime": "","accNo": "", "customerInfo": "", "encryptCertId": "", "encryptCard": '+t+',\t"cardFrontNo": '+t.substr(0,6)+', "cardEndNo": '+t.substr(t.length-4,t.length)+"}]",success:function(t){"0"==t.header.errorCode&&"0"==t.body.ec?e(t.body):p(t.header.em)},error:function(){console.log("MH0346接口错误")}})})},g=function(e){var t="",a="default",n="black";switch(e){case"CGB":t="广发银行",a="00",n="red";break;case"BOC":t="中国银行",a="01",n="red";break;case"ICBC":t="工商银行",a="02",n="red";break;case"CMB":t="招商银行",a="03",n="red";break;case"HXB":t="华夏银行",a="04",n="red";break;case"CNCB":t="中信银行",a="05",n="red";break;case"BCCB":t="北京银行",a="06",n="red";break;case"GZCB":t="广州银行",a="07",n="red";break;case"CCB":t="建设银行",a="08",n="blue";break;case"BOCOM":t="交通银行",a="09",n="blue";break;case"SPDB":t="浦发银行",a="10",n="blue";break;case"BOS":t="上海银行",a="11",n="blue";break;case"ABC":t="农业银行",a="12",n="green";break;case"CMBC":t="民生银行",a="13",n="green";break;case"PSBC":t="邮政储蓄银行",a="14",n="green";break;case"PAB":t="平安银行",a="15",n="yellow";break;case"CEB":t="光大银行",a="16",n="purple";break;case"DGCB":t="东莞银行";break;case"BOHC":t="渤海银行";break;case"BOJS":t="江苏银行";break;case"BOLY":t="洛阳银行";break;case"BOSZS":t="石嘴山银行";break;case"CBCRB":t="重庆北碚稠州村镇银行";break;case"CQRCB":t="重庆农商银行";break;case"GHCRB":t="花都稠村镇银行";break;case"FUXINBANK":t="阜新银行";break;case"GXNX":t="广西农村信用社";break;case"GDRCC":t="广东农村信用社";break;case"HBXH":t="湖北农村信用社";break;case"HEBNX":t="河北农村信用社";break;case"AHRCU":t="安徽农村信用社";break;case"BRCB":t="北京农商银行";break;case"GRCB":t="广州农商银行";break;case"JLCB":t="吉林银行";break;case"JLPRCU":t="吉林农村信用社";break;case"JNBANK":t="济宁银行";break;case"JSRCU":t="江苏农村信用社";break;case"JNRCB":t="江南农商银行";break;case"JYRB":t="江苏江阴农商银行";break;case"LJB":t="龙江银行";break;case"KSRB":t="昆山农商银行";break;case"QHRCU":t="青海农村信用社";break;case"RCCOSD":t="山东农村信用社";break;case"SCRCU":t="四川农村信用社";break;case"SDEBANK":t="佛山顺德农村信用社";break;case"SDRCB":t="顺德农商银行";break;case"SZRB":t="深圳农商银行";break;case"TJBHB":t="天津滨海农商银行";break;case"XMCCB":t="厦门银行";break;case"YCCCB":t="宁夏银行";break;case"YDRCB":t="山西尧都农商银行";break;case"YZRB":t="宁波鄞州农村合作银行";break;case"ZYCCB":t="遵义商业银行";break;case"GHB":t="广东华兴银行";break;case"SDB":t="深圳发展银行";break;default:t=card.issInsName}return t.length>10&&(t=t.substring(0,10)+"..."),{bank:t,LOGO:a,color:n}},y=function(e){var t="";switch(e){case"1":t="理财通卡";break;case"2":t="信用卡";break;case"3":t="定期存折";break;case"4":t="活期存折";break;case"5":t="定期存单";break;case"00":t="未知";break;case"01":t="储蓄卡";break;case"02":t="信用卡";break;case"03":t="准贷记账户";break;case"04":t="借贷合一账户";break;case"05":t="预付费账户";break;case"06":t="半开放预付费账户"}return t}},"44WN":function(e,t,a){"use strict";t.a=function(){return{options:{type:Array,required:!0},value:[String,Number],fillMode:{type:Boolean,default:!1},fillPlaceholder:{type:String,default:"其他"},fillLabel:{type:String,default:"其他"},disabled:Boolean,selectedLabelStyle:Object}}},CzPk:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("xcgb-box",[a("xcgb-head",{attrs:{title:"添加信用卡",keepAlive:!1,leftOptions:[{type:"left_arrow_black"}]}}),e._v(" "),a("div",{staticClass:"main"},[a("group",{attrs:{"label-width":"6em",title:"请绑定持卡人本人的信用卡"}},[a("x-input",{staticClass:"name_certNo",attrs:{title:"卡号",value:e.cardList,disabled:""}}),e._v(" "),a("confirm",{attrs:{title:"是否激活卡片","confirm-text":"确认"},on:{"on-confirm":e.comfirmBtn,"on-hide":e.onhide},model:{value:e.showComfirm,callback:function(t){e.showComfirm=t},expression:"showComfirm"}},[a("p",{staticClass:"tips"},[e._v("是否激活卡片")])]),e._v(" "),a("x-input",{attrs:{title:"有效期",max:5,placeholder:"输入月份/年份"},on:{"on-change":e.changer},model:{value:e.allData.validDate,callback:function(t){e.$set(e.allData,"validDate",t)},expression:"allData.validDate"}}),e._v(" "),a("x-input",{attrs:{title:"cvv2",max:3,placeholder:"请输入卡背面签名栏末3位数字"},on:{"on-blur":function(t){e.allBlur("cvv")}},model:{value:e.allData.cvv2Code,callback:function(t){e.$set(e.allData,"cvv2Code",t)},expression:"allData.cvv2Code"}}),e._v(" "),a("div",{staticClass:"cardGroup"},[a("group",{attrs:{gutter:0}},[a("span",{staticClass:"paperType"},[e._v("证件类型")]),e._v(" "),a("popup-radio",{style:{textAlign:"right"},attrs:{options:e.options1,show1:!1},scopedSlots:e._u([{key:"each-item",fn:function(t){return[a("p",[e._v(e._s(t.label))])]}}]),model:{value:e.allData.option1,callback:function(t){e.$set(e.allData,"option1",t)},expression:"allData.option1"}})],1)],1),e._v(" "),a("x-input",{attrs:{title:"证件号码",max:18,placeholder:"请输入证件号"},on:{"on-blur":function(t){e.allBlur("certNo")}},model:{value:e.allData.certNo,callback:function(t){e.$set(e.allData,"certNo",t)},expression:"allData.certNo"}}),e._v(" "),a("x-input",{staticClass:"weui-vcode",attrs:{title:"短信验证码",id:"smsCode",placeholder:"请输入短信验证码",max:6},on:{"on-blur":function(t){e.allBlur("smsCode")}},model:{value:e.allData.smsCode,callback:function(t){e.$set(e.allData,"smsCode",t)},expression:"allData.smsCode"}})],1),e._v(" "),a("x-button",{staticClass:"smsCode",class:[e.countting?"smsCode_gray":"smsCode_red"],attrs:{type:[e.countting?"default":"warn"],disabled:e.countting,mini:""},nativeOn:{click:function(t){return e.getSmsCode(t)}}},[e._v(e._s(e.getCodeText))]),e._v(" "),a("x-button",{class:[e.nextStepButton?"clickNextStep":"nextStep"],attrs:{type:[e.nextStepButton?"warn":"submit"],"action-type":"button",plain:"",disabled:!e.countting},nativeOn:{click:function(t){return e.nextStep(t)}}},[e._v("确认添加")])],1)],1)},r=[],o={render:n,staticRenderFns:r};t.a=o},J4oA:function(e,t,a){"use strict";var n=a("hRKE"),r=a.n(n),o=a("4YfN"),i=a.n(o),s=a("r0Vc"),l=a("Y9TT"),c=a.n(l),u=a("CKVb"),d=a("gpPJ"),f=a("cTn1"),p=a("sm8H"),h=a("Jp5S");delete s.a.value;h.a,i()({placeholder:String,readonly:Boolean},s.a,s.b,{showAddCard:{type:Boolean,default:!1}}),u.a,f.a,p.a,d.a},JwlZ:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"weui-cells_radio",class:e.disabled?"vux-radio-disabled":""},[e._l(e.options,function(t,n){return a("label",{staticClass:"weui-cell weui-cell_radio weui-check__label",attrs:{for:"radio_"+e.uuid+"_"+n}},[a("div",{staticClass:"weui-cell__bd"},[e._t("each-item",[a("p",[a("img",{directives:[{name:"show",rawName:"v-show",value:t&&t.icon,expression:"one && one.icon"}],staticClass:"vux-radio-icon",attrs:{src:t.icon}}),e._v(" "),a("span",{staticClass:"vux-radio-label",style:e.currentValue===e.getKey(t)?e.selectedLabelStyle||"":""},[e._v(e._s(e._f("getValue")(t)))])])],{icon:t.icon,label:e.getValue(t),index:n,selected:e.currentValue===e.getKey(t)})],2),e._v(" "),a("div",{staticClass:"weui-cell__ft"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"weui-check",attrs:{type:"radio",id:e.disabled?"":"radio_"+e.uuid+"_"+n},domProps:{value:e.getKey(t),checked:e._q(e.currentValue,e.getKey(t))},on:{change:function(a){e.currentValue=e.getKey(t)}}}),e._v(" "),a("span",{staticClass:"weui-icon-checked"})])])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.fillMode,expression:"fillMode"}],staticClass:"weui-cell"},[a("div",{staticClass:"weui-cell__hd"},[a("label",{staticClass:"weui-label",attrs:{for:""}},[e._v(e._s(e.fillLabel))])]),e._v(" "),a("div",{staticClass:"weui-cell__bd"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.fillValue,expression:"fillValue"}],staticClass:"weui-input needsclick",attrs:{type:"text",placeholder:e.fillPlaceholder},domProps:{value:e.fillValue},on:{blur:function(t){e.isFocus=!1},focus:function(t){e.onFocus()},input:function(t){t.target.composing||(e.fillValue=t.target.value)}}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:""===e.value&&!e.isFocus,expression:"value==='' && !isFocus"}],staticClass:"weui-cell__ft"},[a("i",{staticClass:"weui-icon-warn"})])])],2)},r=[],o={render:n,staticRenderFns:r};t.a=o},QCLK:function(e,t,a){"use strict";var n=a("0Qor"),r=a("JGLT"),o=a("CKVb"),i=a("gpPJ"),s=a("fvyU"),l=a("IXui"),c=a("f4gh"),u=a("Jp5S"),d=a("QlY8");r.a,o.a,i.a,s.a,l.a,c.a,u.a,d.a},QlY8:function(e,t,a){"use strict";function n(e){a("Y0kP")}var r=(a("J4oA"),a("UDD/")),o=a("RKJx"),i=a("C7Lr"),s=n,l=i(r.a,o.a,!1,s,null,null);t.a=l.exports},RKJx:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("cell",{staticClass:"select-card",attrs:{title:e.displayValue,value:e.currentValue,"is-link":!e.readonly,"value-align":e.valueAlign},nativeOn:{click:function(t){return e.show(t)}}},[!e.displayValue&&e.placeholder?n("span",{staticClass:"vux-cell-placeholder"},[e._v(e._s(e.placeholder))]):e._e(),e._v(" "),n("span",{attrs:{slot:"icon"},slot:"icon"},[e._t("icon")],2),e._v(" "),n("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[n("popup",{staticClass:"select-card-popup",staticStyle:{"background-color":"#f6f6f6"},on:{"on-hide":function(t){e.$emit("on-hide")},"on-show":function(t){e.$emit("on-show")}},model:{value:e.showPopup,callback:function(t){e.showPopup=t},expression:"showPopup"}},[e._t("popup-header",null,{options:e.options,value:e.currentValue}),e._v(" "),n("div",{staticClass:"popup-title"},[n("img",{attrs:{src:a("x0Ou"),alt:""},on:{click:e.hide}}),e._v(" "),n("span",[e._v("请选择")])]),e._v(" "),n("radio",{staticStyle:{"background-color":"#fff"},attrs:{options:e.options,"fill-mode":!1},on:{"on-change":e.onValueChange},scopedSlots:e._u([{key:"each-item",fn:function(t){return[e._t("each-item",[n("p",[n("img",{directives:[{name:"show",rawName:"v-show",value:t.icon,expression:"props.icon"}],staticClass:"vux-radio-icon",attrs:{src:t.icon}}),e._v(" "),n("span",{staticClass:"vux-radio-label"},[e._v(e._s(t.label))])])],{icon:t.icon,label:t.label,index:t.index})]}}]),model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}}),e._v(" "),e.showAddCard?n("group",{attrs:{gutter:10}},[n("cell",{attrs:{title:"添加卡片",isLink:!0},nativeOn:{click:function(t){return e.toAddCard(t)}}})],1):e._e()],2)],1)])},r=[],o={render:n,staticRenderFns:r};t.a=o},RzWy:function(e,t){},TO5N:function(e,t,a){"use strict";function n(e){a("RzWy")}Object.defineProperty(t,"__esModule",{value:!0});var r=(a("QCLK"),a("h+JC")),o=a("CzPk"),i=a("C7Lr"),s=n,l=i(r.a,o.a,!1,s,null,null);t.default=l.exports},"UDD/":function(e,t,a){"use strict";var n=a("hRKE"),r=a.n(n),o=a("4YfN"),i=a.n(o),s=a("r0Vc"),l=a("Y9TT"),c=a.n(l),u=a("CKVb"),d=a("gpPJ"),f=a("cTn1"),p=a("sm8H"),h=a("Jp5S");delete s.a.value,t.a={name:"selectCard",directives:{TransferDom:h.a},props:i()({placeholder:String,readonly:Boolean},s.a,s.b,{showAddCard:{type:Boolean,default:!1}}),data:function(){return{showPopup:!1,currentValue:this.value}},computed:{displayValue:function(){var e=this;if(!this.options.length)return"";if("object"===r()(this.options[0])){var t=c()(this.options,function(t){return t.key===e.currentValue});if(t)return t.value}return this.currentValue}},components:{Group:u.a,Popup:f.a,Radio:p.a,Cell:d.a},watch:{value:function(e){this.currentValue=e},currentValue:function(e){this.$emit("input",e),this.$emit("on-change",e)}},methods:{onValueChange:function(e){this.hide()},show:function(){this.readonly||(this.showPopup=!0)},hide:function(){this.showPopup=!1},toAddCard:function(){this.showPopup=!1,this.$router.push({name:"cdbank_add_credit"})}}}},Y0kP:function(e,t){},Y9TT:function(e,t){function a(e,t,a){if("function"==typeof Array.prototype.find)return e.find(t,a);a=a||this;var n,r=e.length;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(n=0;n<r;n++)if(t.call(a,e[n],n,e))return e[n]}e.exports=a},YTJj:function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}},dl3a:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return i}),a.d(t,"c",function(){return s});var n=a("hRKE"),r=a.n(n),o=function(e){return"object"===(void 0===e?"undefined":r()(e))?e.value:e},i=function(e){return"object"===(void 0===e?"undefined":r()(e))?e.key:e},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(!e.length)return t;if("string"==typeof e[0])return t;var a=e.filter(function(e){return e.key===t});return a.length?a[0].value||a[0].label:t}},"h+JC":function(e,t,a){"use strict";var n=a("0Qor"),r=a("JGLT"),o=a("CKVb"),i=a("gpPJ"),s=a("fvyU"),l=a("IXui"),c=a("f4gh"),u=a("Jp5S"),d=a("QlY8");t.a={name:"registerList",data:function(){return{cardType:{},virtualCardNo:"",showComfirm:!1,activate:"",allData:{validDate:"",cvv2Code:"",smsCode:"",certNo:"",option1:"身份证",accountNo:""},countting:!1,getCodeText:"获取",options1:["身份证"],nameElements:""}},components:{Confirm:r.a,Group:o.a,Cell:i.a,XInput:s.a,XButton:l.a,Toast:c.a,TransferDom:u.a,PopupRadio:d.a},computed:{getUserInfo:function(){return this.$store.getters.getStateKey("WL-Authentication-Success.UserInfoAuthRealm.attributes.data").data},cardList:function(){return this.virtualCardNo=this.$route.params.virtualCardNo,this.allData.accountNo=this.$route.params.virtualCardNo,a.i(n.c)(this.virtualCardNo,"3")},nextStepButton:function(){return!("3"!=this.allData.cvv2Code.length||!_.isIDNumber(this.allData.certNo)||"6"!=this.allData.smsCode.length||"1"!=this.nameElements)}},methods:{allBlur:function(e){"cvv2Code"==e?"3"!=this.allData.cvv2Code.length&&a.i(n.e)("cvv2输入有误,请重新输入!"):"certNo"==e?_.isIDNumber(this.allData.certNo)||a.i(n.e)("身份证输入有误,请重新输入!"):"smsCode"==e&&"6"!=this.allData.smsCode.length&&a.i(n.e)("验证码输入有误, 请重新输入!")},changer:function(){if("2"==this.allData.validDate.length)this.allData.validDate<"12"&&this.allData.validDate>"0"?this.allData.validDate=this.allData.validDate+"/":a.i(n.e)("有效期格式不对");else if("5"==this.allData.validDate.length)if("/"==this.allData.validDate.substr(2,1)){if("02"==this.allData.validDate.substr(0,2)){if(this.allData.validDate.substr(this.allData.validDate.length-2,2)<28&&this.allData.validDate.substr(this.allData.validDate.length-2,2)>0)return this.nameElements="1",!0;this.nameElements="0",a.i(n.e)("有效期格式不对")}else if(["1","3","5","7","8","10","12"].includes(this.allData.validDate.substr(0,2))){if(this.allData.name.substr(this.allData.validDate.length-2,2)<31&&this.allData.validDate.substr(this.allData.validDate.length-2,2)>0)return this.nameElements="1",!0;this.nameElements="0",a.i(n.e)("有效期格式不对")}else if(["4","6","9","11"].includes(this.allData.validDate.substr(0,2))){if(this.allData.validDate.substr(this.allData.validDate.length-2,2)<30&&this.allData.validDate.substr(this.allData.validDate.length-2,2)>0)return this.nameElements="1",!0;this.nameElements="0",a.i(n.e)("有效期格式不对")}}else this.nameElements="0",a.i(n.e)("有效期格式不对")},nextStep:function(){var e=this;if("0"==this.virtualCardNo.substr(6,1))a.i(n.e)("暂不支持商务卡注册,请重新输入");else{var t=this.allData;t.tranCode="MH0321",t.srcChannel="MH",t.busCode="AC",t.tempFlag="N",t.pushType="Y",t.flag="2",a.i(n.h)(this.virtualCardNo).then(function(r){"0"==r?a.i(n.i)(e.virtualCardNo).then(function(r){"00"==r?(e.showComfirm=!0,""!=e.activate&&("1"==e.activ?a.i(n.j)({keyFactor:t,isActive:"Y",getUserInfo:e.getUserInfo}).then(function(t){e.consequence({num:t.num,resBody:t.resBody,fixedCardState:t.fixedCardState})}):a.i(n.j)({keyFactor:t,isActive:"N",submitType:"2",getUserInfo:e.getUserInfo}).then(function(t){e.consequence({num:t.num,resBody:t.resBody,fixedCardState:t.fixedCardState})}))):a.i(n.j)({keyFactor:t,isActive:"N",submitType:"3",getUserInfo:e.getUserInfo}).then(function(t){e.consequence({num:t.num,resBody:t.resBody,fixedCardState:t.fixedCardState})})}).catch(function(e){console.log(e)}):a.i(n.j)({keyFactor:t,isActive:"N",submitType:"1",getUserInfo:e.getUserInfo}).then(function(t){e.consequence({num:t.num,resBody:t.resBody,fixedCardState:t.fixedCardState})})}).catch(function(e){console.log(e)})}},getSmsCode:function(){var e=this;a.i(n.k)({accountNo:this.virtualCardNo,certType:this.allData.option1,certNo:this.allData.certNo}).then(function(t){e.queryTime()}).catch(function(e){console.log(e)})},queryTime:function(){var e=this;if("获取"==this.getCodeText){this.getCodeText=60,this.countting=!0;var t=setInterval(function(){--e.getCodeText||(e.getCodeText="获取",e.countting=!1,clearInterval(t))},1e3)}},comfirmBtn:function(){this.activate="1"},onhide:function(){this.activate="0"},consequence:function(e){e.num,e.resBody,e.fixedCardState;console.log(" 重新登录"),a.i(n.e)("添加成功！"),setTimeout(function(){console.log("跳转到设置支付密码页面")},3e3)}},created:function(){var e=this;a.i(n.g)().then(function(t){e.cardType=t}).catch(function(e){a.i(n.e)(e)})}}},jf31:function(e,t,a){"use strict";function n(e,t){for(var a=e.length;a--;)if(e[a]===t)return!0;return!1}var r=a("qWCq"),o=a("dl3a"),i=a("44WN");t.a={name:"radio",mixins:[r.a],filters:{getValue:o.a,getKey:o.b},props:a.i(i.a)(),created:function(){this.handleChangeEvent=!0},methods:{getValue:o.a,getKey:o.b,onFocus:function(){this.currentValue=this.fillValue||"",this.isFocus=!0}},watch:{value:function(e){this.currentValue=e},currentValue:function(e){var t=n(this.options,e);""!==e&&t&&(this.fillValue=""),this.$emit("on-change",e,a.i(o.c)(this.options,e)),this.$emit("input",e)},fillValue:function(e){this.fillMode&&this.isFocus&&(this.currentValue=e)}},data:function(){return{fillValue:"",isFocus:!1,currentValue:this.value}}}},qyAu:function(e,t,a){"use strict";function n(e,t){for(var a=e.length;a--;)if(e[a]===t)return!0;return!1}var r=a("qWCq"),o=a("dl3a"),i=a("44WN");r.a,o.a,o.b,a.i(i.a)(),o.a,o.b},r0Vc:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return r});var n={options:{type:Array,required:!0},value:[String,Number],fillMode:{type:Boolean,default:!1},fillPlaceholder:{type:String,default:"其他"},fillLabel:{type:String,default:"其他"},disabled:Boolean,selectedLabelStyle:Object},r={title:[String,Number],value:[String,Number,Array],isLink:Boolean,isLoading:Boolean,inlineDesc:[String,Number],primary:{type:String,default:"title"},link:[String,Object],valueAlign:[String,Boolean,Number],borderIntent:{type:Boolean,default:!0},disabled:Boolean,arrowDirection:String,alignItems:String}},r36s:function(e,t){},sm8H:function(e,t,a){"use strict";function n(e){a("r36s")}var r=(a("qyAu"),a("jf31")),o=a("JwlZ"),i=a("C7Lr"),s=n,l=i(r.a,o.a,!1,s,null,null);t.a=l.exports},x0Ou:function(e,t,a){e.exports=a.p+"static/img/nav_icon_close.png"}});