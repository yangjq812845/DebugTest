webpackJsonp([246],{"0ev+":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("xcgb-box",[n("xcgb-head",{attrs:{title:"添加借记卡",keepAlive:!1,leftOptions:[{type:"left_arrow_black"}]}}),t._v(" "),n("div",{staticClass:"main"},[n("group",{attrs:{title:"仅限您名下的I类借记卡账户（同行或他行均可）"}},[n("cell",{staticClass:"debit",attrs:{title:"借记卡号"}},[n("x-input",{attrs:{max:19,placeholder:"请输入您的储蓄账号"},model:{value:t.newDebit,callback:function(e){t.newDebit=e},expression:"newDebit"}}),t._v(" "),n("img",{attrs:{src:a("23Ry")},on:{click:t.getCode}})],1),t._v(" "),n("cell",{attrs:{title:"所属银行"}},[n("x-input",{attrs:{max:19,disabled:t.isUpdateBank},model:{value:t.bankName,callback:function(e){t.bankName=e},expression:"bankName"}})],1),t._v(" "),n("cell",{attrs:{title:"户名"}},[n("x-input",{attrs:{max:19,disabled:t.isUpdateBank},model:{value:t.accountName,callback:function(e){t.accountName=e},expression:"accountName"}})],1)],1),t._v(" "),n("x-button",{attrs:{"action-type":"button",disabled:t.status},nativeOn:{click:function(e){return t.Btn(e)}}},[t._v("确定 ")])],1)],1)},s=[],i={render:n,staticRenderFns:s};e.a=i},"23Ry":function(t,e,a){t.exports=a.p+"static/img/pas_scan.png"},J3WC:function(t,e){},LcOb:function(t,e,a){"use strict";var n=a("JGLT"),s=a("gpPJ"),i=a("CKVb"),o=a("fvyU"),r=a("IXui"),c=a("9r/T");a.n(c);e.a={name:"newAddDebitCard",data:function(){return{paramsInfo:"",isUpdateBank:!0,newDebit:"",bankName:"",accountName:"",accountNo:"",userPass:""}},computed:{status:function(){var t=/^62256852\d{8}$|^62256854\d{8}$/;return!/^(\d{16})$|^(\d{19})$/.test(this.newDebit)||t.test(this.newDebit)},getUserInfo:function(){return this.$store.getters.getStateKey("WL-Authentication-Success.UserInfoAuthRealm.attributes.data").data}},components:{Cell:s.a,Group:i.a,XInput:o.a,XButton:r.a,Confirm:n.a},methods:{pageShow:function(){this.paramsInfo=this.$route.params,this.accountName=this.getUserInfo.otherBankCardList[0].accountName,this.newDebit=this.paramsInfo.accountNo,this.bankName=this.paramsInfo.bankName},otherBankBtn:function(){console.log("他行卡啊"),this.judgeInput(),(this.userPass.length<6||""===this.userPass)&&this.$vux.toast.text("请输入6位提现码")},judgeInput:function(t){var e=/\D/,a=/^62256852\d{8}$|^62256854\d{8}$/;return""===t?void this.$vux.toast.text("卡号不能为空"):t.length<16?void this.$vux.toast.text("卡号不能低于16位"):e.test(t)?void this.$vux.toast.text("卡号只能为数字"):a.test(t)?void this.$vux.toast.text("暂不支持添加电子账户"):void 0},Btn:function(){var t=this;if("1"==this.paramsInfo.protocolSts){console.log("本行卡啊");var e=this.getUserInfo.customerId,n={tranCode:"MH0219",srcChannel:"MH",customerId:e,DebitCardNo:this.newDebit,bankName:encodeURI("广发银行"),cardfirst4:this.newDebit.substr(0,4),cardfirst6:this.newDebit.substr(0,6),cardtemp:"1",certNo:this.paramsInfo.certNo};window.client.request({ifpUrl:"/mp/MP1367.do",url:"/api/MH0219.json",procedure:"MH0219",adapter:"CommonAdapter",parameters:n,success:function(e){if("0"==e.cardstatusbin){t.$vux.toast.text("修改成功");var n=t;a.i(c.setTimeout)(function(){n.$router.push({name:"gathering_register_receipt",params:""})},2e3)}else t.$vux.toast.text("请输入正确的本行借记卡号")},error:function(){}})}},getCode:function(){alert("调用相机")}},created:function(){this.pageShow(),console.log(this.$route.params)}}},Pu22:function(t,e,a){"use strict";function n(t){a("J3WC")}Object.defineProperty(e,"__esModule",{value:!0});var s=(a("fRfl"),a("LcOb")),i=a("0ev+"),o=a("C7Lr"),r=n,c=o(s.a,i.a,!1,r,null,null);e.default=c.exports},fRfl:function(t,e,a){"use strict";var n=a("JGLT"),s=a("gpPJ"),i=a("CKVb"),o=a("fvyU"),r=a("IXui"),c=a("9r/T");a.n(c),s.a,i.a,o.a,r.a,n.a}});